var _M=Object.defineProperty,IM=Object.defineProperties;var wM=Object.getOwnPropertyDescriptors;var Jw=Object.getOwnPropertySymbols,EM=Object.getPrototypeOf,DM=Object.prototype.hasOwnProperty,bM=Object.prototype.propertyIsEnumerable,CM=Reflect.get;var Xw=(t,e,n)=>e in t?_M(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||={})DM.call(e,n)&&Xw(t,n,e[n]);if(Jw)for(var n of Jw(e))bM.call(e,n)&&Xw(t,n,e[n]);return t},de=(t,e)=>IM(t,wM(e));var $r=(t,e,n)=>CM(EM(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(l){i(l)}},o=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});function eE(t,e){return Object.is(t,e)}var Ke=null,Ou=!1,Fu=1,ir=Symbol("SIGNAL");function ge(t){let e=Ke;return Ke=t,e}function tE(){return Ke}var Ra={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function rp(t){if(Ou)throw new Error("");if(Ke===null)return;Ke.consumerOnSignalRead(t);let e=Ke.nextProducerIndex++;if(Uu(Ke),e<Ke.producerNode.length&&Ke.producerNode[e]!==t&&Aa(Ke)){let n=Ke.producerNode[e];ju(n,Ke.producerIndexOfThis[e])}Ke.producerNode[e]!==t&&(Ke.producerNode[e]=t,Ke.producerIndexOfThis[e]=Aa(Ke)?sE(t,Ke,e):0),Ke.producerLastReadVersion[e]=t.version}function TM(){Fu++}function nE(t){if(!(Aa(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Fu)){if(!t.producerMustRecompute(t)&&!sp(t)){t.dirty=!1,t.lastCleanEpoch=Fu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Fu}}function rE(t){if(t.liveConsumerNode===void 0)return;let e=Ou;Ou=!0;try{for(let n of t.liveConsumerNode)n.dirty||SM(n)}finally{Ou=e}}function iE(){return Ke?.consumerAllowSignalWrites!==!1}function SM(t){t.dirty=!0,rE(t),t.consumerMarkedDirty?.(t)}function Lu(t){return t&&(t.nextProducerIndex=0),ge(t)}function ip(t,e){if(ge(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Aa(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ju(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function sp(t){Uu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(nE(n),r!==n.version))return!0}return!1}function op(t){if(Uu(t),Aa(t))for(let e=0;e<t.producerNode.length;e++)ju(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function sE(t,e,n){if(oE(t),t.liveConsumerNode.length===0&&aE(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=sE(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function ju(t,e){if(oE(t),t.liveConsumerNode.length===1&&aE(t))for(let r=0;r<t.producerNode.length;r++)ju(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Uu(i),i.producerIndexOfThis[r]=e}}function Aa(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Uu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function oE(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function aE(t){return t.producerNode!==void 0}function cE(t){let e=Object.create(AM);e.computation=t;let n=()=>{if(nE(e),rp(e),e.value===Vu)throw e.error;return e.value};return n[ir]=e,n}var tp=Symbol("UNSET"),np=Symbol("COMPUTING"),Vu=Symbol("ERRORED"),AM=de(O({},Ra),{value:tp,dirty:!0,error:null,equal:eE,producerMustRecompute(t){return t.value===tp||t.value===np},producerRecomputeValue(t){if(t.value===np)throw new Error("Detected cycle in computations.");let e=t.value;t.value=np;let n=Lu(t),r;try{r=t.computation()}catch(i){r=Vu,t.error=i}finally{ip(t,n)}if(e!==tp&&e!==Vu&&r!==Vu&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function RM(){throw new Error}var uE=RM;function lE(){uE()}function dE(t){uE=t}var MM=null;function hE(t){let e=Object.create(pE);e.value=t;let n=()=>(rp(e),e.value);return n[ir]=e,n}function ap(t,e){iE()||lE(),t.equal(t.value,e)||(t.value=e,NM(t))}function fE(t,e){iE()||lE(),ap(t,e(t.value))}var pE=de(O({},Ra),{equal:eE,value:void 0});function NM(t){t.version++,TM(),rE(t),MM?.()}function te(t){return typeof t=="function"}function Ms(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Bu=Ms(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Mi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Le=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(s){e=s instanceof Bu?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{gE(s)}catch(o){e=e??[],o instanceof Bu?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Bu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)gE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Mi(n,e)}remove(e){let{_finalizers:n}=this;n&&Mi(n,e),e instanceof t&&e._removeParent(this)}};Le.EMPTY=(()=>{let t=new Le;return t.closed=!0,t})();var cp=Le.EMPTY;function $u(t){return t instanceof Le||t&&"closed"in t&&te(t.remove)&&te(t.add)&&te(t.unsubscribe)}function gE(t){te(t)?t():t.unsubscribe()}var gn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ns={setTimeout(t,e,...n){let{delegate:r}=Ns;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ns;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Hu(t){Ns.setTimeout(()=>{let{onUnhandledError:e}=gn;if(e)e(t);else throw t})}function Ma(){}var mE=up("C",void 0,void 0);function yE(t){return up("E",void 0,t)}function vE(t){return up("N",t,void 0)}function up(t,e,n){return{kind:t,value:e,error:n}}var Ni=null;function xs(t){if(gn.useDeprecatedSynchronousErrorHandling){let e=!Ni;if(e&&(Ni={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ni;if(Ni=null,n)throw r}}else t()}function _E(t){gn.useDeprecatedSynchronousErrorHandling&&Ni&&(Ni.errorThrown=!0,Ni.error=t)}var xi=class extends Le{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,$u(e)&&e.add(this)):this.destination=kM}static create(e,n,r){return new Ps(e,n,r)}next(e){this.isStopped?dp(vE(e),this):this._next(e)}error(e){this.isStopped?dp(yE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?dp(mE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},xM=Function.prototype.bind;function lp(t,e){return xM.call(t,e)}var hp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){qu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){qu(r)}else qu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){qu(n)}}},Ps=class extends xi{constructor(e,n,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&gn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&lp(e.next,s),error:e.error&&lp(e.error,s),complete:e.complete&&lp(e.complete,s)}):i=e}this.destination=new hp(i)}};function qu(t){gn.useDeprecatedSynchronousErrorHandling?_E(t):Hu(t)}function PM(t){throw t}function dp(t,e){let{onStoppedNotification:n}=gn;n&&Ns.setTimeout(()=>n(t,e))}var kM={closed:!0,next:Ma,error:PM,complete:Ma};var ks=typeof Symbol=="function"&&Symbol.observable||"@@observable";function jt(t){return t}function fp(...t){return pp(t)}function pp(t){return t.length===0?jt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var me=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=FM(n)?n:new Ps(n,r,i);return xs(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=IE(r),new r((i,s)=>{let o=new Ps({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ks](){return this}pipe(...n){return pp(n)(this)}toPromise(n){return n=IE(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function IE(t){var e;return(e=t??gn.Promise)!==null&&e!==void 0?e:Promise}function OM(t){return t&&te(t.next)&&te(t.error)&&te(t.complete)}function FM(t){return t&&t instanceof xi||OM(t)&&$u(t)}function gp(t){return te(t?.lift)}function ye(t){return e=>{if(gp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function he(t,e,n,r,i){return new mp(t,e,n,r,i)}var mp=class extends xi{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Os(){return ye((t,e)=>{let n=null;t._refCount++;let r=he(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Fs=class extends me{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,gp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Le;let n=this.getSubject();e.add(this.source.subscribe(he(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Le.EMPTY)}return e}refCount(){return Os()(this)}};var wE=Ms(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var nt=(()=>{class t extends me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new zu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new wE}next(n){xs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){xs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){xs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?cp:(this.currentObservers=null,s.push(n),new Le(()=>{this.currentObservers=null,Mi(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new me;return n.source=this,n}}return t.create=(e,n)=>new zu(e,n),t})(),zu=class extends nt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:cp}};var Qe=class extends nt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var yp={now(){return(yp.delegate||Date).now()},delegate:void 0};var Gu=class extends Le{constructor(e,n){super()}schedule(e,n=0){return this}};var Na={setInterval(t,e,...n){let{delegate:r}=Na;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Na;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Vs=class extends Gu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Na.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Na.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Mi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ls=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ls.now=yp.now;var js=class extends Ls{constructor(e,n=Ls.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var vp=new js(Vs);var Wu=class extends Vs{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ku=class extends js{};var _p=new Ku(Wu);var Ut=new me(t=>t.complete());function EE(t){return t&&te(t.schedule)}function DE(t){return t[t.length-1]}function Qu(t){return te(DE(t))?t.pop():void 0}function Hr(t){return EE(DE(t))?t.pop():void 0}function Yu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function CE(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function bE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pi(t){return this instanceof Pi?(this.v=t,this):new Pi(t)}function TE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(S){return Promise.resolve(S).then(v,p)}}function a(v,S){r[v]&&(i[v]=function(N){return new Promise(function(R,j){s.push([v,N,R,j])>1||u(v,N)})},S&&(i[v]=S(i[v])))}function u(v,S){try{l(r[v](S))}catch(N){m(s[0][3],N)}}function l(v){v.value instanceof Pi?Promise.resolve(v.value.v).then(h,p):m(s[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function m(v,S){v(S),s.shift(),s.length&&u(s[0][0],s[0][1])}}function SE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof bE=="function"?bE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var Zu=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ju(t){return te(t?.then)}function Xu(t){return te(t[ks])}function el(t){return Symbol.asyncIterator&&te(t?.[Symbol.asyncIterator])}function tl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function VM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var nl=VM();function rl(t){return te(t?.[nl])}function il(t){return TE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Pi(n.read());if(i)return yield Pi(void 0);yield yield Pi(r)}}finally{n.releaseLock()}})}function sl(t){return te(t?.getReader)}function $e(t){if(t instanceof me)return t;if(t!=null){if(Xu(t))return LM(t);if(Zu(t))return jM(t);if(Ju(t))return UM(t);if(el(t))return AE(t);if(rl(t))return BM(t);if(sl(t))return $M(t)}throw tl(t)}function LM(t){return new me(e=>{let n=t[ks]();if(te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function jM(t){return new me(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function UM(t){return new me(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Hu)})}function BM(t){return new me(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function AE(t){return new me(e=>{HM(t,e).catch(n=>e.error(n))})}function $M(t){return AE(il(t))}function HM(t,e){var n,r,i,s;return CE(this,void 0,void 0,function*(){try{for(n=SE(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Mt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function qr(t,e=0){return ye((n,r)=>{n.subscribe(he(r,i=>Mt(r,t,()=>r.next(i),e),()=>Mt(r,t,()=>r.complete(),e),i=>Mt(r,t,()=>r.error(i),e)))})}function zr(t,e=0){return ye((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function RE(t,e){return $e(t).pipe(zr(e),qr(e))}function ME(t,e){return $e(t).pipe(zr(e),qr(e))}function NE(t,e){return new me(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function xE(t,e){return new me(n=>{let r;return Mt(n,e,()=>{r=t[nl](),Mt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function ol(t,e){if(!t)throw new Error("Iterable cannot be null");return new me(n=>{Mt(n,e,()=>{let r=t[Symbol.asyncIterator]();Mt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function PE(t,e){return ol(il(t),e)}function kE(t,e){if(t!=null){if(Xu(t))return RE(t,e);if(Zu(t))return NE(t,e);if(Ju(t))return ME(t,e);if(el(t))return ol(t,e);if(rl(t))return xE(t,e);if(sl(t))return PE(t,e)}throw tl(t)}function Ue(t,e){return e?kE(t,e):$e(t)}function G(...t){let e=Hr(t);return Ue(t,e)}function Us(t,e){let n=te(t)?t:()=>t,r=i=>i.error(n());return new me(e?i=>e.schedule(r,0,i):r)}function Ip(t){return!!t&&(t instanceof me||te(t.lift)&&te(t.subscribe))}var sr=Ms(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ne(t,e){return ye((n,r)=>{let i=0;n.subscribe(he(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:qM}=Array;function zM(t,e){return qM(e)?t(...e):t(e)}function al(t){return ne(e=>zM(t,e))}var{isArray:GM}=Array,{getPrototypeOf:WM,prototype:KM,keys:QM}=Object;function cl(t){if(t.length===1){let e=t[0];if(GM(e))return{args:e,keys:null};if(YM(e)){let n=QM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function YM(t){return t&&typeof t=="object"&&WM(t)===KM}function ul(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ll(...t){let e=Hr(t),n=Qu(t),{args:r,keys:i}=cl(t);if(r.length===0)return Ue([],e);let s=new me(ZM(r,e,i?o=>ul(i,o):jt));return n?s.pipe(al(n)):s}function ZM(t,e,n=jt){return r=>{OE(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)OE(e,()=>{let l=Ue(t[u],e),h=!1;l.subscribe(he(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function OE(t,e,n){t?Mt(n,t,e):e()}function FE(t,e,n,r,i,s,o,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=N=>l<r?S(N):u.push(N),S=N=>{s&&e.next(N),l++;let R=!1;$e(n(N,h++)).subscribe(he(e,j=>{i?.(j),s?v(j):e.next(j)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let j=u.shift();o?Mt(e,o,()=>S(j)):S(j)}m()}catch(j){e.error(j)}}))};return t.subscribe(he(e,v,()=>{p=!0,m()})),()=>{a?.()}}function Ye(t,e,n=1/0){return te(e)?Ye((r,i)=>ne((s,o)=>e(r,s,i,o))($e(t(r,i))),n):(typeof e=="number"&&(n=e),ye((r,i)=>FE(r,i,t,n)))}function wp(t=1/0){return Ye(jt,t)}function VE(){return wp(1)}function Bs(...t){return VE()(Ue(t,Hr(t)))}function dl(t){return new me(e=>{$e(t()).subscribe(e)})}function Ep(...t){let e=Qu(t),{args:n,keys:r}=cl(t),i=new me(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;$e(n[h]).subscribe(he(s,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?ul(r,a):a),s.complete())}))}});return e?i.pipe(al(e)):i}function mn(t,e){return ye((n,r)=>{let i=0;n.subscribe(he(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Gr(t){return ye((e,n)=>{let r=null,i=!1,s;r=e.subscribe(he(n,void 0,void 0,o=>{s=$e(t(o,Gr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function LE(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(he(o,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function $s(t,e){return te(e)?Ye(t,e,1):Ye(t,1)}function Wr(t){return ye((e,n)=>{let r=!1;e.subscribe(he(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function or(t){return t<=0?()=>Ut:ye((e,n)=>{let r=0;e.subscribe(he(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Dp(t){return ne(()=>t)}function hl(t=JM){return ye((e,n)=>{let r=!1;e.subscribe(he(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function JM(){return new sr}function xa(t){return ye((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Nn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?mn((i,s)=>t(i,s,r)):jt,or(1),n?Wr(e):hl(()=>new sr))}function Hs(t){return t<=0?()=>Ut:ye((e,n)=>{let r=[];e.subscribe(he(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function bp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?mn((i,s)=>t(i,s,r)):jt,Hs(1),n?Wr(e):hl(()=>new sr))}function Cp(t,e){return ye(LE(t,e,arguments.length>=2,!0))}function Tp(...t){let e=Hr(t);return ye((n,r)=>{(e?Bs(t,n,e):Bs(t,n)).subscribe(r)})}function yn(t,e){return ye((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(he(r,u=>{i?.unsubscribe();let l=0,h=s++;$e(t(u,h)).subscribe(i=he(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Sp(t){return ye((e,n)=>{$e(t).subscribe(he(n,()=>n.complete(),Ma)),!n.closed&&e.subscribe(n)})}function Ze(t,e,n){let r=te(t)||e||n?{next:t,error:e,complete:n}:t;return r?ye((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(he(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):jt}var bD="https://g.co/ng/security#xss",$=class extends Error{constructor(e,n){super(Mg(e,n)),this.code=e}};function Mg(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ha(t){return{toString:t}.toString()}var fl="__parameters__";function XM(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function CD(t,e,n){return Ha(()=>{let r=XM(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(fl)?u[fl]:Object.defineProperty(u,fl,{value:[]})[fl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Vi=globalThis;function Ae(t){for(let e in t)if(t[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function eN(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ct(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ct).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function jE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var tN=Ae({__forward_ref__:Ae});function Ki(t){return t.__forward_ref__=Ki,t.toString=function(){return Ct(this())},t}function bt(t){return TD(t)?t():t}function TD(t){return typeof t=="function"&&t.hasOwnProperty(tN)&&t.__forward_ref__===Ki}function Q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qi(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ql(t){return UE(t,AD)||UE(t,RD)}function SD(t){return Ql(t)!==null}function UE(t,e){return t.hasOwnProperty(e)?t[e]:null}function nN(t){let e=t&&(t[AD]||t[RD]);return e||null}function BE(t){return t&&(t.hasOwnProperty($E)||t.hasOwnProperty(rN))?t[$E]:null}var AD=Ae({\u0275prov:Ae}),$E=Ae({\u0275inj:Ae}),RD=Ae({ngInjectableDef:Ae}),rN=Ae({ngInjectorDef:Ae}),H=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function MD(t){return t&&!!t.\u0275providers}var iN=Ae({\u0275cmp:Ae}),sN=Ae({\u0275dir:Ae}),oN=Ae({\u0275pipe:Ae}),aN=Ae({\u0275mod:Ae}),Dl=Ae({\u0275fac:Ae}),Oa=Ae({__NG_ELEMENT_ID__:Ae}),HE=Ae({__NG_ENV_ID__:Ae});function Yl(t){return typeof t=="string"?t:t==null?"":String(t)}function cN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Yl(t)}function uN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new $(-200,t)}function Ng(t,e){throw new $(-201,!1)}var ae=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ae||{}),$p;function ND(){return $p}function Nt(t){let e=$p;return $p=t,e}function xD(t,e,n){let r=Ql(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ae.Optional)return null;if(e!==void 0)return e;Ng(t,"Injector")}var lN={},Fa=lN,Hp="__NG_DI_FLAG__",bl="ngTempTokenPath",dN="ngTokenPath",hN=/\n/gm,fN="\u0275",qE="__source",Ws;function pN(){return Ws}function Kr(t){let e=Ws;return Ws=t,e}function gN(t,e=ae.Default){if(Ws===void 0)throw new $(-203,!1);return Ws===null?xD(t,void 0,e):Ws.get(t,e&ae.Optional?null:void 0,e)}function ie(t,e=ae.Default){return(ND()||gN)(bt(t),e)}function F(t,e=ae.Default){return ie(t,Zl(e))}function Zl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function qp(t){let e=[];for(let n=0;n<t.length;n++){let r=bt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,s=ae.Default;for(let o=0;o<r.length;o++){let a=r[o],u=mN(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(ie(i,s))}else e.push(ie(r))}return e}function PD(t,e){return t[Hp]=e,t.prototype[Hp]=e,t}function mN(t){return t[Hp]}function yN(t,e,n,r){let i=t[bl];throw e[qE]&&i.unshift(e[qE]),t.message=vN(`
`+t.message,i,n,r),t[dN]=i,t[bl]=null,t}function vN(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==fN?t.slice(2):t;let i=Ct(e);if(Array.isArray(e))i=e.map(Ct).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Ct(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(hN,`
  `)}`}var St=PD(CD("Optional"),8);var kD=PD(CD("SkipSelf"),4);function ji(t,e){let n=t.hasOwnProperty(Dl);return n?t[Dl]:null}function xg(t,e){t.forEach(n=>Array.isArray(n)?xg(n,e):e(n))}function OD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Cl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function _N(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function IN(t,e,n){let r=qa(t,e);return r>=0?t[r|1]=n:(r=~r,_N(t,r,e,n)),r}function Ap(t,e){let n=qa(t,e);if(n>=0)return t[n|1]}function qa(t,e){return wN(t,e,1)}function wN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Qs={},en=[],Ys=new H(""),FD=new H("",-1),VD=new H(""),Tl=class{get(e,n=Fa){if(n===Fa){let r=new Error(`NullInjectorError: No provider for ${Ct(e)}!`);throw r.name="NullInjectorError",r}return n}},LD=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(LD||{}),kn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(kn||{}),Zr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Zr||{});function EN(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function zp(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];DN(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function jD(t){return t===3||t===4||t===6}function DN(t){return t.charCodeAt(0)===64}function Va(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?zE(t,n,i,null,e[++r]):zE(t,n,i,null,null))}}return t}function zE(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var UD="ng-template";function bN(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&EN(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Pg(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Pg(t){return t.type===4&&t.value!==UD}function CN(t,e,n){let r=t.type===4&&!n?UD:t.value;return e===r}function TN(t,e,n){let r=4,i=t.attrs,s=i!==null?RN(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!vn(r)&&!vn(u))return!1;if(o&&vn(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!CN(t,u,n)||u===""&&e.length===1){if(vn(r))return!1;o=!0}}else if(r&8){if(i===null||!bN(t,i,u,n)){if(vn(r))return!1;o=!0}}else{let l=e[++a],h=SN(u,i,Pg(t),n);if(h===-1){if(vn(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(vn(r))return!1;o=!0}}}}return vn(r)||o}function vn(t){return(t&1)===0}function SN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return MN(e,t)}function AN(t,e,n=!1){for(let r=0;r<e.length;r++)if(TN(t,e[r],n))return!0;return!1}function RN(t){for(let e=0;e<t.length;e++){let n=t[e];if(jD(n))return e}return t.length}function MN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function GE(t,e){return t?":not("+e.trim()+")":e}function NN(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!vn(o)&&(e+=GE(s,i),i=""),r=o,s=s||!vn(r);n++}return i!==""&&(e+=GE(s,i)),e}function xN(t){return t.map(NN).join(",")}function PN(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!vn(i))break;i=s}r++}return{attrs:e,classes:n}}function mt(t){return Ha(()=>{let e=zD(t),n=de(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===LD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||kn.Emulated,styles:t.styles||en,_:null,schemas:t.schemas||null,tView:null,id:""});GD(n);let r=t.dependencies;return n.directiveDefs=KE(r,!1),n.pipeDefs=KE(r,!0),n.id=FN(n),n})}function kN(t){return Ui(t)||BD(t)}function ON(t){return t!==null}function Yi(t){return Ha(()=>({type:t.type,bootstrap:t.bootstrap||en,declarations:t.declarations||en,imports:t.imports||en,exports:t.exports||en,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function WE(t,e){if(t==null)return Qs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Zr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Zr.None?[r,a]:r,e[s]=o):n[s]=r}return n}function ct(t){return Ha(()=>{let e=zD(t);return GD(e),e})}function kg(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ui(t){return t[iN]||null}function BD(t){return t[sN]||null}function $D(t){return t[oN]||null}function HD(t){let e=Ui(t)||BD(t)||$D(t);return e!==null?e.standalone:!1}function qD(t,e){let n=t[aN]||null;if(!n&&e===!0)throw new Error(`Type ${Ct(t)} does not have '\u0275mod' property.`);return n}function zD(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Qs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||en,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:WE(t.inputs,e),outputs:WE(t.outputs),debugInfo:null}}function GD(t){t.features?.forEach(e=>e(t))}function KE(t,e){if(!t)return null;let n=e?$D:kN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(ON)}function FN(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Ln(t){return{\u0275providers:t}}function VN(...t){return{\u0275providers:WD(!0,t),\u0275fromNgModule:!0}}function WD(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return xg(e,o=>{let a=o;Gp(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&KD(i,s),n}function KD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Og(i,s=>{e(s,r)})}}function Gp(t,e,n,r){if(t=bt(t),!t)return!1;let i=null,s=BE(t),o=!s&&Ui(t);if(!s&&!o){let u=t.ngModule;if(s=BE(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)Gp(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{xg(s.imports,h=>{Gp(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&KD(l,e)}if(!a){let l=ji(i)||(()=>new i);e({provide:i,useFactory:l,deps:en},i),e({provide:VD,useValue:i,multi:!0},i),e({provide:Ys,useValue:()=>ie(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;Og(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Og(t,e){for(let n of t)MD(n)&&(n=n.\u0275providers),Array.isArray(n)?Og(n,e):e(n)}var LN=Ae({provide:String,useValue:Ae});function QD(t){return t!==null&&typeof t=="object"&&LN in t}function jN(t){return!!(t&&t.useExisting)}function UN(t){return!!(t&&t.useFactory)}function Zs(t){return typeof t=="function"}function BN(t){return!!t.useClass}var Jl=new H(""),vl={},$N={},Rp;function Fg(){return Rp===void 0&&(Rp=new Tl),Rp}var nn=class{},La=class extends nn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Kp(e,o=>this.processProvider(o)),this.records.set(FD,qs(void 0,this)),i.has("environment")&&this.records.set(nn,qs(void 0,this));let s=this.records.get(Jl);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(VD,en,ae.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ge(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ge(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Kr(this),r=Nt(void 0),i;try{return e()}finally{Kr(n),Nt(r)}}get(e,n=Fa,r=ae.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(HE))return e[HE](this);r=Zl(r);let i,s=Kr(this),o=Nt(void 0);try{if(!(r&ae.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=WN(e)&&Ql(e);l&&this.injectableDefInScope(l)?u=qs(Wp(e),vl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ae.Self?Fg():this.parent;return n=r&ae.Optional&&n===Fa?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[bl]=a[bl]||[]).unshift(Ct(e)),s)throw a;return yN(a,e,"R3InjectorError",this.source)}else throw a}finally{Nt(o),Kr(s)}}resolveInjectorInitializers(){let e=ge(null),n=Kr(this),r=Nt(void 0),i;try{let s=this.get(Ys,en,ae.Self);for(let o of s)o()}finally{Kr(n),Nt(r),ge(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ct(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(e){e=bt(e);let n=Zs(e)?e:bt(e&&e.provide),r=qN(e);if(!Zs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=qs(void 0,vl,!0),i.factory=()=>qp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ge(null);try{return n.value===vl&&(n.value=$N,n.value=n.factory()),typeof n.value=="object"&&n.value&&GN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ge(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=bt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Wp(t){let e=Ql(t),n=e!==null?e.factory:ji(t);if(n!==null)return n;if(t instanceof H)throw new $(204,!1);if(t instanceof Function)return HN(t);throw new $(204,!1)}function HN(t){if(t.length>0)throw new $(204,!1);let n=nN(t);return n!==null?()=>n.factory(t):()=>new t}function qN(t){if(QD(t))return qs(void 0,t.useValue);{let e=YD(t);return qs(e,vl)}}function YD(t,e,n){let r;if(Zs(t)){let i=bt(t);return ji(i)||Wp(i)}else if(QD(t))r=()=>bt(t.useValue);else if(UN(t))r=()=>t.useFactory(...qp(t.deps||[]));else if(jN(t))r=()=>ie(bt(t.useExisting));else{let i=bt(t&&(t.useClass||t.provide));if(zN(t))r=()=>new i(...qp(t.deps));else return ji(i)||Wp(i)}return r}function qs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function zN(t){return!!t.deps}function GN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function WN(t){return typeof t=="function"||typeof t=="object"&&t instanceof H}function Kp(t,e){for(let n of t)Array.isArray(n)?Kp(n,e):n&&MD(n)?Kp(n.\u0275providers,e):e(n)}function lr(t,e){t instanceof La&&t.assertNotDestroyed();let n,r=Kr(t),i=Nt(void 0);try{return e()}finally{Kr(r),Nt(i)}}function KN(){return ND()!==void 0||pN()!=null}function QN(t){return typeof t=="function"}var dr=0,ce=1,J=2,Tt=3,_n=4,In=5,Sl=6,Al=7,rn=8,Js=9,On=10,Je=11,ja=12,QE=13,oo=14,Fn=15,Xs=16,zs=17,eo=18,Xl=19,ZD=20,Qr=21,Mp=22,tn=23,$t=25,JD=1;var Bi=7,Rl=8,Ml=9,Bt=10,Nl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Nl||{});function Yr(t){return Array.isArray(t)&&typeof t[JD]=="object"}function hr(t){return Array.isArray(t)&&t[JD]===!0}function XD(t){return(t.flags&4)!==0}function ed(t){return t.componentOffset>-1}function Vg(t){return(t.flags&1)===1}function Jr(t){return!!t.template}function Qp(t){return(t[J]&512)!==0}var Yp=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function eb(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function ei(){return tb}function tb(t){return t.type.prototype.ngOnChanges&&(t.setInput=ZN),YN}ei.ngInherit=!0;function YN(){let t=rb(this),e=t?.current;if(e){let n=t.previous;if(n===Qs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function ZN(t,e,n,r,i){let s=this.declaredInputs[r],o=rb(t)||JN(t,{previous:Qs,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new Yp(l&&l.currentValue,n,u===Qs),eb(t,e,i,n)}var nb="__ngSimpleChanges__";function rb(t){return t[nb]||null}function JN(t,e){return t[nb]=e}var YE=null;var xn=function(t,e,n){YE?.(t,e,n)},XN="svg",ex="math";function Vn(t){for(;Array.isArray(t);)t=t[dr];return t}function ib(t,e){return Vn(e[t])}function sn(t,e){return Vn(e[t.index])}function Lg(t,e){return t.data[e]}function sb(t,e){return t[e]}function ti(t,e){let n=e[t];return Yr(n)?n:n[dr]}function jg(t){return(t[J]&128)===128}function tx(t){return hr(t[Tt])}function xl(t,e){return e==null?null:t[e]}function ob(t){t[zs]=0}function ab(t){t[J]&1024||(t[J]|=1024,jg(t)&&nd(t))}function nx(t,e){for(;t>0;)e=e[oo],t--;return e}function td(t){return!!(t[J]&9216||t[tn]?.dirty)}function Zp(t){t[On].changeDetectionScheduler?.notify(8),t[J]&64&&(t[J]|=1024),td(t)&&nd(t)}function nd(t){t[On].changeDetectionScheduler?.notify(0);let e=$i(t);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!jg(e)));)e=$i(e)}function cb(t,e){if((t[J]&256)===256)throw new $(911,!1);t[Qr]===null&&(t[Qr]=[]),t[Qr].push(e)}function rx(t,e){if(t[Qr]===null)return;let n=t[Qr].indexOf(e);n!==-1&&t[Qr].splice(n,1)}function $i(t){let e=t[Tt];return hr(e)?e[Tt]:e}var ue={lFrame:yb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ub=!1;function ix(){return ue.lFrame.elementDepthCount}function sx(){ue.lFrame.elementDepthCount++}function ox(){ue.lFrame.elementDepthCount--}function lb(){return ue.bindingsEnabled}function ax(){return ue.skipHydrationRootTNode!==null}function cx(t){return ue.skipHydrationRootTNode===t}function ux(){ue.skipHydrationRootTNode=null}function Te(){return ue.lFrame.lView}function Pt(){return ue.lFrame.tView}function kt(t){return ue.lFrame.contextLView=t,t[rn]}function Ot(t){return ue.lFrame.contextLView=null,t}function At(){let t=db();for(;t!==null&&t.type===64;)t=t.parent;return t}function db(){return ue.lFrame.currentTNode}function lx(){let t=ue.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function za(t,e){let n=ue.lFrame;n.currentTNode=t,n.isParent=e}function hb(){return ue.lFrame.isParent}function dx(){ue.lFrame.isParent=!1}function hx(){return ue.lFrame.contextLView}function fb(){return ub}function ZE(t){ub=t}function fx(){let t=ue.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function px(t){return ue.lFrame.bindingIndex=t}function Ga(){return ue.lFrame.bindingIndex++}function gx(t){let e=ue.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function mx(){return ue.lFrame.inI18n}function yx(t,e){let n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,Jp(e)}function vx(){return ue.lFrame.currentDirectiveIndex}function Jp(t){ue.lFrame.currentDirectiveIndex=t}function _x(t){let e=ue.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function pb(t){ue.lFrame.currentQueryIndex=t}function Ix(t){let e=t[ce];return e.type===2?e.declTNode:e.type===1?t[In]:null}function gb(t,e,n){if(n&ae.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ae.Host);)if(i=Ix(s),i===null||(s=s[oo],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ue.lFrame=mb();return r.currentTNode=e,r.lView=t,!0}function Ug(t){let e=mb(),n=t[ce];ue.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function mb(){let t=ue.lFrame,e=t===null?null:t.child;return e===null?yb(t):e}function yb(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function vb(){let t=ue.lFrame;return ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var _b=vb;function Bg(){let t=vb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function wx(t){return(ue.lFrame.contextLView=nx(t,ue.lFrame.contextLView))[rn]}function ao(){return ue.lFrame.selectedIndex}function Hi(t){ue.lFrame.selectedIndex=t}function $g(){let t=ue.lFrame;return Lg(t.tView,t.selectedIndex)}function Ex(){return ue.lFrame.currentNamespace}var Ib=!0;function Hg(){return Ib}function qg(t){Ib=t}function Dx(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=tb(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function zg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function _l(t,e,n){wb(t,e,3,n)}function Il(t,e,n,r){(t[J]&3)===n&&wb(t,e,n,r)}function Np(t,e){let n=t[J];(n&3)===e&&(n&=16383,n+=1,t[J]=n)}function wb(t,e,n,r){let i=r!==void 0?t[zs]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[zs]+=65536),(a<s||s==-1)&&(bx(t,n,e,u),t[zs]=(t[zs]&4294901760)+u+2),u++}function JE(t,e){xn(4,t,e);let n=ge(null);try{e.call(t)}finally{ge(n),xn(5,t,e)}}function bx(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[J]>>14<t[zs]>>16&&(t[J]&3)===e&&(t[J]+=16384,JE(a,s)):JE(a,s)}var Ks=-1,qi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Cx(t){return t instanceof qi}function Tx(t){return(t.flags&8)!==0}function Sx(t){return(t.flags&16)!==0}var xp={},Xp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Zl(r);let i=this.injector.get(e,xp,r);return i!==xp||n===xp?i:this.parentInjector.get(e,n,r)}};function Eb(t){return t!==Ks}function Pl(t){return t&32767}function Ax(t){return t>>16}function kl(t,e){let n=Ax(t),r=e;for(;n>0;)r=r[oo],n--;return r}var eg=!0;function Ol(t){let e=eg;return eg=t,e}var Rx=256,Db=Rx-1,bb=5,Mx=0,Pn={};function Nx(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Oa)&&(r=n[Oa]),r==null&&(r=n[Oa]=Mx++);let i=r&Db,s=1<<i;e.data[t+(i>>bb)]|=s}function Fl(t,e){let n=Cb(t,e);if(n!==-1)return n;let r=e[ce];r.firstCreatePass&&(t.injectorIndex=e.length,Pp(r.data,t),Pp(e,null),Pp(r.blueprint,null));let i=Gg(t,e),s=t.injectorIndex;if(Eb(i)){let o=Pl(i),a=kl(i,e),u=a[ce].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Pp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Cb(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Gg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Mb(i),r===null)return Ks;if(n++,i=i[oo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ks}function tg(t,e,n){Nx(t,e,n)}function xx(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(jD(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function Tb(t,e,n){if(n&ae.Optional||t!==void 0)return t;Ng(e,"NodeInjector")}function Sb(t,e,n,r){if(n&ae.Optional&&r===void 0&&(r=null),!(n&(ae.Self|ae.Host))){let i=t[Js],s=Nt(void 0);try{return i?i.get(e,r,n&ae.Optional):xD(e,r,n&ae.Optional)}finally{Nt(s)}}return Tb(r,e,n)}function Ab(t,e,n,r=ae.Default,i){if(t!==null){if(e[J]&2048&&!(r&ae.Self)){let o=Vx(t,e,n,r,Pn);if(o!==Pn)return o}let s=Rb(t,e,n,r,Pn);if(s!==Pn)return s}return Sb(e,n,r,i)}function Rb(t,e,n,r,i){let s=Ox(n);if(typeof s=="function"){if(!gb(e,t,r))return r&ae.Host?Tb(i,n,r):Sb(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ae.Optional))Ng(n);else return o}finally{_b()}}else if(typeof s=="number"){let o=null,a=Cb(t,e),u=Ks,l=r&ae.Host?e[Fn][In]:null;for((a===-1||r&ae.SkipSelf)&&(u=a===-1?Gg(t,e):e[a+8],u===Ks||!eD(r,!1)?a=-1:(o=e[ce],a=Pl(u),e=kl(u,e)));a!==-1;){let h=e[ce];if(XE(s,a,h.data)){let p=Px(a,e,n,o,r,l);if(p!==Pn)return p}u=e[a+8],u!==Ks&&eD(r,e[ce].data[a+8]===l)&&XE(s,a,e)?(o=h,a=Pl(u),e=kl(u,e)):a=-1}}return i}function Px(t,e,n,r,i,s){let o=e[ce],a=o.data[t+8],u=r==null?ed(a)&&eg:r!=o&&(a.type&3)!==0,l=i&ae.Host&&s===a,h=kx(a,o,n,u,l);return h!==null?to(e,o,h,a):Pn}function kx(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?a:a+h,m=i?a+h:l;for(let v=p;v<m;v++){let S=o[v];if(v<u&&n===S||v>=u&&S.type===n)return v}if(i){let v=o[u];if(v&&Jr(v)&&v.type===n)return u}return null}function to(t,e,n,r){let i=t[n],s=e.data;if(Cx(i)){let o=i;o.resolving&&uN(cN(s[n]));let a=Ol(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Nt(o.injectImpl):null,h=gb(t,r,ae.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Dx(n,s[n],e)}finally{l!==null&&Nt(l),Ol(a),o.resolving=!1,_b()}}return i}function Ox(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Oa)?t[Oa]:void 0;return typeof e=="number"?e>=0?e&Db:Fx:e}function XE(t,e,n){let r=1<<t;return!!(n[e+(t>>bb)]&r)}function eD(t,e){return!(t&ae.Self)&&!(t&ae.Host&&e)}var Li=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Ab(this._tNode,this._lView,e,Zl(r),n)}};function Fx(){return new Li(At(),Te())}function co(t){return Ha(()=>{let e=t.prototype.constructor,n=e[Dl]||ng(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Dl]||ng(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ng(t){return TD(t)?()=>{let e=ng(bt(t));return e&&e()}:ji(t)}function Vx(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[J]&2048&&!(o[J]&512);){let a=Rb(s,o,n,r|ae.Self,Pn);if(a!==Pn)return a;let u=s.parent;if(!u){let l=o[ZD];if(l){let h=l.get(n,Pn,r);if(h!==Pn)return h}u=Mb(o),o=o[oo]}s=u}return i}function Mb(t){let e=t[ce],n=e.type;return n===2?e.declTNode:n===1?t[In]:null}function Wg(t){return xx(At(),t)}function tD(t,e=null,n=null,r){let i=Nb(t,e,n,r);return i.resolveInjectorInitializers(),i}function Nb(t,e=null,n=null,r,i=new Set){let s=[n||en,VN(t)];return r=r||(typeof t=="object"?void 0:Ct(t)),new La(s,e||Fg(),r||null,i)}var Oi=class Oi{static create(e,n){if(Array.isArray(e))return tD({name:""},n,e,"");{let r=e.name??"";return tD({name:r},e.parent,e.providers,r)}}};Oi.THROW_IF_NOT_FOUND=Fa,Oi.NULL=new Tl,Oi.\u0275prov=Q({token:Oi,providedIn:"any",factory:()=>ie(FD)}),Oi.__NG_ELEMENT_ID__=-1;var xt=Oi;var Lx=new H("");Lx.__NG_ELEMENT_ID__=t=>{let e=At();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(t&ae.Optional)return null;throw new $(204,!1)};var jx="ngOriginalError";function kp(t){return t[jx]}var xb=!0,Pb=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Ux,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),rg=class extends Pb{constructor(e){super(),this._lView=e}onDestroy(e){return cb(this._lView,e),()=>rx(this._lView,e)}};function Ux(){return new rg(Te())}var uo=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Qe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=Q({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var ig=class extends nt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,KN()&&(this.destroyRef=F(Pb,{optional:!0})??void 0,this.pendingTasks=F(uo,{optional:!0})??void 0)}emit(e){let n=ge(null);try{super.next(e)}finally{ge(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Le&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},He=ig;function Vl(...t){}function kb(t){let e,n;function r(){t=Vl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function nD(t){return queueMicrotask(()=>t()),()=>{t=Vl}}var Kg="isAngularZone",Ll=Kg+"_ID",Bx=0,Ce=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new He(!1),this.onMicrotaskEmpty=new He(!1),this.onStable=new He(!1),this.onError=new He(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=xb}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,qx(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Kg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,$x,Vl,Vl);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},$x={};function Qg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Hx(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){kb(()=>{t.callbackScheduled=!1,sg(t),t.isCheckStableRunning=!0,Qg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),sg(t)}function qx(t){let e=()=>{Hx(t)},n=Bx++;t._inner=t._inner.fork({name:"angular",properties:{[Kg]:!0,[Ll]:n,[Ll+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(zx(u))return r.invokeTask(s,o,a,u);try{return rD(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),iD(t)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return rD(t),r.invoke(s,o,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Gx(u)&&e(),iD(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,sg(t),Qg(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function sg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function rD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function iD(t){t._nesting--,Qg(t)}var og=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new He,this.onMicrotaskEmpty=new He,this.onStable=new He,this.onError=new He}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function zx(t){return Ob(t,"__ignore_ng_zone__")}function Gx(t){return Ob(t,"__scheduler_tick__")}function Ob(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var ar=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&kp(e);for(;n&&kp(n);)n=kp(n);return n||null}},Wx=new H("",{providedIn:"root",factory:()=>{let t=F(Ce),e=F(ar);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function Kx(){return rd(At(),Te())}function rd(t,e){return new ni(sn(t,e))}var ni=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=Kx;let t=e;return t})();function Fb(t){return(t.flags&128)===128}var Vb=new Map,Qx=0;function Yx(){return Qx++}function Zx(t){Vb.set(t[Xl],t)}function ag(t){Vb.delete(t[Xl])}var sD="__ngContext__";function zi(t,e){Yr(e)?(t[sD]=e[Xl],Zx(e)):t[sD]=e}function Lb(t){return Ub(t[ja])}function jb(t){return Ub(t[_n])}function Ub(t){for(;t!==null&&!hr(t);)t=t[_n];return t}var cg;function Bb(t){cg=t}function Jx(){if(cg!==void 0)return cg;if(typeof document<"u")return document;throw new $(210,!1)}var Yg=new H("",{providedIn:"root",factory:()=>Xx}),Xx="ng",Zg=new H(""),ri=new H("",{providedIn:"platform",factory:()=>"unknown"});var Jg=new H("",{providedIn:"root",factory:()=>Jx().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var eP="h",tP="b";var nP=()=>null;function Xg(t,e,n=!1){return nP(t,e,n)}var $b=!1,rP=new H("",{providedIn:"root",factory:()=>$b});var pl;function iP(){if(pl===void 0&&(pl=null,Vi.trustedTypes))try{pl=Vi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return pl}function oD(t){return iP()?.createScriptURL(t)||t}var jl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${bD})`}};function Wa(t){return t instanceof jl?t.changingThisBreaksApplicationSecurity:t}function em(t,e){let n=sP(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${bD})`)}return n===e}function sP(t){return t instanceof jl&&t.getTypeName()||null}var oP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Hb(t){return t=String(t),t.match(oP)?t:"unsafe:"+t}var id=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(id||{});function sd(t){let e=zb();return e?e.sanitize(id.URL,t)||"":em(t,"URL")?Wa(t):Hb(Yl(t))}function aP(t){let e=zb();if(e)return oD(e.sanitize(id.RESOURCE_URL,t)||"");if(em(t,"ResourceURL"))return oD(Wa(t));throw new $(904,!1)}function cP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?aP:sd}function qb(t,e,n){return cP(e,n)(t)}function zb(){let t=Te();return t&&t[On].sanitizer}function Gb(t){return t instanceof Function?t():t}var cr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(cr||{}),uP;function tm(t,e){return uP(t,e)}function Gs(t,e,n,r,i){if(r!=null){let s,o=!1;hr(r)?s=r:Yr(r)&&(o=!0,r=r[dr]);let a=Vn(r);t===0&&n!==null?i==null?Yb(e,n,a):Bl(e,n,a,i||null,!0):t===1&&n!==null?Bl(e,n,a,i||null,!0):t===2?bP(e,a,o):t===3&&e.destroyNode(a),s!=null&&TP(e,t,s,n,i)}}function lP(t,e){return t.createText(e)}function dP(t,e,n){t.setValue(e,n)}function Wb(t,e,n){return t.createElement(e,n)}function hP(t,e){Kb(t,e),e[dr]=null,e[In]=null}function fP(t,e,n,r,i,s){r[dr]=i,r[In]=e,od(t,r,n,1,i,s)}function Kb(t,e){e[On].changeDetectionScheduler?.notify(9),od(t,e,e[Je],2,null,null)}function pP(t){let e=t[ja];if(!e)return Op(t[ce],t);for(;e;){let n=null;if(Yr(e))n=e[ja];else{let r=e[Bt];r&&(n=r)}if(!n){for(;e&&!e[_n]&&e!==t;)Yr(e)&&Op(e[ce],e),e=e[Tt];e===null&&(e=t),Yr(e)&&Op(e[ce],e),n=e&&e[_n]}e=n}}function gP(t,e,n,r){let i=Bt+r,s=n.length;r>0&&(n[i-1][_n]=e),r<s-Bt?(e[_n]=n[i],OD(n,Bt+r,e)):(n.push(e),e[_n]=null),e[Tt]=n;let o=e[Xs];o!==null&&n!==o&&Qb(o,e);let a=e[eo];a!==null&&a.insertView(t),Zp(e),e[J]|=128}function Qb(t,e){let n=t[Ml],r=e[Tt];if(Yr(r))t[J]|=Nl.HasTransplantedViews;else{let i=r[Tt][Fn];e[Fn]!==i&&(t[J]|=Nl.HasTransplantedViews)}n===null?t[Ml]=[e]:n.push(e)}function nm(t,e){let n=t[Ml],r=n.indexOf(e);n.splice(r,1)}function Ul(t,e){if(t.length<=Bt)return;let n=Bt+e,r=t[n];if(r){let i=r[Xs];i!==null&&i!==t&&nm(i,r),e>0&&(t[n-1][_n]=r[_n]);let s=Cl(t,Bt+e);hP(r[ce],r);let o=s[eo];o!==null&&o.detachView(s[ce]),r[Tt]=null,r[_n]=null,r[J]&=-129}return r}function rm(t,e){if(!(e[J]&256)){let n=e[Je];n.destroyNode&&od(t,e,n,3,null,null),pP(e)}}function Op(t,e){if(e[J]&256)return;let n=ge(null);try{e[J]&=-129,e[J]|=256,e[tn]&&op(e[tn]),yP(t,e),mP(t,e),e[ce].type===1&&e[Je].destroy();let r=e[Xs];if(r!==null&&hr(e[Tt])){r!==e[Tt]&&nm(r,e);let i=e[eo];i!==null&&i.detachView(t)}ag(e)}finally{ge(n)}}function mP(t,e){let n=t.cleanup,r=e[Al];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Al]=null);let i=e[Qr];if(i!==null){e[Qr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function yP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof qi)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];xn(4,a,u);try{u.call(a)}finally{xn(5,a,u)}}else{xn(4,i,s);try{s.call(i)}finally{xn(5,i,s)}}}}}function vP(t,e,n){return _P(t,e.parent,n)}function _P(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[dr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===kn.None||s===kn.Emulated)return null}return sn(r,n)}}function Bl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Yb(t,e,n){t.appendChild(e,n)}function aD(t,e,n,r,i){r!==null?Bl(t,e,n,r,i):Yb(t,e,n)}function Zb(t,e){return t.parentNode(e)}function IP(t,e){return t.nextSibling(e)}function wP(t,e,n){return DP(t,e,n)}function EP(t,e,n){return t.type&40?sn(t,n):null}var DP=EP,cD;function im(t,e,n,r){let i=vP(t,r,e),s=e[Je],o=r.parent||e[In],a=wP(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)aD(s,i,n[u],a,!1);else aD(s,i,n,a,!1);cD!==void 0&&cD(s,r,e,n,i)}function Pa(t,e){if(e!==null){let n=e.type;if(n&3)return sn(e,t);if(n&4)return ug(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Pa(t,r);{let i=t[e.index];return hr(i)?ug(-1,i):Vn(i)}}else{if(n&128)return Pa(t,e.next);if(n&32)return tm(e,t)()||Vn(t[e.index]);{let r=Jb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=$i(t[Fn]);return Pa(i,r)}else return Pa(t,e.next)}}}return null}function Jb(t,e){if(e!==null){let r=t[Fn][In],i=e.projection;return r.projection[i]}return null}function ug(t,e){let n=Bt+t+1;if(n<e.length){let r=e[n],i=r[ce].firstChild;if(i!==null)return Pa(r,i)}return e[Bi]}function bP(t,e,n){t.removeChild(null,e,n)}function sm(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&zi(Vn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)sm(t,e,n.child,r,i,s,!1),Gs(e,t,i,a,s);else if(u&32){let l=tm(n,r),h;for(;h=l();)Gs(e,t,i,h,s);Gs(e,t,i,a,s)}else u&16?CP(t,e,r,n,i,s):Gs(e,t,i,a,s);n=o?n.projectionNext:n.next}}function od(t,e,n,r,i,s){sm(n,r,t.firstChild,e,i,s,!1)}function CP(t,e,n,r,i,s){let o=n[Fn],u=o[In].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Gs(e,t,i,h,s)}else{let l=u,h=o[Tt];Fb(r)&&(l.flags|=128),sm(t,e,l,h,i,s,!0)}}function TP(t,e,n,r,i){let s=n[Bi],o=Vn(n);s!==o&&Gs(e,t,r,s,i);for(let a=Bt;a<n.length;a++){let u=n[a];od(u[ce],u,t,e,r,s)}}function SP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:cr.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=cr.Important),t.setStyle(n,r,i,s))}}function AP(t,e,n){t.setAttribute(e,"style",n)}function Xb(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function eC(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&zp(t,e,r),i!==null&&Xb(t,e,i),s!==null&&AP(t,e,s)}var ii={};function se(t=1){tC(Pt(),Te(),ao()+t,!1)}function tC(t,e,n,r){if(!r)if((e[J]&3)===3){let s=t.preOrderCheckHooks;s!==null&&_l(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Il(e,s,0,n)}Hi(n)}function B(t,e=ae.Default){let n=Te();if(n===null)return ie(t,e);let r=At();return Ab(r,n,bt(t),e)}function nC(t,e,n,r,i,s){let o=ge(null);try{let a=null;i&Zr.SignalBased&&(a=e[r][ir]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Zr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):eb(e,a,r,s)}finally{ge(o)}}function RP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Hi(~i);else{let s=i,o=n[++r],a=n[++r];yx(o,s);let u=e[s];a(2,u)}}}finally{Hi(-1)}}function ad(t,e,n,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[dr]=i,p[J]=r|4|128|8|64,(l!==null||t&&t[J]&2048)&&(p[J]|=2048),ob(p),p[Tt]=p[oo]=t,p[rn]=n,p[On]=o||t&&t[On],p[Je]=a||t&&t[Je],p[Js]=u||t&&t[Js]||null,p[In]=s,p[Xl]=Yx(),p[Sl]=h,p[ZD]=l,p[Fn]=e.type==2?t[Fn]:p,p}function cd(t,e,n,r,i){let s=t.data[e];if(s===null)s=MP(t,e,n,r,i),mx()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=lx();s.injectorIndex=o===null?-1:o.injectorIndex}return za(s,!0),s}function MP(t,e,n,r,i){let s=db(),o=hb(),a=o?s:s&&s.parent,u=t.data[e]=OP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function rC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function iC(t,e,n,r,i){let s=ao(),o=r&2;try{Hi(-1),o&&e.length>$t&&tC(t,e,$t,!1),xn(o?2:0,i),n(r,i)}finally{Hi(s),xn(o?3:1,i)}}function sC(t,e,n){if(XD(e)){let r=ge(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{ge(r)}}}function oC(t,e,n){lb()&&(BP(t,e,n,sn(n,e)),(n.flags&64)===64&&hC(t,e,n))}function aC(t,e,n=sn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function cC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=om(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function om(t,e,n,r,i,s,o,a,u,l,h){let p=$t+r,m=p+i,v=NP(p,m),S=typeof l=="function"?l():l;return v[ce]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function NP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ii);return n}function xP(t,e,n,r){let s=r.get(rP,$b)||n===kn.ShadowDom,o=t.selectRootElement(e,s);return PP(o),o}function PP(t){kP(t)}var kP=()=>null;function OP(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return ax()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function uD(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=Zr.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?lD(r,n,l,a,u):lD(r,n,l,a)}return r}function lD(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function FP(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],m=n?n.get(p):null,v=m?m.inputs:null,S=m?m.outputs:null;u=uD(0,p.inputs,h,u,v),l=uD(1,p.outputs,h,l,S);let N=u!==null&&o!==null&&!Pg(e)?JP(u,h,o):null;a.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function VP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function uC(t,e,n,r,i,s,o,a){let u=sn(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(am(t,n,h,r,i),ed(e)&&LP(n,e.index)):e.type&3?(r=VP(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function LP(t,e){let n=ti(e,t);n[J]&16||(n[J]|=64)}function lC(t,e,n,r){if(lb()){let i=r===null?null:{"":-1},s=HP(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&dC(t,e,n,o,i,a),i&&qP(n,r,i)}n.mergedAttrs=Va(n.mergedAttrs,n.attrs)}function dC(t,e,n,r,i,s){for(let l=0;l<r.length;l++)tg(Fl(n,e),t,r[l].type);GP(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=rC(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Va(n.mergedAttrs,h.hostAttrs),WP(t,n,e,u,h),zP(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}FP(t,n,s)}function jP(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;UP(o)!=a&&o.push(a),o.push(n,r,s)}}function UP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function BP(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;ed(n)&&KP(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Fl(n,e),zi(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=to(e,t,a,n);if(zi(l,e),o!==null&&ZP(e,a-i,l,u,n,o),Jr(u)){let h=ti(n.index,e);h[rn]=to(e,t,a,n)}}}function hC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=vx();try{Hi(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Jp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&$P(u,l)}}finally{Hi(-1),Jp(o)}}function $P(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function HP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(AN(e,o.selectors,!1))if(r||(r=[]),Jr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;lg(t,e,u)}else r.unshift(o),lg(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function lg(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function qP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new $(-301,!1);r.push(e[i],s)}}}function zP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Jr(e)&&(n[""]=t)}}function GP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function WP(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=ji(i.type,!0)),o=new qi(s,Jr(i),B);t.blueprint[r]=o,n[r]=o,jP(t,e,r,rC(t,n,i.hostVars,ii),i)}function KP(t,e,n){let r=sn(e,t),i=cC(n),s=t[On].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=ud(t,ad(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function QP(t,e,n,r,i,s){let o=sn(t,e);YP(e[Je],o,s,t.value,n,r,i)}function YP(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Yl(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function ZP(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];nC(r,n,u,l,h,p)}}function JP(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function fC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function pC(t,e){let n=t.contentQueries;if(n!==null){let r=ge(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];pb(s),a.contentQueries(2,e[o],o)}}}finally{ge(r)}}}function ud(t,e){return t[ja]?t[QE][_n]=e:t[ja]=e,t[QE]=e,e}function dg(t,e,n){pb(0);let r=ge(null);try{e(t,n)}finally{ge(r)}}function XP(t){return t[Al]??=[]}function ek(t){return t.cleanup??=[]}function gC(t,e){let n=t[Js],r=n?n.get(ar,null):null;r&&r.handleError(e)}function am(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],h=t.data[o];nC(h,l,r,a,u,i)}}function tk(t,e,n){let r=ib(e,t);dP(t[Je],r,n)}function nk(t,e){let n=ti(e,t),r=n[ce];rk(r,n);let i=n[dr];i!==null&&n[Sl]===null&&(n[Sl]=Xg(i,n[Js])),cm(r,n,n[rn])}function rk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function cm(t,e,n){Ug(e);try{let r=t.viewQuery;r!==null&&dg(1,r,n);let i=t.template;i!==null&&iC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[eo]?.finishViewCreation(t),t.staticContentQueries&&pC(t,e),t.staticViewQueries&&dg(2,t.viewQuery,n);let s=t.components;s!==null&&ik(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[J]&=-5,Bg()}}function ik(t,e){for(let n=0;n<e.length;n++)nk(t,e[n])}function mC(t,e,n,r){let i=ge(null);try{let s=e.tView,a=t[J]&4096?4096:16,u=ad(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Xs]=l;let h=t[eo];return h!==null&&(u[eo]=h.createEmbeddedView(s)),cm(s,u,n),u}finally{ge(i)}}function sk(t,e){let n=Bt+e;if(n<t.length)return t[n]}function hg(t,e){return!e||e.firstChild===null||Fb(t)}function yC(t,e,n,r=!0){let i=e[ce];if(gP(i,e,t,n),r){let o=ug(n,t),a=e[Je],u=Zb(a,t[Bi]);u!==null&&fP(i,t[In],a,e,u,o)}let s=e[Sl];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function ok(t,e){let n=Ul(t,e);return n!==void 0&&rm(n[ce],n),n}function $l(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(Vn(s)),hr(s)&&ak(s,r);let o=n.type;if(o&8)$l(t,e,n.child,r);else if(o&32){let a=tm(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=Jb(e,n);if(Array.isArray(a))r.push(...a);else{let u=$i(e[Fn]);$l(u[ce],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function ak(t,e){for(let n=Bt;n<t.length;n++){let r=t[n],i=r[ce].firstChild;i!==null&&$l(r[ce],r,i,e)}t[Bi]!==t[dr]&&e.push(t[Bi])}var vC=[];function ck(t){return t[tn]??uk(t)}function uk(t){let e=vC.pop()??Object.create(dk);return e.lView=t,e}function lk(t){t.lView[tn]!==t&&(t.lView=null,vC.push(t))}var dk=de(O({},Ra),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{nd(t.lView)},consumerOnSignalRead(){this.lView[tn]=this}});function hk(t){let e=t[tn]??Object.create(fk);return e.lView=t,e}var fk=de(O({},Ra),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=$i(t.lView);for(;e&&!_C(e[ce]);)e=$i(e);e&&ab(e)},consumerOnSignalRead(){this.lView[tn]=this}});function _C(t){return t.type!==2}var pk=100;function IC(t,e=!0,n=0){let r=t[On],i=r.rendererFactory,s=!1;s||i.begin?.();try{gk(t,n)}catch(o){throw e&&gC(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function gk(t,e){let n=fb();try{ZE(!0),fg(t,e);let r=0;for(;td(t);){if(r===pk)throw new $(103,!1);r++,fg(t,1)}}finally{ZE(n)}}function mk(t,e,n,r){let i=e[J];if((i&256)===256)return;let s=!1,o=!1;!s&&e[On].inlineEffectRunner?.flush(),Ug(e);let a=!0,u=null,l=null;s||(_C(t)?(l=ck(e),u=Lu(l)):tE()===null?(a=!1,l=hk(e),u=Lu(l)):e[tn]&&(op(e[tn]),e[tn]=null));try{ob(e),px(t.bindingStartIndex),n!==null&&iC(t,e,n,2,r);let h=(i&3)===3;if(!s)if(h){let v=t.preOrderCheckHooks;v!==null&&_l(e,v,null)}else{let v=t.preOrderHooks;v!==null&&Il(e,v,0,null),Np(e,0)}if(o||yk(e),wC(e,0),t.contentQueries!==null&&pC(t,e),!s)if(h){let v=t.contentCheckHooks;v!==null&&_l(e,v)}else{let v=t.contentHooks;v!==null&&Il(e,v,1),Np(e,1)}RP(t,e);let p=t.components;p!==null&&DC(e,p,0);let m=t.viewQuery;if(m!==null&&dg(2,m,r),!s)if(h){let v=t.viewCheckHooks;v!==null&&_l(e,v)}else{let v=t.viewHooks;v!==null&&Il(e,v,2),Np(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Mp]){for(let v of e[Mp])v();e[Mp]=null}s||(e[J]&=-73)}catch(h){throw s||nd(e),h}finally{l!==null&&(ip(l,u),a&&lk(l)),Bg()}}function wC(t,e){for(let n=Lb(t);n!==null;n=jb(n))for(let r=Bt;r<n.length;r++){let i=n[r];EC(i,e)}}function yk(t){for(let e=Lb(t);e!==null;e=jb(e)){if(!(e[J]&Nl.HasTransplantedViews))continue;let n=e[Ml];for(let r=0;r<n.length;r++){let i=n[r];ab(i)}}}function vk(t,e,n){let r=ti(e,t);EC(r,n)}function EC(t,e){jg(t)&&fg(t,e)}function fg(t,e){let r=t[ce],i=t[J],s=t[tn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&sp(s)),o||=!1,s&&(s.dirty=!1),t[J]&=-9217,o)mk(r,t,r.template,t[rn]);else if(i&8192){wC(t,1);let a=r.components;a!==null&&DC(t,a,1)}}function DC(t,e,n){for(let r=0;r<e.length;r++)vk(t,e[r],n)}function um(t,e){let n=fb()?64:1088;for(t[On].changeDetectionScheduler?.notify(e);t;){t[J]|=n;let r=$i(t);if(Qp(t)&&!r)return t;t=r}return null}var Gi=class{get rootNodes(){let e=this._lView,n=e[ce];return $l(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rn]}set context(e){this._lView[rn]=e}get destroyed(){return(this._lView[J]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Tt];if(hr(e)){let n=e[Rl],r=n?n.indexOf(this):-1;r>-1&&(Ul(e,r),Cl(n,r))}this._attachedToViewContainer=!1}rm(this._lView[ce],this._lView)}onDestroy(e){cb(this._lView,e)}markForCheck(){um(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[J]&=-129}reattach(){Zp(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,IC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Qp(this._lView),n=this._lView[Xs];n!==null&&!e&&nm(n,this._lView),Kb(this._lView[ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let n=Qp(this._lView),r=this._lView[Xs];r!==null&&!n&&Qb(r,this._lView),Zp(this._lView)}},ld=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=wk;let t=e;return t})(),_k=ld,Ik=class extends _k{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=mC(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Gi(i)}};function wk(){return Ek(At(),Te())}function Ek(t,e){return t.type&4?new Ik(e,t,rd(t,e)):null}var c9=new RegExp(`^(\\d+)*(${tP}|${eP})*(.*)`);var Dk=()=>null;function pg(t,e){return Dk(t,e)}var no=class{},lm=new H("",{providedIn:"root",factory:()=>!1});var bC=new H(""),CC=new H(""),gg=class{},Hl=class{};function bk(t){let e=Error(`No component factory found for ${Ct(t)}.`);return e[Ck]=t,e}var Ck="ngComponent";var mg=class{resolveComponentFactory(e){throw bk(e)}},vm=class vm{};vm.NULL=new mg;var ro=vm,io=class{},Zi=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Tk();let t=e;return t})();function Tk(){let t=Te(),e=At(),n=ti(e.index,t);return(Yr(n)?n:t)[Je]}var Sk=(()=>{let e=class e{};e.\u0275prov=Q({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function yg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=jE(i,a);else if(s==2){let u=a,l=e[++o];r=jE(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var ql=class extends ro{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ui(e);return new Ua(n,this.ngModule)}};function dD(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:Zr.None;e?n.push({propName:o,templateName:r,isSignal:(a&Zr.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function Ak(t){let e=t.toLowerCase();return e==="svg"?XN:e==="math"?ex:null}var Ua=class extends Hl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=dD(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return dD(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=xN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ge(null);try{i=i||this.ngModule;let o=i instanceof nn?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Xp(e,o):e,u=a.get(io,null);if(u===null)throw new $(407,!1);let l=a.get(Sk,null),h=a.get(no,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",S=r?xP(m,r,this.componentDef.encapsulation,a):Wb(m,v,Ak(v)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let R=null;S!==null&&(R=Xg(S,a,!0));let j=om(0,null,null,1,0,null,null,null,null,null,null),z=ad(null,j,null,N,null,null,p,m,a,null,R);Ug(z);let Y,le,Fe=null;try{let ee=this.componentDef,D,y=null;ee.findHostDirectiveDefs?(D=[],y=new Map,ee.findHostDirectiveDefs(ee,D,y),D.push(ee)):D=[ee];let I=Rk(z,S);Fe=Mk(I,S,ee,D,z,p,m),le=Lg(j,$t),S&&Pk(m,ee,S,r),n!==void 0&&kk(le,this.ngContentSelectors,n),Y=xk(Fe,ee,D,y,z,[Ok]),cm(j,z,null)}catch(ee){throw Fe!==null&&ag(Fe),ag(z),ee}finally{Bg()}return new vg(this.componentType,Y,rd(le,z),z,le)}finally{ge(s)}}},vg=class extends gg{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Gi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;am(s[ce],s,i,e,n),this.previousInputValues.set(e,n);let o=ti(this._tNode.index,s);um(o,1)}}get injector(){return new Li(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Rk(t,e){let n=t[ce],r=$t;return t[r]=e,cd(n,r,2,"#host",null)}function Mk(t,e,n,r,i,s,o){let a=i[ce];Nk(r,t,e,o);let u=null;e!==null&&(u=Xg(e,i[Js]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=ad(i,cC(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&lg(a,t,r.length-1),ud(i,p),i[t.index]=p}function Nk(t,e,n,r){for(let i of t)e.mergedAttrs=Va(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(yg(e,e.mergedAttrs,!0),n!==null&&eC(r,n,e))}function xk(t,e,n,r,i,s){let o=At(),a=i[ce],u=sn(o,i);dC(a,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,m=to(i,a,p,o);zi(m,i)}hC(a,i,o),u&&zi(u,i);let l=to(i,a,o.directiveStart+o.componentOffset,o);if(t[rn]=i[rn]=l,s!==null)for(let h of s)h(l,e);return sC(a,o,i),l}function Pk(t,e,n,r){if(r)zp(t,n,["ng-version","18.2.3"]);else{let{attrs:i,classes:s}=PN(e.selectors[0]);i&&zp(t,n,i),s&&s.length>0&&Xb(t,n,s.join(" "))}}function kk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function Ok(){let t=At();zg(Te()[ce],t)}var lo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Fk;let t=e;return t})();function Fk(){let t=At();return Lk(t,Te())}var Vk=lo,TC=class extends Vk{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return rd(this._hostTNode,this._hostLView)}get injector(){return new Li(this._hostTNode,this._hostLView)}get parentInjector(){let e=Gg(this._hostTNode,this._hostLView);if(Eb(e)){let n=kl(e,this._hostLView),r=Pl(e),i=n[ce].data[r+8];return new Li(i,n)}else return new Li(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=hD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Bt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=pg(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,hg(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!QN(e),a;if(o)a=n;else{let S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,s=S.environmentInjector||S.ngModuleRef}let u=o?e:new Ua(Ui(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let N=(o?l:this.parentInjector).get(nn,null);N&&(s=N)}let h=Ui(u.componentType??{}),p=pg(this._lContainer,h?.id??null),m=p?.firstChild??null,v=u.create(l,i,m,s);return this.insertImpl(v.hostView,a,hg(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(tx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Tt],l=new TC(u,u[In],u[Tt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return yC(o,i,s,r),e.attachToViewContainerRef(),OD(Fp(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=hD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Ul(this._lContainer,n);r&&(Cl(Fp(this._lContainer),n),rm(r[ce],r))}detach(e){let n=this._adjustIndex(e,-1),r=Ul(this._lContainer,n);return r&&Cl(Fp(this._lContainer),n)!=null?new Gi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function hD(t){return t[Rl]}function Fp(t){return t[Rl]||(t[Rl]=[])}function Lk(t,e){let n,r=e[t.index];return hr(r)?n=r:(n=fC(r,e,null,t),e[t.index]=n,ud(e,n)),Uk(n,e,t,r),new TC(n,t,e)}function jk(t,e){let n=t[Je],r=n.createComment(""),i=sn(e,t),s=Zb(n,i);return Bl(n,s,r,IP(n,i),!1),r}var Uk=Hk,Bk=()=>!1;function $k(t,e,n){return Bk(t,e,n)}function Hk(t,e,n,r){if(t[Bi])return;let i;n.type&8?i=Vn(r):i=jk(e,n),t[Bi]=i}var fD=new Set;function ho(t){fD.has(t)||(fD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function qk(t){return typeof t=="function"&&t[ir]!==void 0}function Ka(t,e){ho("NgSignals");let n=hE(t),r=n[ir];return e?.equal&&(r.equal=e.equal),n.set=i=>ap(r,i),n.update=i=>fE(r,i),n.asReadonly=zk.bind(n),n}function zk(){let t=this[ir];if(t.readonlyFn===void 0){let e=()=>this();e[ir]=t,t.readonlyFn=e}return t.readonlyFn}function SC(t){return qk(t)&&typeof t.set=="function"}function Gk(t){return Object.getPrototypeOf(t.prototype).constructor}function fr(t){let e=Gk(t.type),n=!0,r=[t];for(;e;){let i;if(Jr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=gl(t.inputs),o.inputTransforms=gl(t.inputTransforms),o.declaredInputs=gl(t.declaredInputs),o.outputs=gl(t.outputs);let a=i.hostBindings;a&&Zk(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&Qk(t,u),l&&Yk(t,l),Wk(t,i),eN(t.outputs,i.outputs),Jr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===fr&&(n=!1)}}e=Object.getPrototypeOf(e)}Kk(r)}function Wk(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Kk(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Va(i.hostAttrs,n=Va(n,i.hostAttrs))}}function gl(t){return t===Qs?{}:t===en?[]:t}function Qk(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Yk(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function Zk(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function dm(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Xr=class{},Ba=class{};var _g=class extends Xr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ql(this);let s=qD(e);this._bootstrapComponents=Gb(s.bootstrap),this._r3Injector=Nb(e,n,[{provide:Xr,useValue:this},{provide:ro,useValue:this.componentFactoryResolver},...r],Ct(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ig=class extends Ba{constructor(e){super(),this.moduleType=e}create(e){return new _g(this.moduleType,e,[])}};var zl=class extends Xr{constructor(e){super(),this.componentFactoryResolver=new ql(this),this.instance=null;let n=new La([...e.providers,{provide:Xr,useValue:this},{provide:ro,useValue:this.componentFactoryResolver}],e.parent||Fg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function hm(t,e,n=null){return new zl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function AC(t){return Xk(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Jk(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Xk(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function eO(t,e,n){return t[e]=n}function Ji(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function tO(t){return(t.flags&32)===32}function nO(t,e,n,r,i,s,o,a,u){let l=e.consts,h=cd(e,t,4,o||null,a||null);lC(e,n,h,xl(l,u)),zg(e,h);let p=h.tView=om(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function rO(t,e,n,r,i,s,o,a,u,l){let h=n+$t,p=e.firstCreatePass?nO(h,e,t,r,i,s,o,a,u):e.data[h];za(p,!1);let m=iO(e,t,p,n);Hg()&&im(e,t,m,p),zi(m,t);let v=fC(m,t,m,p);return t[h]=v,ud(t,v),$k(v,p,t),Vg(p)&&oC(e,t,p),u!=null&&aC(t,p,l),p}function yt(t,e,n,r,i,s,o,a){let u=Te(),l=Pt(),h=xl(l.consts,s);return rO(u,l,t,e,n,r,i,h,o,a),yt}var iO=sO;function sO(t,e,n,r){return qg(!0),e[Je].createComment("")}var ka=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ka||{}),oO=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=Q({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),Fi=class Fi{constructor(){this.ngZone=F(Ce),this.scheduler=F(no),this.errorHandler=F(ar,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of Fi.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};Fi.PHASES=[ka.EarlyRead,ka.Write,ka.MixedReadWrite,ka.Read],Fi.\u0275prov=Q({token:Fi,providedIn:"root",factory:()=>new Fi});var pD=Fi;function Qa(t,e,n,r){let i=Te(),s=Ga();if(Ji(i,s,e)){let o=Pt(),a=$g();QP(a,i,t,e,n,r)}return Qa}function aO(t,e,n,r){return Ji(t,Ga(),n)?e+Yl(n)+r:ii}function ml(t,e){return t<<17|e<<2}function Wi(t){return t>>17&32767}function cO(t){return(t&2)==2}function uO(t,e){return t&131071|e<<17}function wg(t){return t|2}function so(t){return(t&131068)>>2}function Vp(t,e){return t&-131069|e<<2}function lO(t){return(t&1)===1}function Eg(t){return t|1}function dO(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Wi(o),u=so(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||qa(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=Wi(t[a+1]);t[r+1]=ml(m,a),m!==0&&(t[m+1]=Vp(t[m+1],r)),t[a+1]=uO(t[a+1],r)}else t[r+1]=ml(a,0),a!==0&&(t[a+1]=Vp(t[a+1],r)),a=r;else t[r+1]=ml(u,0),a===0?a=r:t[u+1]=Vp(t[u+1],r),u=r;l&&(t[r+1]=wg(t[r+1])),gD(t,h,r,!0),gD(t,h,r,!1),hO(e,h,t,r,s),o=ml(a,u),s?e.classBindings=o:e.styleBindings=o}function hO(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&qa(s,e)>=0&&(n[r+1]=Eg(n[r+1]))}function gD(t,e,n,r){let i=t[n+1],s=e===null,o=r?Wi(i):so(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];fO(u,e)&&(a=!0,t[o+1]=r?Eg(l):wg(l)),o=r?Wi(l):so(l)}a&&(t[n+1]=r?wg(i):Eg(i))}function fO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?qa(t,e)>=0:!1}function Xe(t,e,n){let r=Te(),i=Ga();if(Ji(r,i,e)){let s=Pt(),o=$g();uC(s,o,r,t,e,r[Je],n,!1)}return Xe}function mD(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";am(t,n,s[o],o,r)}function dd(t,e){return pO(t,e,null,!0),dd}function pO(t,e,n,r){let i=Te(),s=Pt(),o=gx(2);if(s.firstUpdatePass&&mO(s,t,o,r),e!==ii&&Ji(i,o,e)){let a=s.data[ao()];wO(s,a,i,i[Je],t,i[o+1]=EO(e,n),r,o)}}function gO(t,e){return e>=t.expandoStartIndex}function mO(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[ao()],o=gO(t,n);DO(s,r)&&e===null&&!o&&(e=!1),e=yO(i,s,e,r),dO(i,s,e,n,o,r)}}function yO(t,e,n,r){let i=_x(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Lp(null,t,e,n,r),n=$a(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Lp(i,t,e,n,r),s===null){let u=vO(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Lp(null,t,e,u[1],r),u=$a(u,e.attrs,r),_O(t,e,r,u))}else s=IO(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function vO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(so(r)!==0)return t[Wi(r)]}function _O(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Wi(i)]=r}function IO(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=$a(r,o,n)}return $a(r,e.attrs,n)}function Lp(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=$a(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function $a(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),IN(t,o,n?!0:e[++s]))}return t===void 0?null:t}function wO(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=lO(l)?yD(u,e,n,i,so(l),o):void 0;if(!Gl(h)){Gl(s)||cO(l)&&(s=yD(u,null,n,i,a,o));let p=ib(ao(),n);SP(r,o,p,i,s)}}function yD(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===ii&&(m=p?en:void 0);let v=p?Ap(m,r):h===r?m:void 0;if(l&&!Gl(v)&&(v=Ap(u,r)),Gl(v)&&(a=v,o))return a;let S=t[i+1];i=o?Wi(S):so(S)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=Ap(u,r))}return a}function Gl(t){return t!==void 0}function EO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ct(Wa(t)))),t}function DO(t,e){return(t.flags&(e?8:16))!==0}function fm(t,e){ho("NgControlFlow");let n=Te(),r=Ga(),i=n[r]!==ii?n[r]:-1,s=i!==-1?vD(n,$t+i):void 0,o=0;if(Ji(n,r,t)){let a=ge(null);try{if(s!==void 0&&ok(s,o),t!==-1){let u=$t+t,l=vD(n,u),h=bO(n[ce],u),p=pg(l,h.tView.ssrId),m=mC(n,h,e,{dehydratedView:p});yC(l,m,o,hg(h,p))}}finally{ge(a)}}else if(s!==void 0){let a=sk(s,o);a!==void 0&&(a[rn]=e)}}function vD(t,e){return t[e]}function bO(t,e){return Lg(t,e)}function CO(t,e,n,r,i,s){let o=e.consts,a=xl(o,i),u=cd(e,t,2,r,a);return lC(e,n,u,xl(o,s)),u.attrs!==null&&yg(u,u.attrs,!1),u.mergedAttrs!==null&&yg(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function k(t,e,n,r){let i=Te(),s=Pt(),o=$t+t,a=i[Je],u=s.firstCreatePass?CO(o,s,i,e,n,r):s.data[o],l=TO(s,i,u,a,e,t);i[o]=l;let h=Vg(u);return za(u,!0),eC(a,l,u),!tO(u)&&Hg()&&im(s,i,l,u),ix()===0&&zi(l,i),sx(),h&&(oC(s,i,u),sC(s,u,i)),r!==null&&aC(i,u),k}function V(){let t=At();hb()?dx():(t=t.parent,za(t,!1));let e=t;cx(e)&&ux(),ox();let n=Pt();return n.firstCreatePass&&(zg(n,t),XD(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Tx(e)&&mD(n,e,Te(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Sx(e)&&mD(n,e,Te(),e.stylesWithoutHost,!1),V}function De(t,e,n,r){return k(t,e,n,r),V(),De}var TO=(t,e,n,r,i,s)=>(qg(!0),Wb(r,i,Ex()));function pr(){return Te()}var ki=void 0;function SO(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var AO=["en",[["a","p"],["AM","PM"],ki],[["AM","PM"],ki,ki],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ki,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ki,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ki,"{1} 'at' {0}",ki],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",SO],jp={};function on(t){let e=RO(t),n=_D(e);if(n)return n;let r=e.split("-")[0];if(n=_D(r),n)return n;if(r==="en")return AO;throw new $(701,!1)}function _D(t){return t in jp||(jp[t]=Vi.ng&&Vi.ng.common&&Vi.ng.common.locales&&Vi.ng.common.locales[t]),jp[t]}var Be=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Be||{});function RO(t){return t.toLowerCase().replace(/_/g,"-")}var Wl="en-US";var MO=Wl;function NO(t){typeof t=="string"&&(MO=t.toLowerCase().replace(/_/g,"-"))}var xO=(t,e,n)=>{};function ke(t,e,n,r){let i=Te(),s=Pt(),o=At();return RC(s,i,i[Je],o,t,e,r),ke}function PO(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Al],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function RC(t,e,n,r,i,s,o){let a=Vg(r),l=t.firstCreatePass&&ek(t),h=e[rn],p=XP(e),m=!0;if(r.type&3||o){let N=sn(r,e),R=o?o(N):N,j=p.length,z=o?le=>o(Vn(le[r.index])):r.index,Y=null;if(!o&&a&&(Y=PO(t,e,i,r.index)),Y!==null){let le=Y.__ngLastListenerFn__||Y;le.__ngNextListenerFn__=s,Y.__ngLastListenerFn__=s,m=!1}else{s=wD(r,e,h,s),xO(N,i,s);let le=n.listen(R,i,s);p.push(s,le),l&&l.push(i,z,j,j+1)}}else s=wD(r,e,h,s);let v=r.outputs,S;if(m&&v!==null&&(S=v[i])){let N=S.length;if(N)for(let R=0;R<N;R+=2){let j=S[R],z=S[R+1],Fe=e[j][z].subscribe(s),ee=p.length;p.push(s,Fe),l&&l.push(i,r.index,ee,-(ee+1))}}}function ID(t,e,n,r){let i=ge(null);try{return xn(6,e,n),n(r)!==!1}catch(s){return gC(t,s),!1}finally{xn(7,e,n),ge(i)}}function wD(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?ti(t.index,e):e;um(o,5);let a=ID(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=ID(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function Ht(t=1){return wx(t)}function kO(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Ya(t){let e=hx();return sb(e,$t+t)}function q(t,e=""){let n=Te(),r=Pt(),i=t+$t,s=r.firstCreatePass?cd(r,i,1,e,null):r.data[i],o=OO(r,n,s,e,t);n[i]=o,Hg()&&im(r,n,o,s),za(s,!1)}var OO=(t,e,n,r,i)=>(qg(!0),lP(e[Je],r));function gr(t){return jn("",t,""),gr}function jn(t,e,n){let r=Te(),i=aO(r,t,e,n);return i!==ii&&tk(r,ao(),i),jn}function rt(t,e,n){SC(e)&&(e=e());let r=Te(),i=Ga();if(Ji(r,i,e)){let s=Pt(),o=$g();uC(s,o,r,t,e,r[Je],n,!1)}return rt}function ut(t,e){let n=SC(t);return n&&t.set(e),n}function it(t,e){let n=Te(),r=Pt(),i=At();return RC(r,n,n[Je],i,t,e),it}function FO(t,e,n){let r=Pt();if(r.firstCreatePass){let i=Jr(t);Dg(n,r.data,r.blueprint,i,!0),Dg(e,r.data,r.blueprint,i,!1)}}function Dg(t,e,n,r,i){if(t=bt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Dg(t[s],e,n,r,i);else{let s=Pt(),o=Te(),a=At(),u=Zs(t)?t:bt(t.provide),l=YD(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Zs(t)||!t.multi){let v=new qi(l,i,B),S=Bp(u,e,i?h:h+m,p);S===-1?(tg(Fl(a,o),s,u),Up(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)):(n[S]=v,o[S]=v)}else{let v=Bp(u,e,h+m,p),S=Bp(u,e,h,h+m),N=v>=0&&n[v],R=S>=0&&n[S];if(i&&!R||!i&&!N){tg(Fl(a,o),s,u);let j=jO(i?LO:VO,n.length,i,r,l);!i&&R&&(n[S].providerFactory=j),Up(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(j),o.push(j)}else{let j=MC(n[i?S:v],l,!i&&r);Up(s,t,v>-1?v:S,j)}!i&&r&&R&&n[S].componentProviders++}}}function Up(t,e,n,r){let i=Zs(e),s=BN(e);if(i||s){let u=(s?bt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function MC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Bp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function VO(t,e,n,r){return bg(this.multi,[])}function LO(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=to(n,n[ce],this.providerFactory.index,r);s=a.slice(0,o),bg(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],bg(i,s);return s}function bg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function jO(t,e,n,r,i){let s=new qi(t,n,B);return s.multi=[],s.index=e,s.componentProviders=0,MC(s,i,r&&!n),s}function Za(t,e=[]){return n=>{n.providersResolver=(r,i)=>FO(r,i?i(t):t,e)}}var UO=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=WD(!1,r.type),s=i.length>0?hm([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=Q({token:e,providedIn:"environment",factory:()=>new e(ie(nn))});let t=e;return t})();function vt(t){ho("NgStandalone"),t.getStandaloneInjector=e=>e.get(UO).getOrCreateStandaloneInjector(t)}function BO(t,e){let n=t[e];return n===ii?void 0:n}function $O(t,e,n,r,i,s){let o=e+n;return Ji(t,o,i)?eO(t,o+1,s?r.call(s,i):r(i)):BO(t,o+1)}function si(t,e){let n=Pt(),r,i=t+$t;n.firstCreatePass?(r=HO(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=ji(r.type,!0)),o,a=Nt(B);try{let u=Ol(!1),l=s();return Ol(u),kO(n,Te(),i,l),l}finally{Nt(a)}}function HO(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function oi(t,e,n){let r=t+$t,i=Te(),s=sb(i,r);return qO(i,r)?$O(i,fx(),e,s.transform,n,s):s.transform(n)}function qO(t,e){return t[ce].data[e].pure}var ur=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},NC=new ur("18.2.3");var hd=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var xC=new H("");function ai(t){return!!t&&typeof t.then=="function"}function pm(t){return!!t&&typeof t.subscribe=="function"}var PC=new H(""),kC=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=F(PC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(ai(o))r.push(o);else if(pm(o)){let a=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gm=new H("");function zO(){dE(()=>{throw new $(600,!1)})}function GO(t){return t.isBoundToModule}var WO=10;function KO(t,e,n){try{let r=n();return ai(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Xi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=F(Wx),this.afterRenderManager=F(oO),this.zonelessEnabled=F(lm),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new nt,this.afterTick=new nt,this.componentTypes=[],this.components=[],this.isStable=F(uo).hasPendingTasks.pipe(ne(r=>!r)),this._injector=F(nn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Hl;if(!this._injector.get(kC).done){let v=!s&&HD(r),S=!1;throw new $(405,S)}let a;s?a=r:a=this._injector.get(ro).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=GO(a)?void 0:this._injector.get(Xr),l=i||a.selector,h=a.create(xt.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(xC,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),wl(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new $(101,!1);let r=ge(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,ge(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(io,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<WO;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:o}of this._views)QO(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>td(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;wl(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(gm,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>wl(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new $(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wl(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function QO(t,e,n,r){if(!n&&!td(t))return;IC(t,e,n&&!r?0:1)}var Cg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},mm=(()=>{let e=class e{compileModuleSync(r){return new Ig(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=qD(r),o=Gb(s.declarations).reduce((a,u)=>{let l=Ui(u);return l&&a.push(new Ua(l)),a},[]);return new Cg(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var YO=(()=>{let e=class e{constructor(){this.zone=F(Ce),this.changeDetectionScheduler=F(no),this.applicationRef=F(Xi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ZO=new H("",{factory:()=>!1});function OC({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ce(de(O({},VC()),{scheduleInRootZone:n})),[{provide:Ce,useFactory:t},{provide:Ys,multi:!0,useFactory:()=>{let r=F(YO,{optional:!0});return()=>r.initialize()}},{provide:Ys,multi:!0,useFactory:()=>{let r=F(JO);return()=>{r.initialize()}}},e===!0?{provide:bC,useValue:!0}:[],{provide:CC,useValue:n??xb}]}function FC(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=OC({ngZoneFactory:()=>{let i=VC(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&ho("NgZone_CoalesceEvent"),new Ce(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Ln([{provide:ZO,useValue:!0},{provide:lm,useValue:!1},r])}function VC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var JO=(()=>{let e=class e{constructor(){this.subscription=new Le,this.initialized=!1,this.zone=F(Ce),this.pendingTasks=F(uo)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var XO=(()=>{let e=class e{constructor(){this.appRef=F(Xi),this.taskService=F(uo),this.ngZone=F(Ce),this.zonelessEnabled=F(lm),this.disableScheduling=F(bC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Le,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ll):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(F(CC,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof og||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?nD:kb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ll+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,nD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function e1(){return typeof $localize<"u"&&$localize.locale||Wl}var fd=new H("",{providedIn:"root",factory:()=>F(fd,ae.Optional|ae.SkipSelf)||e1()});var LC=new H("");function yl(t){return!!t.platformInjector}function t1(t){let e=yl(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ce);return n.run(()=>{yl(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(ar,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),yl(t)){let s=()=>e.destroy(),o=t.platformInjector.get(LC);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{wl(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return KO(r,n,()=>{let s=e.get(kC);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(fd,Wl);if(NO(o||Wl),yl(t)){let a=e.get(Xi);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return n1(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function n1(t,e){let n=t.injector.get(Xi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new $(-403,!1);e.push(t)}var El=null;function r1(t=[],e){return xt.create({name:e,providers:[{provide:Jl,useValue:"platform"},{provide:LC,useValue:new Set([()=>El=null])},...t]})}function i1(t=[]){if(El)return El;let e=r1(t);return El=e,zO(),s1(e),e}function s1(t){t.get(Zg,null)?.forEach(n=>n())}var Un=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=o1;let t=e;return t})();function o1(t){return a1(At(),Te(),(t&16)===16)}function a1(t,e,n){if(ed(t)&&!n){let r=ti(t.index,e);return new Gi(r,r)}else if(t.type&175){let r=e[Fn];return new Gi(r,e)}return null}var Tg=class{constructor(){}supports(e){return AC(e)}create(e){return new Sg(e)}},c1=(t,e)=>e,Sg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||c1}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<ED(r,i,s)?n:r,a=ED(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let v=m<s.length?s[m]:s[m]=0,S=v+m;h<=S&&S<l&&(s[m]=v+1)}let p=o.previousIndex;s[p]=h-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!AC(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,Jk(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Ag(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Kl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Kl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Ag=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Rg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Kl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Rg,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ED(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function DD(){return new ym([new Tg])}var ym=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||DD()),deps:[[e,new kD,new St]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new $(901,!1)}};e.\u0275prov=Q({token:e,providedIn:"root",factory:DD});let t=e;return t})();function jC(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=i1(r),s=[OC({}),{provide:no,useExisting:XO},...n||[]],o=new zl({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return t1({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var UC=new H("");function ci(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Ja(t,e){ho("NgSignals");let n=cE(t);return e?.equal&&(n[ir].equal=e.equal),n}function wn(t){let e=ge(null);try{return t()}finally{ge(e)}}var GC=null;function vr(){return GC}function WC(t){GC??=t}var Ed=class{};var Gt=new H(""),KC=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:()=>F(u1),providedIn:"platform"});let t=e;return t})();var u1=(()=>{let e=class e extends KC{constructor(){super(),this._doc=F(Gt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vr().getBaseHref(this._doc)}onPopState(r){let i=vr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=vr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function QC(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function BC(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function es(t){return t&&t[0]!=="?"?"?"+t:t}var fo=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:()=>F(YC),providedIn:"root"});let t=e;return t})(),l1=new H(""),YC=(()=>{let e=class e extends fo{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??F(Gt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return QC(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+es(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+es(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+es(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(ie(KC),ie(l1,8))},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Xa=(()=>{let e=class e{constructor(r){this._subject=new He,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=f1(BC($C(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+es(i))}normalize(r){return e.stripTrailingSlash(h1(this._basePath,$C(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+es(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+es(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=es,e.joinWithSlash=QC,e.stripTrailingSlash=BC,e.\u0275fac=function(i){return new(i||e)(ie(fo))},e.\u0275prov=Q({token:e,factory:()=>d1(),providedIn:"root"});let t=e;return t})();function d1(){return new Xa(ie(fo))}function h1(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function $C(t){return t.replace(/\/index.html$/,"")}function f1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Rt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Rt||{}),Re=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Re||{}),zt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(zt||{}),ui={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function p1(t){return on(t)[Be.LocaleId]}function g1(t,e,n){let r=on(t),i=[r[Be.DayPeriodsFormat],r[Be.DayPeriodsStandalone]],s=an(i,e);return an(s,n)}function m1(t,e,n){let r=on(t),i=[r[Be.DaysFormat],r[Be.DaysStandalone]],s=an(i,e);return an(s,n)}function y1(t,e,n){let r=on(t),i=[r[Be.MonthsFormat],r[Be.MonthsStandalone]],s=an(i,e);return an(s,n)}function v1(t,e){let r=on(t)[Be.Eras];return an(r,e)}function pd(t,e){let n=on(t);return an(n[Be.DateFormat],e)}function gd(t,e){let n=on(t);return an(n[Be.TimeFormat],e)}function md(t,e){let r=on(t)[Be.DateTimeFormat];return an(r,e)}function Cd(t,e){let n=on(t),r=n[Be.NumberSymbols][e];if(typeof r>"u"){if(e===ui.CurrencyDecimal)return n[Be.NumberSymbols][ui.Decimal];if(e===ui.CurrencyGroup)return n[Be.NumberSymbols][ui.Group]}return r}function ZC(t){if(!t[Be.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Be.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function _1(t){let e=on(t);return ZC(e),(e[Be.ExtraData][2]||[]).map(r=>typeof r=="string"?_m(r):[_m(r[0]),_m(r[1])])}function I1(t,e,n){let r=on(t);ZC(r);let i=[r[Be.ExtraData][0],r[Be.ExtraData][1]],s=an(i,e)||[];return an(s,n)||[]}function an(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function _m(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var w1=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yd={},E1=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,yr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(yr||{}),Ee=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Ee||{}),we=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(we||{});function D1(t,e,n,r){let i=x1(t);e=mr(n,e)||e;let o=[],a;for(;e;)if(a=E1.exec(e),a){o=o.concat(a.slice(1));let h=o.pop();if(!h)break;e=h}else{o.push(e);break}let u=i.getTimezoneOffset();r&&(u=XC(r,u),i=N1(i,r,!0));let l="";return o.forEach(h=>{let p=R1(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Dd(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function mr(t,e){let n=p1(t);if(yd[n]??={},yd[n][e])return yd[n][e];let r="";switch(e){case"shortDate":r=pd(t,zt.Short);break;case"mediumDate":r=pd(t,zt.Medium);break;case"longDate":r=pd(t,zt.Long);break;case"fullDate":r=pd(t,zt.Full);break;case"shortTime":r=gd(t,zt.Short);break;case"mediumTime":r=gd(t,zt.Medium);break;case"longTime":r=gd(t,zt.Long);break;case"fullTime":r=gd(t,zt.Full);break;case"short":let i=mr(t,"shortTime"),s=mr(t,"shortDate");r=vd(md(t,zt.Short),[i,s]);break;case"medium":let o=mr(t,"mediumTime"),a=mr(t,"mediumDate");r=vd(md(t,zt.Medium),[o,a]);break;case"long":let u=mr(t,"longTime"),l=mr(t,"longDate");r=vd(md(t,zt.Long),[u,l]);break;case"full":let h=mr(t,"fullTime"),p=mr(t,"fullDate");r=vd(md(t,zt.Full),[h,p]);break}return r&&(yd[n][e]=r),r}function vd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function En(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function b1(t,e){return En(t,3).substring(0,e)}function qe(t,e,n=0,r=!1,i=!1){return function(s,o){let a=C1(t,s);if((n>0||a>-n)&&(a+=n),t===Ee.Hours)a===0&&n===-12&&(a=12);else if(t===Ee.FractionalSeconds)return b1(a,e);let u=Cd(o,ui.MinusSign);return En(a,e,u,r,i)}}function C1(t,e){switch(t){case Ee.FullYear:return e.getFullYear();case Ee.Month:return e.getMonth();case Ee.Date:return e.getDate();case Ee.Hours:return e.getHours();case Ee.Minutes:return e.getMinutes();case Ee.Seconds:return e.getSeconds();case Ee.FractionalSeconds:return e.getMilliseconds();case Ee.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Ne(t,e,n=Rt.Format,r=!1){return function(i,s){return T1(i,s,t,e,n,r)}}function T1(t,e,n,r,i,s){switch(n){case we.Months:return y1(e,i,r)[t.getMonth()];case we.Days:return m1(e,i,r)[t.getDay()];case we.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let l=_1(e),h=I1(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[v,S]=m,N=o>=v.hours&&a>=v.minutes,R=o<S.hours||o===S.hours&&a<S.minutes;if(v.hours<S.hours){if(N&&R)return!0}else if(N||R)return!0}else if(m.hours===o&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return g1(e,i,r)[o<12?0:1];case we.Eras:return v1(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function _d(t){return function(e,n,r){let i=-1*r,s=Cd(n,ui.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case yr.Short:return(i>=0?"+":"")+En(o,2,s)+En(Math.abs(i%60),2,s);case yr.ShortGMT:return"GMT"+(i>=0?"+":"")+En(o,1,s);case yr.Long:return"GMT"+(i>=0?"+":"")+En(o,2,s)+":"+En(Math.abs(i%60),2,s);case yr.Extended:return r===0?"Z":(i>=0?"+":"")+En(o,2,s)+":"+En(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var S1=0,wd=4;function A1(t){let e=Dd(t,S1,1).getDay();return Dd(t,0,1+(e<=wd?wd:wd+7)-e)}function JC(t){let e=t.getDay(),n=e===0?-3:wd-e;return Dd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Im(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=JC(n),o=A1(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return En(i,t,Cd(r,ui.MinusSign))}}function Id(t,e=!1){return function(n,r){let s=JC(n).getFullYear();return En(s,t,Cd(r,ui.MinusSign),e)}}var wm={};function R1(t){if(wm[t])return wm[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ne(we.Eras,Re.Abbreviated);break;case"GGGG":e=Ne(we.Eras,Re.Wide);break;case"GGGGG":e=Ne(we.Eras,Re.Narrow);break;case"y":e=qe(Ee.FullYear,1,0,!1,!0);break;case"yy":e=qe(Ee.FullYear,2,0,!0,!0);break;case"yyy":e=qe(Ee.FullYear,3,0,!1,!0);break;case"yyyy":e=qe(Ee.FullYear,4,0,!1,!0);break;case"Y":e=Id(1);break;case"YY":e=Id(2,!0);break;case"YYY":e=Id(3);break;case"YYYY":e=Id(4);break;case"M":case"L":e=qe(Ee.Month,1,1);break;case"MM":case"LL":e=qe(Ee.Month,2,1);break;case"MMM":e=Ne(we.Months,Re.Abbreviated);break;case"MMMM":e=Ne(we.Months,Re.Wide);break;case"MMMMM":e=Ne(we.Months,Re.Narrow);break;case"LLL":e=Ne(we.Months,Re.Abbreviated,Rt.Standalone);break;case"LLLL":e=Ne(we.Months,Re.Wide,Rt.Standalone);break;case"LLLLL":e=Ne(we.Months,Re.Narrow,Rt.Standalone);break;case"w":e=Im(1);break;case"ww":e=Im(2);break;case"W":e=Im(1,!0);break;case"d":e=qe(Ee.Date,1);break;case"dd":e=qe(Ee.Date,2);break;case"c":case"cc":e=qe(Ee.Day,1);break;case"ccc":e=Ne(we.Days,Re.Abbreviated,Rt.Standalone);break;case"cccc":e=Ne(we.Days,Re.Wide,Rt.Standalone);break;case"ccccc":e=Ne(we.Days,Re.Narrow,Rt.Standalone);break;case"cccccc":e=Ne(we.Days,Re.Short,Rt.Standalone);break;case"E":case"EE":case"EEE":e=Ne(we.Days,Re.Abbreviated);break;case"EEEE":e=Ne(we.Days,Re.Wide);break;case"EEEEE":e=Ne(we.Days,Re.Narrow);break;case"EEEEEE":e=Ne(we.Days,Re.Short);break;case"a":case"aa":case"aaa":e=Ne(we.DayPeriods,Re.Abbreviated);break;case"aaaa":e=Ne(we.DayPeriods,Re.Wide);break;case"aaaaa":e=Ne(we.DayPeriods,Re.Narrow);break;case"b":case"bb":case"bbb":e=Ne(we.DayPeriods,Re.Abbreviated,Rt.Standalone,!0);break;case"bbbb":e=Ne(we.DayPeriods,Re.Wide,Rt.Standalone,!0);break;case"bbbbb":e=Ne(we.DayPeriods,Re.Narrow,Rt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ne(we.DayPeriods,Re.Abbreviated,Rt.Format,!0);break;case"BBBB":e=Ne(we.DayPeriods,Re.Wide,Rt.Format,!0);break;case"BBBBB":e=Ne(we.DayPeriods,Re.Narrow,Rt.Format,!0);break;case"h":e=qe(Ee.Hours,1,-12);break;case"hh":e=qe(Ee.Hours,2,-12);break;case"H":e=qe(Ee.Hours,1);break;case"HH":e=qe(Ee.Hours,2);break;case"m":e=qe(Ee.Minutes,1);break;case"mm":e=qe(Ee.Minutes,2);break;case"s":e=qe(Ee.Seconds,1);break;case"ss":e=qe(Ee.Seconds,2);break;case"S":e=qe(Ee.FractionalSeconds,1);break;case"SS":e=qe(Ee.FractionalSeconds,2);break;case"SSS":e=qe(Ee.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=_d(yr.Short);break;case"ZZZZZ":e=_d(yr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=_d(yr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=_d(yr.Long);break;default:return null}return wm[t]=e,e}function XC(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function M1(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function N1(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),s=XC(e,i);return M1(t,r*(s-i))}function x1(t){if(HC(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return Dd(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(w1))return P1(r)}let e=new Date(t);if(!HC(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function P1(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,u,l),e}function HC(t){return t instanceof Date&&!isNaN(t.valueOf())}function e0(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Em=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},t0=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Em(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let u=i.get(o);i.move(u,a),qC(u,s)}});for(let s=0,o=i.length;s<o;s++){let u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);qC(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(B(lo),B(ld),B(ym))},e.\u0275dir=ct({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function qC(t,e){t.context.$implicit=e.item}var li=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Dm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){zC("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){zC("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(B(lo),B(ld))},e.\u0275dir=ct({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Dm=class{constructor(){this.$implicit=null,this.ngIf=null}};function zC(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Ct(e)}'.`)}function n0(t,e){return new $(2100,!1)}var bm=class{createSubscription(e,n){return wn(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){wn(()=>e.unsubscribe())}},Cm=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},k1=new Cm,O1=new bm,Td=(()=>{let e=class e{constructor(r){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){if(!this._obj){if(r)try{this.markForCheckOnValueUpdate=!1,this._subscribe(r)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(ai(r))return k1;if(pm(r))return O1;throw n0(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(B(Un,16))},e.\u0275pipe=kg({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var F1="mediumDate",V1=new H(""),L1=new H(""),r0=(()=>{let e=class e{constructor(r,i,s){this.locale=r,this.defaultTimezone=i,this.defaultOptions=s}transform(r,i,s,o){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??F1,u=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return D1(r,a,o||this.locale,u)}catch(a){throw n0(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(B(fd,16),B(V1,24),B(L1,24))},e.\u0275pipe=kg({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var Dn=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Yi({type:e}),e.\u0275inj=Qi({});let t=e;return t})(),i0="browser",j1="server";function Tm(t){return t===j1}var bd=class{};var Rm=class extends Ed{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Mm=class t extends Rm{static makeCurrent(){WC(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=U1();return n==null?null:B1(n)}resetBaseElement(){ec=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return e0(document.cookie,e)}},ec=null;function U1(){return ec=ec||document.querySelector("base"),ec?ec.getAttribute("href"):null}function B1(t){return new URL(t,document.baseURI).pathname}var $1=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let t=e;return t})(),Sd=new H(""),c0=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new $(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(ie(Sd),ie(Ce))},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let t=e;return t})(),tc=class{constructor(e){this._doc=e}},Sm="ng-app-id",u0=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Tm(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Sm}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Sm),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Sm,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(ie(Gt),ie(Yg),ie(Jg,8),ie(ri))},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let t=e;return t})(),Am={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},xm=/%COMP%/g,l0="%COMP%",H1=`_nghost-${l0}`,q1=`_ngcontent-${l0}`,z1=!0,G1=new H("",{providedIn:"root",factory:()=>z1});function W1(t){return q1.replace(xm,t)}function K1(t){return H1.replace(xm,t)}function d0(t,e){return e.map(n=>n.replace(xm,t))}var s0=(()=>{let e=class e{constructor(r,i,s,o,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Tm(u),this.defaultRenderer=new nc(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===kn.ShadowDom&&(i=de(O({},i),{encapsulation:kn.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Ad?s.applyToHost(r):s instanceof rc&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case kn.Emulated:o=new Ad(l,h,i,this.appId,p,a,u,m);break;case kn.ShadowDom:return new Nm(l,h,r,i,a,u,this.nonce,m);default:o=new rc(l,h,i,p,a,u,m);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(ie(c0),ie(u0),ie(Yg),ie(G1),ie(Gt),ie(ri),ie(Ce),ie(Jg))},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let t=e;return t})(),nc=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Am[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(o0(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(o0(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Am[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Am[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(cr.DashCase|cr.Important)?e.style.setProperty(n,r,i&cr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&cr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=vr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function o0(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Nm=class extends nc{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=d0(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},rc=class extends nc{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?d0(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ad=class extends rc{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=W1(l),this.hostAttr=K1(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},Q1=(()=>{let e=class e extends tc{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(ie(Gt))},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let t=e;return t})(),Y1=(()=>{let e=class e extends tc{constructor(r){super(r),this.delegate=F(UC,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(ie(Gt))},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let t=e;return t})(),a0=["alt","control","meta","shift"],Z1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},J1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},X1=(()=>{let e=class e extends tc{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vr().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),a0.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=Z1[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),a0.forEach(a=>{if(a!==s){let u=J1[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(ie(Gt))},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let t=e;return t})();function h0(t,e){return jC(O({rootComponent:t},eF(e)))}function eF(t){return{appProviders:[...sF,...t?.providers??[]],platformProviders:iF}}function tF(){Mm.makeCurrent()}function nF(){return new ar}function rF(){return Bb(document),document}var iF=[{provide:ri,useValue:i0},{provide:Zg,useValue:tF,multi:!0},{provide:Gt,useFactory:rF,deps:[]}];var sF=[{provide:Jl,useValue:"root"},{provide:ar,useFactory:nF,deps:[]},{provide:Sd,useClass:Q1,multi:!0,deps:[Gt,Ce,ri]},{provide:Sd,useClass:X1,multi:!0,deps:[Gt]},{provide:Sd,useClass:Y1,multi:!0},s0,u0,c0,{provide:io,useExisting:s0},{provide:bd,useClass:$1,deps:[]},[]];var f0=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(ie(Gt))},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var oe="primary",_c=Symbol("RouteTitle"),Vm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Io(t){return new Vm(t)}function aF(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function cF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Bn(t[n],e[n]))return!1;return!0}function Bn(t,e){let n=t?Lm(t):void 0,r=e?Lm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!w0(t[i],e[i]))return!1;return!0}function Lm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function w0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function E0(t){return t.length>0?t[t.length-1]:null}function hi(t){return Ip(t)?t:ai(t)?Ue(Promise.resolve(t)):G(t)}var uF={exact:b0,subset:C0},D0={exact:lF,subset:dF,ignored:()=>!0};function p0(t,e,n){return uF[n.paths](t.root,e.root,n.matrixParams)&&D0[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function lF(t,e){return Bn(t,e)}function b0(t,e,n){if(!ns(t.segments,e.segments)||!Nd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!b0(t.children[r],e.children[r],n))return!1;return!0}function dF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>w0(t[n],e[n]))}function C0(t,e,n){return T0(t,e,e.segments,n)}function T0(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ns(i,n)||e.hasChildren()||!Nd(i,n,r))}else if(t.segments.length===n.length){if(!ns(t.segments,n)||!Nd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!C0(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ns(t.segments,i)||!Nd(t.segments,i,r)||!t.children[oe]?!1:T0(t.children[oe],e,s,r)}}function Nd(t,e,n){return e.every((r,i)=>D0[n](t[i].parameters,r.parameters))}var Ir=class{constructor(e=new be([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Io(this.queryParams),this._queryParamMap}toString(){return pF.serialize(this)}},be=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xd(this)}},ts=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Io(this.parameters),this._parameterMap}toString(){return A0(this)}};function hF(t,e){return ns(t,e)&&t.every((n,r)=>Bn(n.parameters,e[r].parameters))}function ns(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function fF(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===oe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==oe&&(n=n.concat(e(i,r)))}),n}var ly=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:()=>new lc,providedIn:"root"});let t=e;return t})(),lc=class{parse(e){let n=new Um(e);return new Ir(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ic(e.root,!0)}`,r=yF(e.queryParams),i=typeof e.fragment=="string"?`#${gF(e.fragment)}`:"";return`${n}${r}${i}`}},pF=new lc;function xd(t){return t.segments.map(e=>A0(e)).join("/")}function ic(t,e){if(!t.hasChildren())return xd(t);if(e){let n=t.children[oe]?ic(t.children[oe],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==oe&&r.push(`${i}:${ic(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=fF(t,(r,i)=>i===oe?[ic(t.children[oe],!1)]:[`${i}:${ic(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[oe]!=null?`${xd(t)}/${n[0]}`:`${xd(t)}/(${n.join("//")})`}}function S0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rd(t){return S0(t).replace(/%3B/gi,";")}function gF(t){return encodeURI(t)}function jm(t){return S0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pd(t){return decodeURIComponent(t)}function g0(t){return Pd(t.replace(/\+/g,"%20"))}function A0(t){return`${jm(t.path)}${mF(t.parameters)}`}function mF(t){return Object.entries(t).map(([e,n])=>`;${jm(e)}=${jm(n)}`).join("")}function yF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Rd(n)}=${Rd(i)}`).join("&"):`${Rd(n)}=${Rd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var vF=/^[^\/()?;#]+/;function Pm(t){let e=t.match(vF);return e?e[0]:""}var _F=/^[^\/()?;=#]+/;function IF(t){let e=t.match(_F);return e?e[0]:""}var wF=/^[^=?&#]+/;function EF(t){let e=t.match(wF);return e?e[0]:""}var DF=/^[^&#]+/;function bF(t){let e=t.match(DF);return e?e[0]:""}var Um=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[oe]=new be(e,n)),r}parseSegment(){let e=Pm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new ts(Pd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=IF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Pm(this.remaining);i&&(r=i,this.capture(r))}e[Pd(n)]=Pd(r)}parseQueryParam(e){let n=EF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=bF(this.remaining);o&&(r=o,this.capture(r))}let i=g0(n),s=g0(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Pm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=oe);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[oe]:new be([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function R0(t){return t.segments.length>0?new be([],{[oe]:t}):t}function M0(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=M0(i);if(r===oe&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new be(t.segments,e);return CF(n)}function CF(t){if(t.numberOfChildren===1&&t.children[oe]){let e=t.children[oe];return new be(t.segments.concat(e.segments),e.children)}return t}function rs(t){return t instanceof Ir}function TF(t,e,n=null,r=null){let i=N0(t);return x0(i,e,n,r)}function N0(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new be(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=R0(r);return e??i}function x0(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return km(i,i,i,n,r);let s=SF(e);if(s.toRoot())return km(i,i,new be([],{}),n,r);let o=AF(s,i,t),a=o.processChildren?ac(o.segmentGroup,o.index,s.commands):k0(o.segmentGroup,o.index,s.commands);return km(i,o.segmentGroup,a,n,r)}function kd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function dc(t){return typeof t=="object"&&t!=null&&t.outlets}function km(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;t===e?o=n:o=P0(t,e,n);let a=R0(M0(o));return new Ir(a,s,i)}function P0(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=P0(s,e,n)}),new be(t.segments,r)}var Od=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&kd(r[0]))throw new $(4003,!1);let i=r.find(dc);if(i&&i!==E0(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function SF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Od(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Od(n,e,r)}var yo=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function AF(t,e,n){if(t.isAbsolute)return new yo(e,!0,0);if(!n)return new yo(e,!1,NaN);if(n.parent===null)return new yo(n,!0,0);let r=kd(t.commands[0])?0:1,i=n.segments.length-1+r;return RF(n,i,t.numberOfDoubleDots)}function RF(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new yo(r,!1,i-s)}function MF(t){return dc(t[0])?t[0].outlets:{[oe]:t}}function k0(t,e,n){if(t??=new be([],{}),t.segments.length===0&&t.hasChildren())return ac(t,e,n);let r=NF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new be(t.segments.slice(0,r.pathIndex),{});return s.children[oe]=new be(t.segments.slice(r.pathIndex),t.children),ac(s,0,i)}else return r.match&&i.length===0?new be(t.segments,{}):r.match&&!t.hasChildren()?Bm(t,e,n):r.match?ac(t,0,i):Bm(t,e,n)}function ac(t,e,n){if(n.length===0)return new be(t.segments,{});{let r=MF(n),i={};if(Object.keys(r).some(s=>s!==oe)&&t.children[oe]&&t.numberOfChildren===1&&t.children[oe].segments.length===0){let s=ac(t.children[oe],e,n);return new be(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=k0(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new be(t.segments,i)}}function NF(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(dc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!y0(u,l,o))return s;r+=2}else{if(!y0(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Bm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(dc(s)){let u=xF(s.outlets);return new be(r,u)}if(i===0&&kd(n[0])){let u=t.segments[e];r.push(new ts(u.path,m0(n[0]))),i++;continue}let o=dc(s)?s.outlets[oe]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&kd(a)?(r.push(new ts(o,m0(a))),i+=2):(r.push(new ts(o,{})),i++)}return new be(r,{})}function xF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Bm(new be([],{}),0,r))}),e}function m0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function y0(t,e,n){return t==n.path&&Bn(e,n.parameters)}var cc="imperative",lt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(lt||{}),cn=class{constructor(e,n){this.id=e,this.url=n}},hc=class extends cn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=lt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},di=class extends cn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=lt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Kt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Kt||{}),$m=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}($m||{}),_r=class extends cn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=lt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},is=class extends cn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=lt.NavigationSkipped}},fc=class extends cn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=lt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Fd=class extends cn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=lt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hm=class extends cn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=lt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qm=class extends cn{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=lt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},zm=class extends cn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=lt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gm=class extends cn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=lt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wm=class{constructor(e){this.route=e,this.type=lt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Km=class{constructor(e){this.route=e,this.type=lt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Qm=class{constructor(e){this.snapshot=e,this.type=lt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ym=class{constructor(e){this.snapshot=e,this.type=lt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zm=class{constructor(e){this.snapshot=e,this.type=lt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jm=class{constructor(e){this.snapshot=e,this.type=lt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var pc=class{},wo=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function PF(t,e){return t.providers&&!t._injector&&(t._injector=hm(t.providers,e,`Route: ${t.path}`)),t._injector??e}function bn(t){return t.outlet||oe}function kF(t,e){let n=t.filter(r=>bn(r)===e);return n.push(...t.filter(r=>bn(r)!==e)),n}function Ic(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Xm=class{get injector(){return Ic(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Hd(this.rootInjector),this.attachRef=null}},Hd=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Xm(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(ie(nn))},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Vd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=ey(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=ey(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=ty(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ty(e,this._root).map(n=>n.value)}};function ey(t,e){if(t===e.value)return e;for(let n of e.children){let r=ey(t,n);if(r)return r}return null}function ty(t,e){if(t===e.value)return[e];for(let n of e.children){let r=ty(t,n);if(r.length)return r.unshift(e),r}return[]}var Wt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function mo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ld=class extends Vd{constructor(e,n){super(e),this.snapshot=n,dy(this,e)}toString(){return this.snapshot.toString()}};function O0(t){let e=OF(t),n=new Qe([new ts("",{})]),r=new Qe({}),i=new Qe({}),s=new Qe({}),o=new Qe(""),a=new wr(n,r,s,o,i,oe,t,e.root);return a.snapshot=e.root,new Ld(new Wt(a,[]),e)}function OF(t){let e={},n={},r={},i="",s=new vo([],e,r,i,n,oe,t,null,{});return new Ud("",new Wt(s,[]))}var wr=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ne(l=>l[_c]))??G(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ne(e=>Io(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ne(e=>Io(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function jd(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),i?.data),t._resolvedData)}:r={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},i&&V0(i)&&(r.resolve[_c]=i.title),r}var vo=class{get title(){return this.data?.[_c]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Io(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Io(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ud=class extends Vd{constructor(e,n){super(n),this.url=e,dy(this,n)}toString(){return F0(this._root)}};function dy(t,e){e.value._routerState=t,e.children.forEach(n=>dy(t,n))}function F0(t){let e=t.children.length>0?` { ${t.children.map(F0).join(", ")} } `:"";return`${t.value}${e}`}function Om(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Bn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Bn(e.params,n.params)||t.paramsSubject.next(n.params),cF(e.url,n.url)||t.urlSubject.next(n.url),Bn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ny(t,e){let n=Bn(t.params,e.params)&&hF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||ny(t.parent,e.parent))}function V0(t){return typeof t.title=="string"||t.title===null}var hy=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=oe,this.activateEvents=new He,this.deactivateEvents=new He,this.attachEvents=new He,this.detachEvents=new He,this.parentContexts=F(Hd),this.location=F(lo),this.changeDetector=F(Un),this.inputBinder=F(fy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new ry(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ct({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ei]});let t=e;return t})(),ry=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===wr?this.route:e===Hd?this.childContexts:this.parent.get(e,n)}},fy=new H("");function FF(t,e,n){let r=gc(t,e._root,n?n._root:void 0);return new Ld(r,e)}function gc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=VF(t,e,n);return new Wt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>gc(t,a)),o}}let r=LF(e.value),i=e.children.map(s=>gc(t,s));return new Wt(r,i)}}function VF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return gc(t,r,i);return gc(t,r)})}function LF(t){return new wr(new Qe(t.url),new Qe(t.params),new Qe(t.queryParams),new Qe(t.fragment),new Qe(t.data),t.outlet,t.component,t)}var mc=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},L0="ngNavigationCancelingError";function Bd(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=rs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=j0(!1,Kt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function j0(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[L0]=!0,n.cancellationCode=e,n}function jF(t){return U0(t)&&rs(t.url)}function U0(t){return!!t&&t[L0]}var UF=(t,e,n,r)=>ne(i=>(new iy(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),iy=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Om(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=mo(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=mo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=mo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=mo(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Jm(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Ym(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Om(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Om(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},$d=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},_o=class{constructor(e,n){this.component=e,this.route=n}};function BF(t,e,n){let r=t._root,i=e?e._root:null;return sc(r,i,n,[r.value])}function $F(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Do(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!SD(t)?t:e.get(t):r}function sc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=mo(e);return t.children.forEach(o=>{HF(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>uc(a,n.getContext(o),i)),i}function HF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=qF(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new $d(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?sc(t,e,a?a.children:null,r,i):sc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new _o(a.outlet.component,o))}else o&&uc(e,a,i),i.canActivateChecks.push(new $d(r)),s.component?sc(t,null,a?a.children:null,r,i):sc(t,null,n,r,i);return i}function qF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ns(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ns(t.url,e.url)||!Bn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ny(t,e)||!Bn(t.queryParams,e.queryParams);case"paramsChange":default:return!ny(t,e)}}function uc(t,e,n){let r=mo(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?uc(o,e.children.getContext(s),n):uc(o,null,n):uc(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new _o(e.outlet.component,i)):n.canDeactivateChecks.push(new _o(null,i)):n.canDeactivateChecks.push(new _o(null,i))}function wc(t){return typeof t=="function"}function zF(t){return typeof t=="boolean"}function GF(t){return t&&wc(t.canLoad)}function WF(t){return t&&wc(t.canActivate)}function KF(t){return t&&wc(t.canActivateChild)}function QF(t){return t&&wc(t.canDeactivate)}function YF(t){return t&&wc(t.canMatch)}function B0(t){return t instanceof sr||t?.name==="EmptyError"}var Md=Symbol("INITIAL_VALUE");function Eo(){return yn(t=>ll(t.map(e=>e.pipe(or(1),Tp(Md)))).pipe(ne(e=>{for(let n of e)if(n!==!0){if(n===Md)return Md;if(n===!1||ZF(n))return n}return!0}),mn(e=>e!==Md),or(1)))}function ZF(t){return rs(t)||t instanceof mc}function JF(t,e){return Ye(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?G(de(O({},n),{guardsResult:!0})):XF(o,r,i,t).pipe(Ye(a=>a&&zF(a)?eV(r,s,t,e):G(a)),ne(a=>de(O({},n),{guardsResult:a})))})}function XF(t,e,n,r){return Ue(t).pipe(Ye(i=>sV(i.component,i.route,n,e,r)),Nn(i=>i!==!0,!0))}function eV(t,e,n,r){return Ue(e).pipe($s(i=>Bs(nV(i.route.parent,r),tV(i.route,r),iV(t,i.path,n),rV(t,i.route,n))),Nn(i=>i!==!0,!0))}function tV(t,e){return t!==null&&e&&e(new Zm(t)),G(!0)}function nV(t,e){return t!==null&&e&&e(new Qm(t)),G(!0)}function rV(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return G(!0);let i=r.map(s=>dl(()=>{let o=Ic(e)??n,a=Do(s,o),u=WF(a)?a.canActivate(e,t):lr(o,()=>a(e,t));return hi(u).pipe(Nn())}));return G(i).pipe(Eo())}function iV(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>$F(o)).filter(o=>o!==null).map(o=>dl(()=>{let a=o.guards.map(u=>{let l=Ic(o.node)??n,h=Do(u,l),p=KF(h)?h.canActivateChild(r,t):lr(l,()=>h(r,t));return hi(p).pipe(Nn())});return G(a).pipe(Eo())}));return G(s).pipe(Eo())}function sV(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return G(!0);let o=s.map(a=>{let u=Ic(e)??i,l=Do(a,u),h=QF(l)?l.canDeactivate(t,e,n,r):lr(u,()=>l(t,e,n,r));return hi(h).pipe(Nn())});return G(o).pipe(Eo())}function oV(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return G(!0);let s=i.map(o=>{let a=Do(o,t),u=GF(a)?a.canLoad(e,n):lr(t,()=>a(e,n));return hi(u)});return G(s).pipe(Eo(),$0(r))}function $0(t){return fp(Ze(e=>{if(typeof e!="boolean")throw Bd(t,e)}),ne(e=>e===!0))}function aV(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return G(!0);let s=i.map(o=>{let a=Do(o,t),u=YF(a)?a.canMatch(e,n):lr(t,()=>a(e,n));return hi(u)});return G(s).pipe(Eo(),$0(r))}var yc=class{constructor(e){this.segmentGroup=e||null}},vc=class extends Error{constructor(e){super(),this.urlTree=e}};function go(t){return Us(new yc(t))}function cV(t){return Us(new $(4e3,!1))}function uV(t){return Us(j0(!1,Kt.GuardRejected))}var sy=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return G(r);if(i.numberOfChildren>1||!i.children[oe])return cV(`${e.redirectTo}`);i=i.children[oe]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:v,data:S,title:N}=i,R=lr(s,()=>a({params:v,data:S,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:N}));if(R instanceof Ir)throw new vc(R);n=R}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new vc(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Ir(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new be(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},oy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lV(t,e,n,r,i){let s=H0(t,e,n);return s.matched?(r=PF(e,r),aV(r,e,n,i).pipe(ne(o=>o===!0?s:O({},oy)))):G(s)}function H0(t,e,n){if(e.path==="**")return dV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},oy):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||aF)(n,t,e);if(!i)return O({},oy);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?O(O({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function dV(t){return{matched:!0,parameters:t.length>0?E0(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function v0(t,e,n,r){return n.length>0&&pV(t,n,r)?{segmentGroup:new be(e,fV(r,new be(n,t.children))),slicedSegments:[]}:n.length===0&&gV(t,n,r)?{segmentGroup:new be(t.segments,hV(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new be(t.segments,t.children),slicedSegments:n}}function hV(t,e,n,r){let i={};for(let s of n)if(qd(t,e,s)&&!r[bn(s)]){let o=new be([],{});i[bn(s)]=o}return O(O({},r),i)}function fV(t,e){let n={};n[oe]=e;for(let r of t)if(r.path===""&&bn(r)!==oe){let i=new be([],{});n[bn(r)]=i}return n}function pV(t,e,n){return n.some(r=>qd(t,e,r)&&bn(r)!==oe)}function gV(t,e,n){return n.some(r=>qd(t,e,r))}function qd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function mV(t,e,n){return e.length===0&&!t.children[n]}var ay=class{};function yV(t,e,n,r,i,s,o="emptyOnly"){return new cy(t,e,n,r,i,o,s).recognize()}var vV=31,cy=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new sy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=v0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ne(({children:n,rootSnapshot:r})=>{let i=new Wt(r,n),s=new Ud("",i),o=TF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new vo([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,oe,n).pipe(ne(r=>({children:r,rootSnapshot:n})),Gr(r=>{if(r instanceof vc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof yc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(ne(o=>o instanceof Wt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ue(s).pipe($s(o=>{let a=r.children[o],u=kF(n,o);return this.processSegmentGroup(e,u,a,o,i)}),Cp((o,a)=>(o.push(...a),o)),Wr(null),bp(),Ye(o=>{if(o===null)return go(r);let a=q0(o);return _V(a),G(a)}))}processSegment(e,n,r,i,s,o,a){return Ue(n).pipe($s(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(Gr(l=>{if(l instanceof yc)return G(null);throw l}))),Nn(u=>!!u),Gr(u=>{if(B0(u))return mV(r,i,s)?G(new ay):go(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return bn(r)!==o&&(o===oe||!qd(i,s,r))?go(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):go(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=H0(n,i,s);if(!u)return go(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>vV&&(this.allowRedirects=!1));let v=new vo(s,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,_0(i),bn(i),i.component??i._loadedComponent??null,i,I0(i)),S=jd(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(S.params),v.data=Object.freeze(S.data);let N=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(Ye(R=>this.processSegment(e,r,n,R.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=lV(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(yn(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(yn(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:v}=u,S=new vo(m,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,_0(r),bn(r),r.component??r._loadedComponent??null,r,I0(r)),N=jd(S,o,this.paramsInheritanceStrategy);S.params=Object.freeze(N.params),S.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:j}=v0(n,m,v,l);if(j.length===0&&R.hasChildren())return this.processChildren(h,l,R,S).pipe(ne(Y=>new Wt(S,Y)));if(l.length===0&&j.length===0)return G(new Wt(S,[]));let z=bn(r)===s;return this.processSegment(h,l,R,j,z?oe:s,!0,S).pipe(ne(Y=>new Wt(S,Y instanceof Wt?[Y]:[])))}))):go(n)))}getChildConfig(e,n,r){return n.children?G({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?G({routes:n._loadedRoutes,injector:n._loadedInjector}):oV(e,n,r,this.urlSerializer).pipe(Ye(i=>i?this.configLoader.loadChildren(e,n).pipe(Ze(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):uV(n))):G({routes:[],injector:e})}};function _V(t){t.sort((e,n)=>e.value.outlet===oe?-1:n.value.outlet===oe?1:e.value.outlet.localeCompare(n.value.outlet))}function IV(t){let e=t.value.routeConfig;return e&&e.path===""}function q0(t){let e=[],n=new Set;for(let r of t){if(!IV(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=q0(r.children);e.push(new Wt(r.value,i))}return e.filter(r=>!n.has(r))}function _0(t){return t.data||{}}function I0(t){return t.resolve||{}}function wV(t,e,n,r,i,s){return Ye(o=>yV(t,e,n,r,o.extractedUrl,i,s).pipe(ne(({state:a,tree:u})=>de(O({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function EV(t,e){return Ye(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return G(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of z0(u))o.add(l);let a=0;return Ue(o).pipe($s(u=>s.has(u)?DV(u,r,t,e):(u.data=jd(u,u.parent,t).resolve,G(void 0))),Ze(()=>a++),Hs(1),Ye(u=>a===o.size?G(n):Ut))})}function z0(t){let e=t.children.map(n=>z0(n)).flat();return[t,...e]}function DV(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!V0(i)&&(s[_c]=i.title),bV(s,t,e,r).pipe(ne(o=>(t._resolvedData=o,t.data=jd(t,t.parent,n).resolve,null)))}function bV(t,e,n,r){let i=Lm(t);if(i.length===0)return G({});let s={};return Ue(i).pipe(Ye(o=>CV(t[o],e,n,r).pipe(Nn(),Ze(a=>{if(a instanceof mc)throw Bd(new lc,a);s[o]=a}))),Hs(1),Dp(s),Gr(o=>B0(o)?Ut:Us(o)))}function CV(t,e,n,r){let i=Ic(e)??r,s=Do(t,i),o=s.resolve?s.resolve(e,n):lr(i,()=>s(e,n));return hi(o)}function Fm(t){return yn(e=>{let n=t(e);return n?Ue(n).pipe(ne(()=>e)):G(e)})}var G0=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===oe);return i}getResolvedTitleForRoute(r){return r.data[_c]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:()=>F(TV),providedIn:"root"});let t=e;return t})(),TV=(()=>{let e=class e extends G0{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(ie(f0))},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),py=new H("",{providedIn:"root",factory:()=>({})}),SV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=mt({type:e,selectors:[["ng-component"]],standalone:!0,features:[vt],decls:1,vars:0,template:function(i,s){i&1&&De(0,"router-outlet")},dependencies:[hy],encapsulation:2});let t=e;return t})();function gy(t){let e=t.children&&t.children.map(gy),n=e?de(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==oe&&(n.component=SV),n}var my=new H(""),AV=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F(mm)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return G(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=hi(r.loadComponent()).pipe(ne(W0),Ze(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),xa(()=>{this.componentLoaders.delete(r)})),s=new Fs(i,()=>new nt).pipe(Os());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return G({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=RV(i,this.compiler,r,this.onLoadEndListener).pipe(xa(()=>{this.childrenLoaders.delete(i)})),a=new Fs(o,()=>new nt).pipe(Os());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function RV(t,e,n,r){return hi(t.loadChildren()).pipe(ne(W0),Ye(i=>i instanceof Ba||Array.isArray(i)?G(i):Ue(e.compileModuleAsync(i))),ne(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(my,[],{optional:!0,self:!0}).flat()),{routes:o.map(gy),injector:s}}))}function MV(t){return t&&typeof t=="object"&&"default"in t}function W0(t){return MV(t)?t.default:t}var yy=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:()=>F(NV),providedIn:"root"});let t=e;return t})(),NV=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xV=new H("");var PV=new H(""),kV=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new nt,this.transitionAbortSubject=new nt,this.configLoader=F(AV),this.environmentInjector=F(nn),this.urlSerializer=F(ly),this.rootContexts=F(Hd),this.location=F(Xa),this.inputBindingEnabled=F(fy,{optional:!0})!==null,this.titleStrategy=F(G0),this.options=F(py,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=F(yy),this.createViewTransition=F(xV,{optional:!0}),this.navigationErrorHandler=F(PV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Wm(s)),i=s=>this.events.next(new Km(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(de(O(O({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Qe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:cc,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(mn(o=>o.id!==0),ne(o=>de(O({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),yn(o=>{let a=!1,u=!1;return G(o).pipe(yn(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Kt.SupersededByNewNavigation),Ut;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?de(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new is(l.id,this.urlSerializer.serialize(l.rawUrl),m,$m.IgnoredSameUrlNavigation)),l.resolve(!1),Ut}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return G(l).pipe(yn(m=>{let v=this.transitions?.getValue();return this.events.next(new hc(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),v!==this.transitions?.getValue()?Ut:Promise.resolve(m)}),wV(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ze(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=de(O({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let v=new Fd(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:v,source:S,restoredState:N,extras:R}=l,j=new hc(m,this.urlSerializer.serialize(v),S,N);this.events.next(j);let z=O0(this.rootComponentType).snapshot;return this.currentTransition=o=de(O({},l),{targetSnapshot:z,urlAfterRedirects:v,extras:de(O({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,G(o)}else{let m="";return this.events.next(new is(l.id,this.urlSerializer.serialize(l.extractedUrl),m,$m.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Ut}}),Ze(l=>{let h=new Hm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),ne(l=>(this.currentTransition=o=de(O({},l),{guards:BF(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),JF(this.environmentInjector,l=>this.events.next(l)),Ze(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Bd(this.urlSerializer,l.guardsResult);let h=new qm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),mn(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Kt.GuardRejected),!1)),Fm(l=>{if(l.guards.canActivateChecks.length)return G(l).pipe(Ze(h=>{let p=new zm(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),yn(h=>{let p=!1;return G(h).pipe(EV(this.paramsInheritanceStrategy,this.environmentInjector),Ze({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",Kt.NoDataFromResolver)}}))}),Ze(h=>{let p=new Gm(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),Fm(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Ze(v=>{p.component=v}),ne(()=>{})));for(let v of p.children)m.push(...h(v));return m};return ll(h(l.targetSnapshot.root)).pipe(Wr(null),or(1))}),Fm(()=>this.afterPreactivation()),yn(()=>{let{currentSnapshot:l,targetSnapshot:h}=o,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?Ue(p).pipe(ne(()=>o)):G(o)}),ne(l=>{let h=FF(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=de(O({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,o}),Ze(()=>{this.events.next(new pc)}),UF(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),or(1),Ze({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new di(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Sp(this.transitionAbortSubject.pipe(Ze(l=>{throw l}))),xa(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",Kt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Gr(l=>{if(u=!0,U0(l))this.events.next(new _r(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),jF(l)?this.events.next(new wo(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let h=new fc(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let p=lr(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof mc){let{message:m,cancellationCode:v}=Bd(this.urlSerializer,p);this.events.next(new _r(o.id,this.urlSerializer.serialize(o.extractedUrl),m,v)),this.events.next(new wo(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let m=r.errorHandler(l);o.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return Ut}))}))}cancelNavigationTransition(r,i,s){let o=new _r(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function OV(t){return t!==cc}var FV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:()=>F(VV),providedIn:"root"});let t=e;return t})(),uy=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},VV=(()=>{let e=class e extends uy{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=co(e)))(s||e)}})(),e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),K0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:()=>F(LV),providedIn:"root"});let t=e;return t})(),LV=(()=>{let e=class e extends K0{constructor(){super(...arguments),this.location=F(Xa),this.urlSerializer=F(ly),this.options=F(py,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=F(yy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ir,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=O0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof hc)this.stateMemento=this.createStateMemento();else if(r instanceof is)this.rawUrlTree=i.initialUrl;else if(r instanceof Fd){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof pc?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof _r&&(r.code===Kt.GuardRejected||r.code===Kt.NoDataFromResolver)?this.restoreHistory(i):r instanceof fc?this.restoreHistory(i,!0):r instanceof di&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof Ir?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=O(O({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=O(O({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=co(e)))(s||e)}})(),e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(oc||{});function jV(t,e){t.events.pipe(mn(n=>n instanceof di||n instanceof _r||n instanceof fc||n instanceof is),ne(n=>n instanceof di||n instanceof is?oc.COMPLETE:(n instanceof _r?n.code===Kt.Redirect||n.code===Kt.SupersededByNewNavigation:!1)?oc.REDIRECTING:oc.FAILED),mn(n=>n!==oc.REDIRECTING),or(1)).subscribe(()=>{e()})}function UV(t){throw t}var BV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$V={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Qt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=F(hd),this.stateManager=F(K0),this.options=F(py,{optional:!0})||{},this.pendingTasks=F(uo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=F(kV),this.urlSerializer=F(ly),this.location=F(Xa),this.urlHandlingStrategy=F(yy),this._events=new nt,this.errorHandler=this.options.errorHandler||UV,this.navigated=!1,this.routeReuseStrategy=F(FV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=F(my,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!F(fy,{optional:!0}),this.eventsSubscription=new Le,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof _r&&i.code!==Kt.Redirect&&i.code!==Kt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof di)this.navigated=!0;else if(i instanceof wo){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l=O({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||OV(s.source)},a);this.scheduleNavigation(u,cc,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}qV(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),cc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=O({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(gy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":p=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let v=s?s.snapshot:this.routerState.snapshot.root;m=N0(v)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return x0(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=rs(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,cc,null,i)}navigate(r,i={skipLocationChange:!1}){return HV(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=O({},BV):i===!1?s=O({},$V):s=i,rs(r))return p0(this.currentUrlTree,r,s);let o=this.parseUrl(r);return p0(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,v)=>{u=m,l=v});let p=this.pendingTasks.add();return jV(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function HV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}function qV(t){return!(t instanceof pc)&&!(t instanceof wo)}var $n=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.onChanges=new nt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof di&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(rs(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:qb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:rs(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(B(Qt),B(wr),Wg("tabindex"),B(Zi),B(ni),B(fo))},e.\u0275dir=ct({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&ke("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Qa("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ci],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ci],replaceUrl:[2,"replaceUrl","replaceUrl",ci],routerLink:"routerLink"},standalone:!0,features:[dm,ei]});let t=e;return t})();var zV=new H("");function Q0(t,...e){return Ln([{provide:my,multi:!0,useValue:t},[],{provide:wr,useFactory:GV,deps:[Qt]},{provide:gm,multi:!0,useFactory:WV},e.map(n=>n.\u0275providers)])}function GV(t){return t.routerState.root}function WV(){let t=F(xt);return e=>{let n=t.get(Xi);if(e!==n.components[0])return;let r=t.get(Qt),i=t.get(KV);t.get(QV)===1&&r.initialNavigation(),t.get(YV,null,ae.Optional)?.setUpPreloading(),t.get(zV,null,ae.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var KV=new H("",{factory:()=>new nt}),QV=new H("",{providedIn:"root",factory:()=>1});var YV=new H("");var iT=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(B(Zi),B(ni))},e.\u0275dir=ct({type:e});let t=e;return t})(),ZV=(()=>{let e=class e extends iT{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=co(e)))(s||e)}})(),e.\u0275dir=ct({type:e,features:[fr]});let t=e;return t})(),sT=new H("");var JV={provide:sT,useExisting:Ki(()=>un),multi:!0};function XV(){let t=vr()?vr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var eL=new H(""),un=(()=>{let e=class e extends iT{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!XV())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(B(Zi),B(ni),B(eL,8))},e.\u0275dir=ct({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&ke("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Za([JV]),fr]});let t=e;return t})();function tL(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var _y=new H(""),oT=new H("");function nL(t){return tL(t.value)?{required:!0}:null}function Y0(t){return null}function aT(t){return t!=null}function cT(t){return ai(t)?Ue(t):t}function uT(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function lT(t,e){return e.map(n=>n(t))}function rL(t){return!t.validate}function dT(t){return t.map(e=>rL(e)?e:n=>e.validate(n))}function iL(t){if(!t)return null;let e=t.filter(aT);return e.length==0?null:function(n){return uT(lT(n,e))}}function Iy(t){return t!=null?iL(dT(t)):null}function sL(t){if(!t)return null;let e=t.filter(aT);return e.length==0?null:function(n){let r=lT(n,e).map(cT);return Ep(r).pipe(ne(uT))}}function wy(t){return t!=null?sL(dT(t)):null}function Z0(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function oL(t){return t._rawValidators}function aL(t){return t._rawAsyncValidators}function vy(t){return t?Array.isArray(t)?t:[t]:[]}function Wd(t,e){return Array.isArray(t)?t.includes(e):t===e}function J0(t,e){let n=vy(e);return vy(t).forEach(i=>{Wd(n,i)||n.push(i)}),n}function X0(t,e){return vy(e).filter(n=>!Wd(t,n))}var Kd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Iy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=wy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},To=class extends Kd{get formDirective(){return null}get path(){return null}},Sc=class extends Kd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Qd=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},cL={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},z6=de(O({},cL),{"[class.ng-submitted]":"isSubmitted"}),Hn=(()=>{let e=class e extends Qd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(B(Sc,2))},e.\u0275dir=ct({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&dd("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[fr]});let t=e;return t})(),qn=(()=>{let e=class e extends Qd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(B(To,10))},e.\u0275dir=ct({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&dd("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[fr]});let t=e;return t})();var Ec="VALID",Gd="INVALID",bo="PENDING",Dc="DISABLED",So=class{},Yd=class extends So{constructor(e,n){super(),this.value=e,this.source=n}},Cc=class extends So{constructor(e,n){super(),this.pristine=e,this.source=n}},Tc=class extends So{constructor(e,n){super(),this.touched=e,this.source=n}},Co=class extends So{constructor(e,n){super(),this.status=e,this.source=n}};function hT(t){return(Xd(t)?t.validators:t)||null}function uL(t){return Array.isArray(t)?Iy(t):t||null}function fT(t,e){return(Xd(e)?e.asyncValidators:t)||null}function lL(t){return Array.isArray(t)?wy(t):t||null}function Xd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function dL(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new $(1e3,"");if(!r[n])throw new $(1001,"")}function hL(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new $(1002,"")})}var Zd=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ja(()=>this.statusReactive()),this.statusReactive=Ka(void 0),this._pristine=Ja(()=>this.pristineReactive()),this.pristineReactive=Ka(!0),this._touched=Ja(()=>this.touchedReactive()),this.touchedReactive=Ka(!1),this._events=new nt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return wn(this.statusReactive)}set status(e){wn(()=>this.statusReactive.set(e))}get valid(){return this.status===Ec}get invalid(){return this.status===Gd}get pending(){return this.status==bo}get disabled(){return this.status===Dc}get enabled(){return this.status!==Dc}get pristine(){return wn(this.pristineReactive)}set pristine(e){wn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return wn(this.touchedReactive)}set touched(e){wn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(J0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(J0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(X0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(X0(e,this._rawAsyncValidators))}hasValidator(e){return Wd(this._rawValidators,e)}hasAsyncValidator(e){return Wd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(de(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Tc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Tc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(de(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Cc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Cc(!0,r))}markAsPending(e={}){this.status=bo;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Co(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(de(O({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Dc,this.errors=null,this._forEachChild(i=>{i.disable(de(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Yd(this.value,r)),this._events.next(new Co(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(de(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ec,this._forEachChild(r=>{r.enable(de(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(de(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ec||this.status===bo)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Yd(this.value,n)),this._events.next(new Co(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(de(O({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dc:Ec}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=bo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=cT(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Co(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new He,this.statusChanges=new He}_calculateStatus(){return this._allControlsDisabled()?Dc:this.errors?Gd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bo)?bo:this._anyControlsHaveStatus(Gd)?Gd:Ec}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Cc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Tc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=uL(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=lL(this._rawAsyncValidators)}},Jd=class extends Zd{constructor(e,n,r){super(hT(n),fT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){hL(this,!0,e),Object.keys(e).forEach(r=>{dL(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ey=new H("CallSetDisabledState",{providedIn:"root",factory:()=>Dy}),Dy="always";function fL(t,e){return[...e.path,t]}function pT(t,e,n=Dy){gT(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),gL(t,e),yL(t,e),mL(t,e),pL(t,e)}function eT(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function pL(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function gT(t,e){let n=oL(t);e.validator!==null?t.setValidators(Z0(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=aL(t);e.asyncValidator!==null?t.setAsyncValidators(Z0(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();eT(e._rawValidators,i),eT(e._rawAsyncValidators,i)}function gL(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&mT(t,e)})}function mL(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&mT(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function mT(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function yL(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function vL(t,e){t==null,gT(t,e)}function _L(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function IL(t){return Object.getPrototypeOf(t.constructor)===ZV}function wL(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function EL(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===un?n=s:IL(s)?r=s:i=s}),i||r||n||null}var DL={provide:To,useExisting:Ki(()=>Cn)},bc=Promise.resolve(),Cn=(()=>{let e=class e extends To{get submitted(){return wn(this.submittedReactive)}constructor(r,i,s){super(),this.callSetDisabledState=s,this._submitted=Ja(()=>this.submittedReactive()),this.submittedReactive=Ka(!1),this._directives=new Set,this.ngSubmit=new He,this.form=new Jd({},Iy(r),wy(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){bc.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),pT(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){bc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){bc.then(()=>{let i=this._findContainer(r.path),s=new Jd({});vL(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){bc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){bc.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),wL(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(B(_y,10),B(oT,10),B(Ey,8))},e.\u0275dir=ct({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&ke("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Za([DL]),fr]});let t=e;return t})();function tT(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function nT(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var bL=class extends Zd{constructor(e=null,n,r){super(hT(n),fT(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(nT(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){tT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){tT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){nT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var CL={provide:Sc,useExisting:Ki(()=>Tn)},rT=Promise.resolve(),Tn=(()=>{let e=class e extends Sc{constructor(r,i,s,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new bL,this._registered=!1,this.name="",this.update=new He,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=EL(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),_L(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){pT(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){rT.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&ci(i);rT.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?fL(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(B(To,9),B(_y,10),B(oT,10),B(sT,10),B(Un,8),B(Ey,8))},e.\u0275dir=ct({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Za([CL]),fr,ei]});let t=e;return t})(),zn=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ct({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var TL=(()=>{let e=class e{constructor(){this._validator=Y0}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Y0,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ct({type:e,features:[ei]});let t=e;return t})();var SL={provide:_y,useExisting:Ki(()=>Ac),multi:!0};var Ac=(()=>{let e=class e extends TL{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ci,this.createValidator=r=>nL}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=co(e)))(s||e)}})(),e.\u0275dir=ct({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&Qa("required",s._enabled?"":null)},inputs:{required:"required"},features:[Za([SL]),fr]});let t=e;return t})();var AL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Yi({type:e}),e.\u0275inj=Qi({});let t=e;return t})();var Gn=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Ey,useValue:r.callSetDisabledState??Dy}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Yi({type:e}),e.\u0275inj=Qi({imports:[AL]});let t=e;return t})();var vT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},RL=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},_T={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,v=l&63;u||(v=64,o||(m=64)),r.push(n[h],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new Cy;let m=s<<2|a>>4;if(r.push(m),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Cy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},ML=function(t){let e=vT(t);return _T.encodeByteArray(e,!0)},Mc=function(t){return ML(t).replace(/\./g,"")},Sy=function(t){try{return _T.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function NL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var xL=()=>NL().__FIREBASE_DEFAULTS__,PL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Sy(t[1]);return e&&JSON.parse(e)},th=()=>{try{return xL()||PL()||kL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ay=t=>{var e,n;return(n=(e=th())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},IT=t=>{let e=Ay(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ry=()=>{var t;return(t=th())===null||t===void 0?void 0:t.config},My=t=>{var e;return(e=th())===null||e===void 0?void 0:e[`_${t}`]};var eh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function wT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Mc(JSON.stringify(n)),Mc(JSON.stringify(o)),""].join(".")}function st(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ET(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(st())}function OL(){var t;let e=(t=th())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CT(){let t=st();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TT(){return!OL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ny(){try{return typeof indexedDB=="object"}catch{return!1}}function ST(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var FL="FirebaseError",Yt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Er.prototype.create)}},Er=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?VL(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Yt(i,a,r)}};function VL(t,e){return t.replace(LL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var LL=/\{\$([^}]+)}/g;function AT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ss(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(yT(s)&&yT(o)){if(!ss(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function yT(t){return t!==null&&typeof t=="object"}function Ao(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ro(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Mo(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function RT(t,e){let n=new Ty(t,e);return n.subscribe.bind(n)}var Ty=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=by),i.error===void 0&&(i.error=by),i.complete===void 0&&(i.complete=by);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function jL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function by(){}var K6=4*60*60*1e3;function et(t){return t&&t._delegate?t._delegate:t}var ln=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var os="[DEFAULT]";var xy=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new eh;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BL(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function UL(t){return t===os?void 0:t}function BL(t){return t.instantiationMode==="EAGER"}var nh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new xy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var $L=[],fe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(fe||{}),HL={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},qL=fe.INFO,zL={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},GL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=zL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},fi=class{constructor(e){this.name=e,this._logLevel=qL,this._logHandler=GL,this._userLogHandler=null,$L.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}};var WL=(t,e)=>e.some(n=>t instanceof n),MT,NT;function KL(){return MT||(MT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QL(){return NT||(NT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var xT=new WeakMap,ky=new WeakMap,PT=new WeakMap,Py=new WeakMap,Fy=new WeakMap;function YL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Wn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&xT.set(n,t)}).catch(()=>{}),Fy.set(e,t),e}function ZL(t){if(ky.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ky.set(t,e)}var Oy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ky.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kT(t){Oy=t(Oy)}function JL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(rh(this),e,...n);return PT.set(r,e.sort?e.sort():[e]),Wn(r)}:QL().includes(t)?function(...e){return t.apply(rh(this),e),Wn(xT.get(this))}:function(...e){return Wn(t.apply(rh(this),e))}}function XL(t){return typeof t=="function"?JL(t):(t instanceof IDBTransaction&&ZL(t),WL(t,KL())?new Proxy(t,Oy):t)}function Wn(t){if(t instanceof IDBRequest)return YL(t);if(Py.has(t))return Py.get(t);let e=XL(t);return e!==t&&(Py.set(t,e),Fy.set(e,t)),e}var rh=t=>Fy.get(t);function FT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Wn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Wn(o.result),u.oldVersion,u.newVersion,Wn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var e2=["get","getKey","getAll","getAllKeys","count"],t2=["put","add","delete","clear"],Vy=new Map;function OT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vy.get(e))return Vy.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=t2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||e2.includes(n)))return;let s=function(o,...a){return _(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Vy.set(e,s),s}kT(t=>de(O({},t),{get:(e,n,r)=>OT(e,n)||t.get(e,n,r),has:(e,n)=>!!OT(e,n)||t.has(e,n)}));var jy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(n2(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function n2(t){let e=t.getComponent();return e?.type==="VERSION"}var Uy="@firebase/app",VT="0.10.10";var Dr=new fi("@firebase/app"),r2="@firebase/app-compat",i2="@firebase/analytics-compat",s2="@firebase/analytics",o2="@firebase/app-check-compat",a2="@firebase/app-check",c2="@firebase/auth",u2="@firebase/auth-compat",l2="@firebase/database",d2="@firebase/database-compat",h2="@firebase/functions",f2="@firebase/functions-compat",p2="@firebase/installations",g2="@firebase/installations-compat",m2="@firebase/messaging",y2="@firebase/messaging-compat",v2="@firebase/performance",_2="@firebase/performance-compat",I2="@firebase/remote-config",w2="@firebase/remote-config-compat",E2="@firebase/storage",D2="@firebase/storage-compat",b2="@firebase/firestore",C2="@firebase/vertexai-preview",T2="@firebase/firestore-compat",S2="firebase",A2="10.13.1";var By="[DEFAULT]",R2={[Uy]:"fire-core",[r2]:"fire-core-compat",[s2]:"fire-analytics",[i2]:"fire-analytics-compat",[a2]:"fire-app-check",[o2]:"fire-app-check-compat",[c2]:"fire-auth",[u2]:"fire-auth-compat",[l2]:"fire-rtdb",[d2]:"fire-rtdb-compat",[h2]:"fire-fn",[f2]:"fire-fn-compat",[p2]:"fire-iid",[g2]:"fire-iid-compat",[m2]:"fire-fcm",[y2]:"fire-fcm-compat",[v2]:"fire-perf",[_2]:"fire-perf-compat",[I2]:"fire-rc",[w2]:"fire-rc-compat",[E2]:"fire-gcs",[D2]:"fire-gcs-compat",[b2]:"fire-fst",[T2]:"fire-fst-compat",[C2]:"fire-vertex","fire-js":"fire-js",[S2]:"fire-js-all"};var Nc=new Map,M2=new Map,$y=new Map;function LT(t,e){try{t.container.addComponent(e)}catch(n){Dr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gi(t){let e=t.name;if($y.has(e))return Dr.debug(`There were multiple attempts to register component ${e}.`),!1;$y.set(e,t);for(let n of Nc.values())LT(n,t);for(let n of M2.values())LT(n,t);return!0}function Pc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function dn(t){return t.settings!==void 0}var N2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pi=new Er("app","Firebase",N2);var Hy=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pi.create("app-deleted",{appName:this._name})}};var mi=A2;function ih(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:By,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw pi.create("bad-app-name",{appName:String(i)});if(n||(n=Ry()),!n)throw pi.create("no-options");let s=Nc.get(i);if(s){if(ss(n,s.options)&&ss(r,s.config))return s;throw pi.create("duplicate-app",{appName:i})}let o=new nh(i);for(let u of $y.values())o.addComponent(u);let a=new Hy(n,r,o);return Nc.set(i,a),a}function No(t=By){let e=Nc.get(t);if(!e&&t===By&&Ry())return ih();if(!e)throw pi.create("no-app",{appName:t});return e}function sh(){return Array.from(Nc.values())}function tt(t,e,n){var r;let i=(r=R2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dr.warn(a.join(" "));return}gi(new ln(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var x2="firebase-heartbeat-database",P2=1,xc="firebase-heartbeat-store",Ly=null;function $T(){return Ly||(Ly=FT(x2,P2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xc)}catch(n){console.warn(n)}}}}).catch(t=>{throw pi.create("idb-open",{originalErrorMessage:t.message})})),Ly}function k2(t){return _(this,null,function*(){try{let n=(yield $T()).transaction(xc),r=yield n.objectStore(xc).get(HT(t));return yield n.done,r}catch(e){if(e instanceof Yt)Dr.warn(e.message);else{let n=pi.create("idb-get",{originalErrorMessage:e?.message});Dr.warn(n.message)}}})}function jT(t,e){return _(this,null,function*(){try{let r=(yield $T()).transaction(xc,"readwrite");yield r.objectStore(xc).put(e,HT(t)),yield r.done}catch(n){if(n instanceof Yt)Dr.warn(n.message);else{let r=pi.create("idb-set",{originalErrorMessage:n?.message});Dr.warn(r.message)}}})}function HT(t){return`${t.name}!${t.options.appId}`}var O2=1024,F2=30*24*60*60*1e3,qy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new zy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=UT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=F2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Dr.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=UT(),{heartbeatsToSend:r,unsentEntries:i}=V2(this._heartbeatsCache.heartbeats),s=Mc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Dr.warn(n),""}})}};function UT(){return new Date().toISOString().substring(0,10)}function V2(t,e=O2){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),BT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),BT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var zy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return Ny()?ST().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield k2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return jT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return jT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function BT(t){return Mc(JSON.stringify({version:2,heartbeats:t})).length}function L2(t){gi(new ln("platform-logger",e=>new jy(e),"PRIVATE")),gi(new ln("heartbeat",e=>new qy(e),"PRIVATE")),tt(Uy,VT,t),tt(Uy,VT,"esm2017"),tt("fire-js","")}L2("");var j2="firebase",U2="10.13.1";tt(j2,U2,"app");var cs=new ur("ANGULARFIRE2_VERSION");function ah(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var kc=(t,e)=>{let n=e?[e]:sh(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Po=class{constructor(){return kc(B2)}},B2="app-check";function xo(){}var oh=class{zone;delegate;constructor(e,n=_p){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Gy=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xo,{},xo,xo)),n.pipe(Ze({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ko=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new oh(Zone.current)),this.insideAngular=n.run(()=>new oh(Zone.current,vp)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ie(Ce))};static \u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ch(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function $2(t){return ch().ngZone.runOutsideAngular(()=>t())}function as(t){return ch().ngZone.run(()=>t())}function H2(t){return q2(ch())(t)}function q2(t){return function(n){return n=n.lift(new Gy(t.ngZone)),n.pipe(zr(t.outsideAngular),qr(t.insideAngular))}}var z2=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),as(()=>t.apply(void 0,r))},us=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=as(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xo,{},xo,xo))),r[s]=z2(r[s],n));let i=$2(()=>t.apply(this,r));if(!e)if(i instanceof me){let s=ch();return i.pipe(zr(s.outsideAngular),qr(s.insideAngular))}else return as(()=>i);return i instanceof me?i.pipe(H2):i instanceof Promise?as(()=>new Promise((s,o)=>i.then(a=>as(()=>s(a)),a=>as(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:as(()=>i)};var br=class{constructor(e){return e}},ls=class{constructor(){return sh()}};function G2(t){return t&&t.length===1?t[0]:new br(No())}var Wy=new H("angularfire2._apps"),W2={provide:br,useFactory:G2,deps:[[new St,Wy]]},K2={provide:ls,deps:[[new St,Wy]]};function Q2(t){return(e,n)=>{let r=n.get(ri);tt("angularfire",cs.full,"core"),tt("angularfire",cs.full,"app"),tt("angular",NC.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new br(i)}}function qT(t,...e){return Ln([W2,K2,{provide:Wy,useFactory:Q2(t),multi:!0,deps:[Ce,xt,ko,...e]}])}function aS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var cS=aS,uS=new Er("auth","Firebase",aS());var ph=new fi("@firebase/auth");function Y2(t,...e){ph.logLevel<=fe.WARN&&ph.warn(`Auth (${mi}): ${t}`,...e)}function lh(t,...e){ph.logLevel<=fe.ERROR&&ph.error(`Auth (${mi}): ${t}`,...e)}function hn(t,...e){throw fv(t,...e)}function Sn(t,...e){return fv(t,...e)}function hv(t,e,n){let r=Object.assign(Object.assign({},cS()),{[e]:n});return new Er("auth","Firebase",r).create(e,{appName:t.name})}function Sr(t){return hv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Z2(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&hn(t,"argument-error"),hv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fv(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uS.create(t,...e)}function W(t,e,...n){if(!t)throw fv(e,...n)}function Cr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw lh(e),new Error(e)}function Ar(t,e){t||Cr(e)}function Yy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function J2(){return zT()==="http:"||zT()==="https:"}function zT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function X2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(J2()||DT()||"connection"in navigator)?navigator.onLine:!0}function ej(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ds=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ar(n>e,"Short delay should be less than long delay!"),this.isMobile=ET()||bT()}get(){return X2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function pv(t,e){Ar(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var gh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var tj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var nj=new ds(3e4,6e4);function Rr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Mr(s,o,a,u){return _(this,arguments,function*(t,e,n,r,i={}){return lS(t,i,()=>_(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Ao(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),gh.fetch()(dS(t,t.config.apiHost,n,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))}))})}function lS(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},tj),e);try{let i=new Zy(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw uh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw uh(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw uh(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw uh(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw hv(t,h,l);hn(t,h)}}catch(i){if(i instanceof Yt)throw i;hn(t,"network-request-failed",{message:String(i)})}})}function qc(s,o,a,u){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield Mr(t,e,n,r,i);return"mfaPendingCredential"in l&&hn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function dS(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?pv(t.config,i):`${t.config.apiScheme}://${i}`}function rj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Zy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sn(this.auth,"network-request-failed")),nj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function uh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Sn(t,e,r);return i.customData._tokenResponse=n,i}function GT(t){return t!==void 0&&t.enterprise!==void 0}var Jy=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function ij(t,e){return _(this,null,function*(){return Mr(t,"GET","/v2/recaptchaConfig",Rr(t,e))})}function sj(t,e){return _(this,null,function*(){return Mr(t,"POST","/v1/accounts:delete",e)})}function hS(t,e){return _(this,null,function*(){return Mr(t,"POST","/v1/accounts:lookup",e)})}function Oc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function gv(t,e=!1){return _(this,null,function*(){let n=et(t),r=yield n.getIdToken(e),i=mv(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Oc(Ky(i.auth_time)),issuedAtTime:Oc(Ky(i.iat)),expirationTime:Oc(Ky(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Ky(t){return Number(t)*1e3}function mv(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return lh("JWT malformed, contained fewer than 3 sections"),null;try{let i=Sy(n);return i?JSON.parse(i):(lh("Failed to decode base64 JWT payload"),null)}catch(i){return lh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function WT(t){let e=mv(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Vc(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Yt&&oj(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function oj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Xy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Lc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oc(this.lastLoginAt),this.creationTime=Oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function mh(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Vc(t,hS(n,{idToken:r}));W(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?fS(s.providerUserInfo):[],a=aj(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Lc(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function yv(t){return _(this,null,function*(){let e=et(t);yield mh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function aj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function fS(t){return t.map(e=>{var{providerId:n}=e,r=Yu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function cj(t,e){return _(this,null,function*(){let n=yield lS(t,{},()=>_(this,null,function*(){let r=Ao({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=dS(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",gh.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function uj(t,e){return _(this,null,function*(){return Mr(t,"POST","/v2/accounts:revokeToken",Rr(t,e))})}var Fc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):WT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){W(e.length!==0,"internal-error");let n=WT(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield cj(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(W(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(W(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Cr("not implemented")}};function yi(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Fo=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Yu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Lc(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield Vc(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return gv(this,e)}reload(){return yv(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield mh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(dn(this.auth.app))return Promise.reject(Sr(this.auth));let e=yield this.getIdToken();return yield Vc(this,sj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,j=(l=n.createdAt)!==null&&l!==void 0?l:void 0,z=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Y,emailVerified:le,isAnonymous:Fe,providerData:ee,stsTokenManager:D}=n;W(Y&&D,e,"internal-error");let y=Fc.fromJSON(this.name,D);W(typeof Y=="string",e,"internal-error"),yi(p,e.name),yi(m,e.name),W(typeof le=="boolean",e,"internal-error"),W(typeof Fe=="boolean",e,"internal-error"),yi(v,e.name),yi(S,e.name),yi(N,e.name),yi(R,e.name),yi(j,e.name),yi(z,e.name);let I=new t({uid:Y,auth:e,email:m,emailVerified:le,displayName:p,isAnonymous:Fe,photoURL:S,phoneNumber:v,tenantId:N,stsTokenManager:y,createdAt:j,lastLoginAt:z});return ee&&Array.isArray(ee)&&(I.providerData=ee.map(E=>Object.assign({},E))),R&&(I._redirectEventId=R),I}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new Fc;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield mh(s),s})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];W(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?fS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Fc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Lc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var KT=new Map;function Tr(t){Ar(t instanceof Function,"Expected a class definition");let e=KT.get(t);return e?(Ar(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,KT.set(t,e),e)}var lj=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),ev=lj;function dh(t,e,n){return`firebase:${t}:${e}:${n}`}var yh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=dh(this.userKey,i.apiKey,s),this.fullPersistenceKey=dh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Fo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(Tr(ev),e,r);let i=(yield Promise.all(n.map(l=>_(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Tr(ev),o=dh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=Fo._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>_(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function QT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_S(e))return"Blackberry";if(IS(e))return"Webos";if(gS(e))return"Safari";if((e.includes("chrome/")||mS(e))&&!e.includes("edge/"))return"Chrome";if(vS(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function pS(t=st()){return/firefox\//i.test(t)}function gS(t=st()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mS(t=st()){return/crios\//i.test(t)}function yS(t=st()){return/iemobile/i.test(t)}function vS(t=st()){return/android/i.test(t)}function _S(t=st()){return/blackberry/i.test(t)}function IS(t=st()){return/webos/i.test(t)}function vv(t=st()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dj(t=st()){var e;return vv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hj(){return CT()&&document.documentMode===10}function wS(t=st()){return vv(t)||vS(t)||IS(t)||_S(t)||/windows phone/i.test(t)||yS(t)}function ES(t,e=[]){let n;switch(t){case"Browser":n=QT(st());break;case"Worker":n=`${QT(st())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mi}/${r}`}var tv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function fj(n){return _(this,arguments,function*(t,e={}){return Mr(t,"GET","/v2/passwordPolicy",Rr(t,e))})}var pj=6,nv=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:pj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var rv=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vh(this),this.idTokenSubscription=new vh(this),this.beforeStateQueue=new tv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Tr(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield yh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield hS(this,{idToken:e}),r=yield Fo._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(dn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield mh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=ej()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(dn(this.app))return Promise.reject(Sr(this));let n=e?et(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return dn(this.app)?Promise.reject(Sr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return dn(this.app)?Promise.reject(Sr(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Tr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield fj(this),n=new nv(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Er("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield uj(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Tr(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=yield yh.create(this,[Tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ES(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Y2(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Nr(t){return et(t)}var vh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=RT(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Th={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gj(t){Th=t}function DS(t){return Th.loadJS(t)}function mj(){return Th.recaptchaEnterpriseScript}function yj(){return Th.gapiScript}function bS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var vj="recaptcha-enterprise",_j="NO_RECAPTCHA",iv=class{constructor(e){this.type=vj,this.auth=Nr(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(s){return _(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>_(this,null,function*(){ij(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Jy(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;GT(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(_j)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&GT(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=mj();u.length!==0&&(u+=a),DS(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function YT(t,e,n,r=!1){return _(this,null,function*(){let i=new iv(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function _h(t,e,n,r){return _(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield YT(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>_(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield YT(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function _v(t,e){let n=Pc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(ss(s,e??{}))return i;hn(i,"already-initialized")}return n.initialize({options:e})}function Ij(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Tr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Iv(t,e,n){let r=Nr(t);W(r._canInitEmulator,r,"emulator-config-failed"),W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=CS(e),{host:o,port:a}=wj(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Ej()}function CS(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wj(t){let e=CS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:ZT(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:ZT(o)}}}function ZT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Ej(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Vo=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cr("not implemented")}_getIdTokenResponse(e){return Cr("not implemented")}_linkToIdToken(e,n){return Cr("not implemented")}_getReauthenticationResolver(e){return Cr("not implemented")}};function Dj(t,e){return _(this,null,function*(){return Mr(t,"POST","/v1/accounts:signUp",e)})}function bj(t,e){return _(this,null,function*(){return qc(t,"POST","/v1/accounts:signInWithPassword",Rr(t,e))})}function Cj(t,e){return _(this,null,function*(){return Mr(t,"POST","/v1/accounts:sendOobCode",Rr(t,e))})}function Tj(t,e){return _(this,null,function*(){return Cj(t,e)})}function Sj(t,e){return _(this,null,function*(){return qc(t,"POST","/v1/accounts:signInWithEmailLink",Rr(t,e))})}function Aj(t,e){return _(this,null,function*(){return qc(t,"POST","/v1/accounts:signInWithEmailLink",Rr(t,e))})}var jc=class t extends Vo{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _h(e,n,"signInWithPassword",bj);case"emailLink":return Sj(e,{email:this._email,oobCode:this._password});default:hn(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _h(e,r,"signUpPassword",Dj);case"emailLink":return Aj(e,{idToken:n,email:this._email,oobCode:this._password});default:hn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Oo(t,e){return _(this,null,function*(){return qc(t,"POST","/v1/accounts:signInWithIdp",Rr(t,e))})}var Rj="http://localhost",Uc=class t extends Vo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Yu(n,["providerId","signInMethod"]);if(!r||!i)return null;let o=new t(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let n=this.buildRequest();return Oo(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,Oo(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Oo(e,n)}buildRequest(){let e={requestUri:Rj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ao(n)}return e}};function Mj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Nj(t){let e=Ro(Mo(t)).link,n=e?Ro(Mo(e)).deep_link_id:null,r=Ro(Mo(t)).deep_link_id;return(r?Ro(Mo(r)).link:null)||r||n||e||t}var Ih=class t{constructor(e){var n,r,i,s,o,a;let u=Ro(Mo(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=Mj((i=u.mode)!==null&&i!==void 0?i:null);W(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=Nj(e);try{return new t(n)}catch{return null}}};var TS=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return jc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Ih.parseLink(r);return W(i,"argument-error"),jc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Bc=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var $c=class extends Bc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var wv=(()=>{class t extends $c{constructor(){super("facebook.com")}static credential(n){return Uc._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch{return null}}}t.FACEBOOK_SIGN_IN_METHOD="facebook.com",t.PROVIDER_ID="facebook.com";return t})(),Ev=(()=>{class t extends $c{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Uc._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();function xj(t,e){return _(this,null,function*(){return qc(t,"POST","/v1/accounts:signUp",Rr(t,e))})}var Lo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let s=yield Fo._fromIdTokenResponse(e,r,i),o=JT(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=JT(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function JT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var sv=class t extends Yt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function SS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?sv._fromErrorAndOperation(t,s,e,r):s})}function Pj(t,e,n=!1){return _(this,null,function*(){let r=yield Vc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Lo._forOperation(t,"link",r)})}function kj(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(dn(r.app))return Promise.reject(Sr(r));let i="reauthenticate";try{let s=yield Vc(t,SS(r,i,e,t),n);W(s.idToken,r,"internal-error");let o=mv(s.idToken);W(o,r,"internal-error");let{sub:a}=o;return W(t.uid===a,r,"user-mismatch"),Lo._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&hn(r,"user-mismatch"),s}})}function AS(t,e,n=!1){return _(this,null,function*(){if(dn(t.app))return Promise.reject(Sr(t));let r="signIn",i=yield SS(t,r,e),s=yield Lo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Dv(t,e){return _(this,null,function*(){return AS(Nr(t),e)})}function Oj(t,e,n){var r;W(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),W(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(W(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(W(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function RS(t){return _(this,null,function*(){let e=Nr(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Sh(t,e,n){return _(this,null,function*(){let r=Nr(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Oj(r,i,n),yield _h(r,i,"getOobCode",Tj)})}function Ah(t,e,n){return _(this,null,function*(){if(dn(t.app))return Promise.reject(Sr(t));let r=Nr(t),o=yield _h(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xj).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&RS(t),u}),a=yield Lo._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function bv(t,e,n){return dn(t.app)?Promise.reject(Sr(t)):Dv(et(t),TS.credential(e,n)).catch(r=>_(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&RS(t),r}))}function Cv(t,e,n,r){return et(t).onIdTokenChanged(e,n,r)}function Tv(t,e,n){return et(t).beforeAuthStateChanged(e,n)}function Sv(t,e,n,r){return et(t).onAuthStateChanged(e,n,r)}var wh="__sak";var Eh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Fj=1e3,Vj=10,Lj=(()=>{class t extends Eh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wS(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);hj()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,Vj):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},Fj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield $r(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield $r(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield $r(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),MS=Lj;var jj=(()=>{class t extends Eh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Av=jj;function Uj(t){return Promise.all(t.map(e=>_(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Bj=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,o)})),l=yield Uj(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Rv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var ov=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=Rv("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Kn(){return window}function $j(t){Kn().location.href=t}function NS(){return typeof Kn().WorkerGlobalScope<"u"&&typeof Kn().importScripts=="function"}function Hj(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function qj(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function zj(){return NS()?self:null}var xS="firebaseLocalStorageDb",Gj=1,Dh="firebaseLocalStorage",PS="fbase_key",hs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Rh(t,e){return t.transaction([Dh],e?"readwrite":"readonly").objectStore(Dh)}function Wj(){let t=indexedDB.deleteDatabase(xS);return new hs(t).toPromise()}function av(){let t=indexedDB.open(xS,Gj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Dh,{keyPath:PS})}catch(i){n(i)}}),t.addEventListener("success",()=>_(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Dh)?e(r):(r.close(),yield Wj(),e(yield av()))}))})}function XT(t,e,n){return _(this,null,function*(){let r=Rh(t,!0).put({[PS]:e,value:n});return new hs(r).toPromise()})}function Kj(t,e){return _(this,null,function*(){let n=Rh(t,!1).get(e),r=yield new hs(n).toPromise();return r===void 0?null:r.value})}function eS(t,e){let n=Rh(t,!0).delete(e);return new hs(n).toPromise()}var Qj=800,Yj=3,Zj=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield av(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>Yj)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return NS()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=Bj._getInstance(zj()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield Hj(),!this.activeServiceWorker)return;this.sender=new ov(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||qj()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield av();return yield XT(n,wh,"1"),yield eS(n,wh),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>XT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>Kj(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>eS(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(s=>{let o=Rh(s,!1).getAll();return new hs(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),Qj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),kS=Zj;var B5=bS("rcb"),$5=new ds(3e4,6e4);function OS(t,e){return e?Tr(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Hc=class extends Vo{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Oo(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Jj(t){return AS(t.auth,new Hc(t),t.bypassAuthState)}function Xj(t){let{auth:e,user:n}=t;return W(n,e,"internal-error"),kj(n,new Hc(t),t.bypassAuthState)}function eU(t){return _(this,null,function*(){let{auth:e,user:n}=t;return W(n,e,"internal-error"),Pj(n,new Hc(t),t.bypassAuthState)})}var bh=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Jj;case"linkViaPopup":case"linkViaRedirect":return eU;case"reauthViaPopup":case"reauthViaRedirect":return Xj;default:hn(this.auth,"internal-error")}}resolve(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var tU=new ds(2e3,1e4);function Mv(t,e,n){return _(this,null,function*(){if(dn(t.app))return Promise.reject(Sn(t,"operation-not-supported-in-this-environment"));let r=Nr(t);Z2(t,e,Bc);let i=OS(r,n);return new nU(r,"signInViaPopup",e,i).executeNotNull()})}var nU=(()=>{class t extends bh{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return _(this,null,function*(){let n=yield this.execute();return W(n,this.auth,"internal-error"),n})}onExecution(){return _(this,null,function*(){Ar(this.filter.length===1,"Popup operations only handle one event");let n=Rv();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Sn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(Sn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,tU.get())};n()}}t.currentPopupAction=null;return t})(),rU="pendingRedirect",hh=new Map,cv=class t extends bh{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=hh.get(this.auth._key());if(!e){try{let r=(yield iU(this.resolver,this.auth))?yield $r(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return $r(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,$r(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function iU(t,e){return _(this,null,function*(){let n=aU(e),r=oU(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function sU(t,e){hh.set(t._key(),e)}function oU(t){return Tr(t._redirectPersistence)}function aU(t){return dh(rU,t.config.apiKey,t.name)}function cU(t,e,n=!1){return _(this,null,function*(){if(dn(t.app))return Promise.reject(Sr(t));let r=Nr(t),i=OS(r,e),o=yield new cv(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var uU=10*60*1e3,uv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!FS(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Sn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uU&&this.cachedEventUids.clear(),this.cachedEventUids.has(tS(e))}saveEventToCache(e){this.cachedEventUids.add(tS(e)),this.lastProcessedEventTime=Date.now()}};function tS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function FS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function lU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FS(t);default:return!1}}function dU(n){return _(this,arguments,function*(t,e={}){return Mr(t,"GET","/v1/projects",e)})}var hU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fU=/^https?/;function pU(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield dU(t);for(let n of e)try{if(gU(n))return}catch{}hn(t,"unauthorized-domain")})}function gU(t){let e=Yy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!fU.test(n))return!1;if(hU.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var mU=new ds(3e4,6e4);function nS(){let t=Kn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function yU(t){return new Promise((e,n)=>{var r,i,s;function o(){nS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nS(),n(Sn(t,"network-request-failed"))},timeout:mU.get()})}if(!((i=(r=Kn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Kn().gapi)===null||s===void 0)&&s.load)o();else{let a=bS("iframefcb");return Kn()[a]=()=>{gapi.load?o():n(Sn(t,"network-request-failed"))},DS(`${yj()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw fh=null,e})}var fh=null;function vU(t){return fh=fh||yU(t),fh}var _U=new ds(5e3,15e3),IU="__/auth/iframe",wU="emulator/auth/iframe",EU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bU(t){let e=t.config;W(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?pv(e,wU):`https://${t.config.authDomain}/${IU}`,r={apiKey:e.apiKey,appName:t.name,v:mi},i=DU.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ao(r).slice(1)}`}function CU(t){return _(this,null,function*(){let e=yield vU(t),n=Kn().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:bU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EU,dontclear:!0},r=>new Promise((i,s)=>_(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Sn(t,"network-request-failed"),a=Kn().setTimeout(()=>{s(o)},_U.get());function u(){Kn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var TU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SU=500,AU=600,RU="_blank",MU="http://localhost",Ch=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function NU(t,e,n,r=SU,i=AU){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},TU),{width:r.toString(),height:i.toString(),top:s,left:o}),l=st().toLowerCase();n&&(a=mS(l)?RU:n),pS(l)&&(e=e||MU,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[v,S])=>`${m}${v}=${S},`,"");if(dj(l)&&a!=="_self")return xU(e||"",a),new Ch(null);let p=window.open(e||"",a,h);W(p,t,"popup-blocked");try{p.focus()}catch{}return new Ch(p)}function xU(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var PU="__/auth/handler",kU="emulator/auth/handler",OU=encodeURIComponent("fac");function rS(t,e,n,r,i,s){return _(this,null,function*(){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mi,eventId:i};if(e instanceof Bc){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",AT(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof $c){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${OU}=${encodeURIComponent(u)}`:"";return`${FU(t)}?${Ao(a).slice(1)}${l}`})}function FU({config:t}){return t.emulator?pv(t,kU):`https://${t.authDomain}/${PU}`}var Qy="webStorageSupport",lv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Av,this._completeRedirectFn=cU,this._overrideRedirectResult=sU}_openPopup(e,n,r,i){return _(this,null,function*(){var s;Ar((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield rS(e,n,r,Yy(),i);return NU(e,o,Rv())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let s=yield rS(e,n,r,Yy(),i);return $j(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ar(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield CU(e),r=new uv(e);return n.register("authEvent",i=>(W(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qy,{type:Qy},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Qy];o!==void 0&&n(!!o),hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wS()||gS()||vv()}},VS=lv;var iS="@firebase/auth",sS="1.7.8";var dv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function VU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LU(t){gi(new ln("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;W(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ES(t)},l=new rv(r,i,s,u);return Ij(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gi(new ln("auth-internal",e=>{let n=Nr(e.getProvider("auth").getImmediate());return(r=>new dv(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tt(iS,sS,VU(t)),tt(iS,sS,"esm2017")}var jU=5*60,UU=My("authIdTokenMaxAge")||jU,oS=null,BU=t=>e=>_(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>UU)return;let i=n?.token;oS!==i&&(oS=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Mh(t=No()){let e=Pc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=_v(t,{popupRedirectResolver:VS,persistence:[kS,MS,Av]}),r=My("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=BU(s.toString());Tv(n,o,()=>o(n.currentUser)),Cv(n,a=>o(a))}}let i=Ay("auth");return i&&Iv(n,`http://${i}`),n}function $U(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}gj({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Sn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",$U().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LU("Browser");var LS="auth",fs=class{constructor(e){return e}},zc=class{constructor(){return kc(LS)}};var Nv=new H("angularfire2.auth-instances");function MB(t,e){let n=ah(LS,t,e);return n&&new fs(n)}function NB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new fs(r)}}var xB={provide:zc,deps:[[new St,Nv]]},PB={provide:fs,useFactory:MB,deps:[[new St,Nv],br]};function jS(t,...e){return tt("angularfire",cs.full,"auth"),Ln([PB,xB,{provide:Nv,useFactory:NB(t),multi:!0,deps:[Ce,xt,ko,ls,[new St,Po],...e]}])}var US=us(Sv,!0);var BS=us(bv,!0);var xv=us(Mv,!0);var $S=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},HS={};var vi,Pv;(function(){var t;function e(D,y){function I(){}I.prototype=y.prototype,D.D=y.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(E,b,T){for(var w=Array(arguments.length-2),tr=2;tr<arguments.length;tr++)w[tr-2]=arguments[tr];return y.prototype[b].apply(E,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,y,I){I||(I=0);var E=Array(16);if(typeof y=="string")for(var b=0;16>b;++b)E[b]=y.charCodeAt(I++)|y.charCodeAt(I++)<<8|y.charCodeAt(I++)<<16|y.charCodeAt(I++)<<24;else for(b=0;16>b;++b)E[b]=y[I++]|y[I++]<<8|y[I++]<<16|y[I++]<<24;y=D.g[0],I=D.g[1],b=D.g[2];var T=D.g[3],w=y+(T^I&(b^T))+E[0]+3614090360&4294967295;y=I+(w<<7&4294967295|w>>>25),w=T+(b^y&(I^b))+E[1]+3905402710&4294967295,T=y+(w<<12&4294967295|w>>>20),w=b+(I^T&(y^I))+E[2]+606105819&4294967295,b=T+(w<<17&4294967295|w>>>15),w=I+(y^b&(T^y))+E[3]+3250441966&4294967295,I=b+(w<<22&4294967295|w>>>10),w=y+(T^I&(b^T))+E[4]+4118548399&4294967295,y=I+(w<<7&4294967295|w>>>25),w=T+(b^y&(I^b))+E[5]+1200080426&4294967295,T=y+(w<<12&4294967295|w>>>20),w=b+(I^T&(y^I))+E[6]+2821735955&4294967295,b=T+(w<<17&4294967295|w>>>15),w=I+(y^b&(T^y))+E[7]+4249261313&4294967295,I=b+(w<<22&4294967295|w>>>10),w=y+(T^I&(b^T))+E[8]+1770035416&4294967295,y=I+(w<<7&4294967295|w>>>25),w=T+(b^y&(I^b))+E[9]+2336552879&4294967295,T=y+(w<<12&4294967295|w>>>20),w=b+(I^T&(y^I))+E[10]+4294925233&4294967295,b=T+(w<<17&4294967295|w>>>15),w=I+(y^b&(T^y))+E[11]+2304563134&4294967295,I=b+(w<<22&4294967295|w>>>10),w=y+(T^I&(b^T))+E[12]+1804603682&4294967295,y=I+(w<<7&4294967295|w>>>25),w=T+(b^y&(I^b))+E[13]+4254626195&4294967295,T=y+(w<<12&4294967295|w>>>20),w=b+(I^T&(y^I))+E[14]+2792965006&4294967295,b=T+(w<<17&4294967295|w>>>15),w=I+(y^b&(T^y))+E[15]+1236535329&4294967295,I=b+(w<<22&4294967295|w>>>10),w=y+(b^T&(I^b))+E[1]+4129170786&4294967295,y=I+(w<<5&4294967295|w>>>27),w=T+(I^b&(y^I))+E[6]+3225465664&4294967295,T=y+(w<<9&4294967295|w>>>23),w=b+(y^I&(T^y))+E[11]+643717713&4294967295,b=T+(w<<14&4294967295|w>>>18),w=I+(T^y&(b^T))+E[0]+3921069994&4294967295,I=b+(w<<20&4294967295|w>>>12),w=y+(b^T&(I^b))+E[5]+3593408605&4294967295,y=I+(w<<5&4294967295|w>>>27),w=T+(I^b&(y^I))+E[10]+38016083&4294967295,T=y+(w<<9&4294967295|w>>>23),w=b+(y^I&(T^y))+E[15]+3634488961&4294967295,b=T+(w<<14&4294967295|w>>>18),w=I+(T^y&(b^T))+E[4]+3889429448&4294967295,I=b+(w<<20&4294967295|w>>>12),w=y+(b^T&(I^b))+E[9]+568446438&4294967295,y=I+(w<<5&4294967295|w>>>27),w=T+(I^b&(y^I))+E[14]+3275163606&4294967295,T=y+(w<<9&4294967295|w>>>23),w=b+(y^I&(T^y))+E[3]+4107603335&4294967295,b=T+(w<<14&4294967295|w>>>18),w=I+(T^y&(b^T))+E[8]+1163531501&4294967295,I=b+(w<<20&4294967295|w>>>12),w=y+(b^T&(I^b))+E[13]+2850285829&4294967295,y=I+(w<<5&4294967295|w>>>27),w=T+(I^b&(y^I))+E[2]+4243563512&4294967295,T=y+(w<<9&4294967295|w>>>23),w=b+(y^I&(T^y))+E[7]+1735328473&4294967295,b=T+(w<<14&4294967295|w>>>18),w=I+(T^y&(b^T))+E[12]+2368359562&4294967295,I=b+(w<<20&4294967295|w>>>12),w=y+(I^b^T)+E[5]+4294588738&4294967295,y=I+(w<<4&4294967295|w>>>28),w=T+(y^I^b)+E[8]+2272392833&4294967295,T=y+(w<<11&4294967295|w>>>21),w=b+(T^y^I)+E[11]+1839030562&4294967295,b=T+(w<<16&4294967295|w>>>16),w=I+(b^T^y)+E[14]+4259657740&4294967295,I=b+(w<<23&4294967295|w>>>9),w=y+(I^b^T)+E[1]+2763975236&4294967295,y=I+(w<<4&4294967295|w>>>28),w=T+(y^I^b)+E[4]+1272893353&4294967295,T=y+(w<<11&4294967295|w>>>21),w=b+(T^y^I)+E[7]+4139469664&4294967295,b=T+(w<<16&4294967295|w>>>16),w=I+(b^T^y)+E[10]+3200236656&4294967295,I=b+(w<<23&4294967295|w>>>9),w=y+(I^b^T)+E[13]+681279174&4294967295,y=I+(w<<4&4294967295|w>>>28),w=T+(y^I^b)+E[0]+3936430074&4294967295,T=y+(w<<11&4294967295|w>>>21),w=b+(T^y^I)+E[3]+3572445317&4294967295,b=T+(w<<16&4294967295|w>>>16),w=I+(b^T^y)+E[6]+76029189&4294967295,I=b+(w<<23&4294967295|w>>>9),w=y+(I^b^T)+E[9]+3654602809&4294967295,y=I+(w<<4&4294967295|w>>>28),w=T+(y^I^b)+E[12]+3873151461&4294967295,T=y+(w<<11&4294967295|w>>>21),w=b+(T^y^I)+E[15]+530742520&4294967295,b=T+(w<<16&4294967295|w>>>16),w=I+(b^T^y)+E[2]+3299628645&4294967295,I=b+(w<<23&4294967295|w>>>9),w=y+(b^(I|~T))+E[0]+4096336452&4294967295,y=I+(w<<6&4294967295|w>>>26),w=T+(I^(y|~b))+E[7]+1126891415&4294967295,T=y+(w<<10&4294967295|w>>>22),w=b+(y^(T|~I))+E[14]+2878612391&4294967295,b=T+(w<<15&4294967295|w>>>17),w=I+(T^(b|~y))+E[5]+4237533241&4294967295,I=b+(w<<21&4294967295|w>>>11),w=y+(b^(I|~T))+E[12]+1700485571&4294967295,y=I+(w<<6&4294967295|w>>>26),w=T+(I^(y|~b))+E[3]+2399980690&4294967295,T=y+(w<<10&4294967295|w>>>22),w=b+(y^(T|~I))+E[10]+4293915773&4294967295,b=T+(w<<15&4294967295|w>>>17),w=I+(T^(b|~y))+E[1]+2240044497&4294967295,I=b+(w<<21&4294967295|w>>>11),w=y+(b^(I|~T))+E[8]+1873313359&4294967295,y=I+(w<<6&4294967295|w>>>26),w=T+(I^(y|~b))+E[15]+4264355552&4294967295,T=y+(w<<10&4294967295|w>>>22),w=b+(y^(T|~I))+E[6]+2734768916&4294967295,b=T+(w<<15&4294967295|w>>>17),w=I+(T^(b|~y))+E[13]+1309151649&4294967295,I=b+(w<<21&4294967295|w>>>11),w=y+(b^(I|~T))+E[4]+4149444226&4294967295,y=I+(w<<6&4294967295|w>>>26),w=T+(I^(y|~b))+E[11]+3174756917&4294967295,T=y+(w<<10&4294967295|w>>>22),w=b+(y^(T|~I))+E[2]+718787259&4294967295,b=T+(w<<15&4294967295|w>>>17),w=I+(T^(b|~y))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+y&4294967295,D.g[1]=D.g[1]+(b+(w<<21&4294967295|w>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+T&4294967295}r.prototype.u=function(D,y){y===void 0&&(y=D.length);for(var I=y-this.blockSize,E=this.B,b=this.h,T=0;T<y;){if(b==0)for(;T<=I;)i(this,D,T),T+=this.blockSize;if(typeof D=="string"){for(;T<y;)if(E[b++]=D.charCodeAt(T++),b==this.blockSize){i(this,E),b=0;break}}else for(;T<y;)if(E[b++]=D[T++],b==this.blockSize){i(this,E),b=0;break}}this.h=b,this.o+=y},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var y=1;y<D.length-8;++y)D[y]=0;var I=8*this.o;for(y=D.length-8;y<D.length;++y)D[y]=I&255,I/=256;for(this.u(D),D=Array(16),y=I=0;4>y;++y)for(var E=0;32>E;E+=8)D[I++]=this.g[y]>>>E&255;return D};function s(D,y){var I=a;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=y(D)}function o(D,y){this.h=y;for(var I=[],E=!0,b=D.length-1;0<=b;b--){var T=D[b]|0;E&&T==y||(I[b]=T,E=!1)}this.g=I}var a={};function u(D){return-128<=D&&128>D?s(D,function(y){return new o([y|0],0>y?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var y=[],I=1,E=0;D>=I;E++)y[E]=D/I|0,I*=4294967296;return new o(y,0)}function h(D,y){if(D.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(D.charAt(0)=="-")return R(h(D.substring(1),y));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(y,8)),E=p,b=0;b<D.length;b+=8){var T=Math.min(8,D.length-b),w=parseInt(D.substring(b,b+T),y);8>T?(T=l(Math.pow(y,T)),E=E.j(T).add(l(w))):(E=E.j(I),E=E.add(l(w)))}return E}var p=u(0),m=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(N(this))return-R(this).m();for(var D=0,y=1,I=0;I<this.g.length;I++){var E=this.i(I);D+=(0<=E?E:4294967296+E)*y,y*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(N(this))return"-"+R(this).toString(D);for(var y=l(Math.pow(D,6)),I=this,E="";;){var b=le(I,y).g;I=j(I,b.j(y));var T=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=b,S(I))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var y=0;y<D.g.length;y++)if(D.g[y]!=0)return!1;return!0}function N(D){return D.h==-1}t.l=function(D){return D=j(this,D),N(D)?-1:S(D)?0:1};function R(D){for(var y=D.g.length,I=[],E=0;E<y;E++)I[E]=~D.g[E];return new o(I,~D.h).add(m)}t.abs=function(){return N(this)?R(this):this},t.add=function(D){for(var y=Math.max(this.g.length,D.g.length),I=[],E=0,b=0;b<=y;b++){var T=E+(this.i(b)&65535)+(D.i(b)&65535),w=(T>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);E=w>>>16,T&=65535,w&=65535,I[b]=w<<16|T}return new o(I,I[I.length-1]&-2147483648?-1:0)};function j(D,y){return D.add(R(y))}t.j=function(D){if(S(this)||S(D))return p;if(N(this))return N(D)?R(this).j(R(D)):R(R(this).j(D));if(N(D))return R(this.j(R(D)));if(0>this.l(v)&&0>D.l(v))return l(this.m()*D.m());for(var y=this.g.length+D.g.length,I=[],E=0;E<2*y;E++)I[E]=0;for(E=0;E<this.g.length;E++)for(var b=0;b<D.g.length;b++){var T=this.i(E)>>>16,w=this.i(E)&65535,tr=D.i(b)>>>16,ua=D.i(b)&65535;I[2*E+2*b]+=w*ua,z(I,2*E+2*b),I[2*E+2*b+1]+=T*ua,z(I,2*E+2*b+1),I[2*E+2*b+1]+=w*tr,z(I,2*E+2*b+1),I[2*E+2*b+2]+=T*tr,z(I,2*E+2*b+2)}for(E=0;E<y;E++)I[E]=I[2*E+1]<<16|I[2*E];for(E=y;E<2*y;E++)I[E]=0;return new o(I,0)};function z(D,y){for(;(D[y]&65535)!=D[y];)D[y+1]+=D[y]>>>16,D[y]&=65535,y++}function Y(D,y){this.g=D,this.h=y}function le(D,y){if(S(y))throw Error("division by zero");if(S(D))return new Y(p,p);if(N(D))return y=le(R(D),y),new Y(R(y.g),R(y.h));if(N(y))return y=le(D,R(y)),new Y(R(y.g),y.h);if(30<D.g.length){if(N(D)||N(y))throw Error("slowDivide_ only works with positive integers.");for(var I=m,E=y;0>=E.l(D);)I=Fe(I),E=Fe(E);var b=ee(I,1),T=ee(E,1);for(E=ee(E,2),I=ee(I,2);!S(E);){var w=T.add(E);0>=w.l(D)&&(b=b.add(I),T=w),E=ee(E,1),I=ee(I,1)}return y=j(D,b.j(y)),new Y(b,y)}for(b=p;0<=D.l(y);){for(I=Math.max(1,Math.floor(D.m()/y.m())),E=Math.ceil(Math.log(I)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(I),w=T.j(y);N(w)||0<w.l(D);)I-=E,T=l(I),w=T.j(y);S(T)&&(T=m),b=b.add(T),D=j(D,w)}return new Y(b,D)}t.A=function(D){return le(this,D).h},t.and=function(D){for(var y=Math.max(this.g.length,D.g.length),I=[],E=0;E<y;E++)I[E]=this.i(E)&D.i(E);return new o(I,this.h&D.h)},t.or=function(D){for(var y=Math.max(this.g.length,D.g.length),I=[],E=0;E<y;E++)I[E]=this.i(E)|D.i(E);return new o(I,this.h|D.h)},t.xor=function(D){for(var y=Math.max(this.g.length,D.g.length),I=[],E=0;E<y;E++)I[E]=this.i(E)^D.i(E);return new o(I,this.h^D.h)};function Fe(D){for(var y=D.g.length+1,I=[],E=0;E<y;E++)I[E]=D.i(E)<<1|D.i(E-1)>>>31;return new o(I,D.h)}function ee(D,y){var I=y>>5;y%=32;for(var E=D.g.length-I,b=[],T=0;T<E;T++)b[T]=0<y?D.i(T+I)>>>y|D.i(T+I+1)<<32-y:D.i(T+I);return new o(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Pv=HS.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,vi=HS.Integer=o}).apply(typeof $S<"u"?$S:typeof self<"u"?self:typeof window<"u"?window:{});var Nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xr={};var kv,Ov,jo,Fv,Gc,xh,Vv,Lv,jv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nh=="object"&&Nh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var C=c[g];if(!(C in f))break e;f=f[C]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,g=!1,C={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,C,A){for(var P=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)P[Se-2]=arguments[Se];return d.prototype[C].apply(g,P)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=c.length||0,A=g.length||0;c.length=C+A;for(let P=0;P<A;P++)c[C+P]=g[P]}else c.push(g)}}class j{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function z(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function le(c){return le[" "](c),c}le[" "]=function(){};var Fe=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function ee(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)c[f]=g[f];for(let A=0;A<I.length;A++)f=I[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function T(c){a.setTimeout(()=>{throw c},0)}function w(){var c=Mf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class tr{constructor(){this.h=this.g=null}add(d,f){let g=ua.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var ua=new j(()=>new jR,c=>c.reset());class jR{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let la,da=!1,Mf=new tr,ZI=()=>{let c=a.Promise.resolve(void 0);la=()=>{c.then(UR)}};var UR=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){T(f)}var d=ua;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}da=!1};function Lr(){this.s=this.s,this.C=this.C}Lr.prototype.s=!1,Lr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Lr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ht(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ht.prototype.h=function(){this.defaultPrevented=!0};var BR=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function ha(c,d){if(ht.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Fe){e:{try{le(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:$R[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ha.aa.h.call(this)}}S(ha,ht);var $R={2:"touch",3:"pen",4:"mouse"};ha.prototype.h=function(){ha.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var fa="closure_listenable_"+(1e6*Math.random()|0),HR=0;function qR(c,d,f,g,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++HR,this.da=this.fa=!1}function vu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function _u(c){this.src=c,this.g={},this.h=0}_u.prototype.add=function(c,d,f,g,C){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var P=xf(c,d,g,C);return-1<P?(d=c[P],f||(d.fa=!1)):(d=new qR(d,this.src,A,!!g,C),d.fa=f,c.push(d)),d};function Nf(c,d){var f=d.type;if(f in c.g){var g=c.g[f],C=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(g,C,1),A&&(vu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function xf(c,d,f,g){for(var C=0;C<c.length;++C){var A=c[C];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return C}return-1}var Pf="closure_lm_"+(1e6*Math.random()|0),kf={};function JI(c,d,f,g,C){if(g&&g.once)return ew(c,d,f,g,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)JI(c,d[A],f,g,C);return null}return f=Lf(f),c&&c[fa]?c.K(d,f,l(g)?!!g.capture:!!g,C):XI(c,d,f,!1,g,C)}function XI(c,d,f,g,C,A){if(!d)throw Error("Invalid event type");var P=l(C)?!!C.capture:!!C,Se=Ff(c);if(Se||(c[Pf]=Se=new _u(c)),f=Se.add(d,f,g,P,A),f.proxy)return f;if(g=zR(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)BR||(C=P),C===void 0&&(C=!1),c.addEventListener(d.toString(),g,C);else if(c.attachEvent)c.attachEvent(nw(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function zR(){function c(f){return d.call(c.src,c.listener,f)}let d=GR;return c}function ew(c,d,f,g,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)ew(c,d[A],f,g,C);return null}return f=Lf(f),c&&c[fa]?c.L(d,f,l(g)?!!g.capture:!!g,C):XI(c,d,f,!0,g,C)}function tw(c,d,f,g,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)tw(c,d[A],f,g,C);else g=l(g)?!!g.capture:!!g,f=Lf(f),c&&c[fa]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=xf(A,f,g,C),-1<f&&(vu(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=Ff(c))&&(d=c.g[d.toString()],c=-1,d&&(c=xf(d,f,g,C)),(f=-1<c?d[c]:null)&&Of(f))}function Of(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[fa])Nf(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(nw(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Ff(d))?(Nf(f,c),f.h==0&&(f.src=null,d[Pf]=null)):vu(c)}}}function nw(c){return c in kf?kf[c]:kf[c]="on"+c}function GR(c,d){if(c.da)c=!0;else{d=new ha(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Of(c),c=f.call(g,d)}return c}function Ff(c){return c=c[Pf],c instanceof _u?c:null}var Vf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lf(c){return typeof c=="function"?c:(c[Vf]||(c[Vf]=function(d){return c.handleEvent(d)}),c[Vf])}function ft(){Lr.call(this),this.i=new _u(this),this.M=this,this.F=null}S(ft,Lr),ft.prototype[fa]=!0,ft.prototype.removeEventListener=function(c,d,f,g){tw(this,c,d,f,g)};function Et(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new ht(d,c);else if(d instanceof ht)d.target=d.target||c;else{var C=d;d=new ht(g,c),E(d,C)}if(C=!0,f)for(var A=f.length-1;0<=A;A--){var P=d.g=f[A];C=Iu(P,g,!0,d)&&C}if(P=d.g=c,C=Iu(P,g,!0,d)&&C,C=Iu(P,g,!1,d)&&C,f)for(A=0;A<f.length;A++)P=d.g=f[A],C=Iu(P,g,!1,d)&&C}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)vu(f[g]);delete c.g[d],c.h--}}this.F=null},ft.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},ft.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Iu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var P=d[A];if(P&&!P.da&&P.capture==f){var Se=P.listener,at=P.ha||P.src;P.fa&&Nf(c.i,P),C=Se.call(at,g)!==!1&&C}}return C&&!g.defaultPrevented}function rw(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function iw(c){c.g=rw(()=>{c.g=null,c.i&&(c.i=!1,iw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class WR extends Lr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:iw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pa(c){Lr.call(this),this.h=c,this.g={}}S(pa,Lr);var sw=[];function ow(c){ee(c.g,function(d,f){this.g.hasOwnProperty(f)&&Of(d)},c),c.g={}}pa.prototype.N=function(){pa.aa.N.call(this),ow(this)},pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jf=a.JSON.stringify,KR=a.JSON.parse,QR=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Uf(){}Uf.prototype.h=null;function aw(c){return c.h||(c.h=c.i())}function cw(){}var ga={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bf(){ht.call(this,"d")}S(Bf,ht);function $f(){ht.call(this,"c")}S($f,ht);var Ti={},uw=null;function wu(){return uw=uw||new ft}Ti.La="serverreachability";function lw(c){ht.call(this,Ti.La,c)}S(lw,ht);function ma(c){let d=wu();Et(d,new lw(d))}Ti.STAT_EVENT="statevent";function dw(c,d){ht.call(this,Ti.STAT_EVENT,c),this.stat=d}S(dw,ht);function Dt(c){let d=wu();Et(d,new dw(d,c))}Ti.Ma="timingevent";function hw(c,d){ht.call(this,Ti.Ma,c),this.size=d}S(hw,ht);function ya(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function va(){this.g=!0}va.prototype.xa=function(){this.g=!1};function YR(c,d,f,g,C,A){c.info(function(){if(c.g)if(A)for(var P="",Se=A.split("&"),at=0;at<Se.length;at++){var _e=Se[at].split("=");if(1<_e.length){var pt=_e[0];_e=_e[1];var gt=pt.split("_");P=2<=gt.length&&gt[1]=="type"?P+(pt+"="+_e+"&"):P+(pt+"=redacted&")}}else P=null;else P=A;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+P})}function ZR(c,d,f,g,C,A,P){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+A+" "+P})}function Ts(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+XR(c,f)+(g?" "+g:"")})}function JR(c,d){c.info(function(){return"TIMEOUT: "+d})}va.prototype.info=function(){};function XR(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var P=1;P<C.length;P++)C[P]=""}}}}return jf(f)}catch{return d}}var Eu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hf;function Du(){}S(Du,Uf),Du.prototype.g=function(){return new XMLHttpRequest},Du.prototype.i=function(){return{}},Hf=new Du;function jr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new pa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pw}function pw(){this.i=null,this.g="",this.h=!1}var gw={},qf={};function zf(c,d,f){c.L=1,c.v=Su(nr(d)),c.m=f,c.P=!0,mw(c,null)}function mw(c,d){c.F=Date.now(),bu(c),c.A=nr(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),Mw(f.i,"t",g),c.C=0,f=c.j.J,c.h=new pw,c.g=Kw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new WR(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(sw[0]=C.toString()),C=sw);for(var A=0;A<C.length;A++){var P=JI(f,C[A],g||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ma(),YR(c.i,c.u,c.A,c.l,c.R,c.m)}jr.prototype.ca=function(c){c=c.target;let d=this.M;d&&rr(c)==3?d.j():this.Y(c)},jr.prototype.Y=function(c){try{if(c==this.g)e:{let gt=rr(this.g);var d=this.g.Ba();let Rs=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||Vw(this.g)))){this.J||gt!=4||d==7||(d==8||0>=Rs?ma(3):ma(2)),Gf(this);var f=this.g.Z();this.X=f;t:if(yw(this)){var g=Vw(this.g);c="";var C=g.length,A=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Si(this),_a(this);var P="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==C-1)});g.length=0,this.h.g+=c,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=f==200,ZR(this.i,this.u,this.A,this.l,this.R,gt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,at=this.g;if((Se=at.g?at.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Se)){var _e=Se;break t}}_e=null}if(f=_e)Ts(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wf(this,f);else{this.o=!1,this.s=3,Dt(12),Si(this),_a(this);break e}}if(this.P){f=!0;let pn;for(;!this.J&&this.C<P.length;)if(pn=eM(this,P),pn==qf){gt==4&&(this.s=4,Dt(14),f=!1),Ts(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==gw){this.s=4,Dt(15),Ts(this.i,this.l,P,"[Invalid Chunk]"),f=!1;break}else Ts(this.i,this.l,pn,null),Wf(this,pn);if(yw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||P.length!=0||this.h.h||(this.s=1,Dt(16),f=!1),this.o=this.o&&f,!f)Ts(this.i,this.l,P,"[Invalid Chunked Response]"),Si(this),_a(this);else if(0<P.length&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.ba&&!pt.M&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Xf(pt),pt.M=!0,Dt(11))}}else Ts(this.i,this.l,P,null),Wf(this,P);gt==4&&Si(this),this.o&&!this.J&&(gt==4?qw(this.j,this):(this.o=!1,bu(this)))}else yM(this.g),f==400&&0<P.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),Si(this),_a(this)}}}catch{}finally{}};function yw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function eM(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?qf:(f=Number(d.substring(f,g)),isNaN(f)?gw:(g+=1,g+f>d.length?qf:(d=d.slice(g,g+f),c.C=g+f,d)))}jr.prototype.cancel=function(){this.J=!0,Si(this)};function bu(c){c.S=Date.now()+c.I,vw(c,c.I)}function vw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ya(m(c.ba,c),d)}function Gf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}jr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(JR(this.i,this.A),this.L!=2&&(ma(),Dt(17)),Si(this),this.s=2,_a(this)):vw(this,this.S-c)};function _a(c){c.j.G==0||c.J||qw(c.j,c)}function Si(c){Gf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,ow(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Wf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Kf(f.h,c))){if(!c.K&&Kf(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)xu(f),Mu(f);else break e;Jf(f),Dt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=ya(m(f.Za,f),6e3));if(1>=ww(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ri(f,11)}else if((c.K||f.g==c)&&xu(f),!z(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let _e=C[d];if(f.T=_e[0],_e=_e[1],f.G==2)if(_e[0]=="c"){f.K=_e[1],f.ia=_e[2];let pt=_e[3];pt!=null&&(f.la=pt,f.j.info("VER="+f.la));let gt=_e[4];gt!=null&&(f.Aa=gt,f.j.info("SVER="+f.Aa));let Rs=_e[5];Rs!=null&&typeof Rs=="number"&&0<Rs&&(g=1.5*Rs,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let pn=c.g;if(pn){let ku=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ku){var A=g.h;A.g||ku.indexOf("spdy")==-1&&ku.indexOf("quic")==-1&&ku.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Qf(A,A.h),A.h=null))}if(g.D){let ep=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;ep&&(g.ya=ep,xe(g.I,g.D,ep))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var P=c;if(g.qa=Ww(g,g.J?g.ia:null,g.W),P.K){Ew(g.h,P);var Se=P,at=g.L;at&&(Se.I=at),Se.B&&(Gf(Se),bu(Se)),g.g=P}else $w(g);0<f.i.length&&Nu(f)}else _e[0]!="stop"&&_e[0]!="close"||Ri(f,7);else f.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?Ri(f,7):Zf(f):_e[0]!="noop"&&f.l&&f.l.ta(_e),f.v=0)}}ma(4)}catch{}}var tM=class{constructor(c,d){this.g=c,this.map=d}};function _w(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Iw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ww(c){return c.h?1:c.g?c.g.size:0}function Kf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Qf(c,d){c.g?c.g.add(d):c.h=d}function Ew(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}_w.prototype.cancel=function(){if(this.i=Dw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Dw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function nM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function rM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function bw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=rM(c),g=nM(c),C=g.length,A=0;A<C;A++)d.call(void 0,g[A],f&&f[A],c)}var Cw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),C=null;if(0<=g){var A=c[f].substring(0,g);C=c[f].substring(g+1)}else A=c[f];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Ai(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ai){this.h=c.h,Cu(this,c.j),this.o=c.o,this.g=c.g,Tu(this,c.s),this.l=c.l;var d=c.i,f=new Ea;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Tw(this,f),this.m=c.m}else c&&(d=String(c).match(Cw))?(this.h=!1,Cu(this,d[1]||"",!0),this.o=Ia(d[2]||""),this.g=Ia(d[3]||"",!0),Tu(this,d[4]),this.l=Ia(d[5]||"",!0),Tw(this,d[6]||"",!0),this.m=Ia(d[7]||"")):(this.h=!1,this.i=new Ea(null,this.h))}Ai.prototype.toString=function(){var c=[],d=this.j;d&&c.push(wa(d,Sw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(wa(d,Sw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(wa(f,f.charAt(0)=="/"?aM:oM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",wa(f,uM)),c.join("")};function nr(c){return new Ai(c)}function Cu(c,d,f){c.j=f?Ia(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Tu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Tw(c,d,f){d instanceof Ea?(c.i=d,lM(c.i,c.h)):(f||(d=wa(d,cM)),c.i=new Ea(d,c.h))}function xe(c,d,f){c.i.set(d,f)}function Su(c){return xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ia(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function wa(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,sM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Sw=/[#\/\?@]/g,oM=/[#\?:]/g,aM=/[#\?]/g,cM=/[#\?@]/g,uM=/#/g;function Ea(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Ur(c){c.g||(c.g=new Map,c.h=0,c.i&&iM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Ea.prototype,t.add=function(c,d){Ur(this),this.i=null,c=Ss(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function Aw(c,d){Ur(c),d=Ss(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Rw(c,d){return Ur(c),d=Ss(c,d),c.g.has(d)}t.forEach=function(c,d){Ur(this),this.g.forEach(function(f,g){f.forEach(function(C){c.call(d,C,g,this)},this)},this)},t.na=function(){Ur(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=c[g];for(let A=0;A<C.length;A++)f.push(d[g])}return f},t.V=function(c){Ur(this);let d=[];if(typeof c=="string")Rw(this,c)&&(d=d.concat(this.g.get(Ss(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return Ur(this),this.i=null,c=Ss(this,c),Rw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Mw(c,d,f){Aw(c,d),0<f.length&&(c.i=null,c.g.set(Ss(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),P=this.V(g);for(g=0;g<P.length;g++){var C=A;P[g]!==""&&(C+="="+encodeURIComponent(String(P[g]))),c.push(C)}}return this.i=c.join("&")};function Ss(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function lM(c,d){d&&!c.j&&(Ur(c),c.i=null,c.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(Aw(this,g),Mw(this,C,f))},c)),c.j=d}function dM(c,d){let f=new va;if(a.Image){let g=new Image;g.onload=v(Br,f,"TestLoadImage: loaded",!0,d,g),g.onerror=v(Br,f,"TestLoadImage: error",!1,d,g),g.onabort=v(Br,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(Br,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function hM(c,d){let f=new va,g=new AbortController,C=setTimeout(()=>{g.abort(),Br(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(C),A.ok?Br(f,"TestPingServer: ok",!0,d):Br(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Br(f,"TestPingServer: error",!1,d)})}function Br(c,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function fM(){this.g=new QR}function pM(c,d,f){let g=f||"";try{bw(c,function(C,A){let P=C;l(C)&&(P=jf(C)),d.push(g+A+"="+encodeURIComponent(P))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function Da(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Da,Uf),Da.prototype.g=function(){return new Au(this.l,this.j)},Da.prototype.i=function(c){return function(){return c}}({});function Au(c,d){ft.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Au,ft),t=Au.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ca(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ba(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ca(this)),this.g&&(this.readyState=3,Ca(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Nw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ba(this):Ca(this),this.readyState==3&&Nw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ba(this))},t.Qa=function(c){this.g&&(this.response=c,ba(this))},t.ga=function(){this.g&&ba(this)};function ba(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ca(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ca(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Au.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function xw(c){let d="";return ee(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Yf(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=xw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):xe(c,d,f))}function Ve(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ve,ft);var gM=/^https?$/i,mM=["POST","PUT"];t=Ve.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hf.g(),this.v=this.o?aw(this.o):aw(Hf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){Pw(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(mM,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,P]of f)this.g.setRequestHeader(A,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fw(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){Pw(this,A)}};function Pw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,kw(c),Ru(c)}function kw(c){c.A||(c.A=!0,Et(c,"complete"),Et(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Et(this,"complete"),Et(this,"abort"),Ru(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ru(this,!0)),Ve.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ow(this):this.bb())},t.bb=function(){Ow(this)};function Ow(c){if(c.h&&typeof o<"u"&&(!c.v[1]||rr(c)!=4||c.Z()!=2)){if(c.u&&rr(c)==4)rw(c.Ea,0,c);else if(Et(c,"readystatechange"),rr(c)==4){c.h=!1;try{let P=c.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=P===0){var C=String(c.D).match(Cw)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),g=!gM.test(C?C.toLowerCase():"")}f=g}if(f)Et(c,"complete"),Et(c,"success");else{c.m=6;try{var A=2<rr(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",kw(c)}}finally{Ru(c)}}}}function Ru(c,d){if(c.g){Fw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Et(c,"ready");try{f.onreadystatechange=g}catch{}}}function Fw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function rr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),KR(d)}};function Vw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function yM(c){let d={};c=(c.g&&2<=rr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(z(c[g]))continue;var f=b(c[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[C]||[];d[C]=A,A.push(f)}D(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ta(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Lw(c){this.Aa=0,this.i=[],this.j=new va,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ta("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ta("baseRetryDelayMs",5e3,c),this.cb=Ta("retryDelaySeedMs",1e4,c),this.Wa=Ta("forwardChannelMaxRetries",2,c),this.wa=Ta("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new _w(c&&c.concurrentRequestLimit),this.Da=new fM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Lw.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){Dt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Ww(this,null,this.W),Nu(this)};function Zf(c){if(jw(c),c.G==3){var d=c.U++,f=nr(c.I);if(xe(f,"SID",c.K),xe(f,"RID",d),xe(f,"TYPE","terminate"),Sa(c,f),d=new jr(c,c.j,d),d.L=2,d.v=Su(nr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Kw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),bu(d)}Gw(c)}function Mu(c){c.g&&(Xf(c),c.g.cancel(),c.g=null)}function jw(c){Mu(c),c.u&&(a.clearTimeout(c.u),c.u=null),xu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Nu(c){if(!Iw(c.h)&&!c.s){c.s=!0;var d=c.Ga;la||ZI(),da||(la(),da=!0),Mf.add(d,c),c.B=0}}function vM(c,d){return ww(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ya(m(c.Ga,c,d),zw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new jr(this,this.j,c),A=this.o;if(this.S&&(A?(A=y(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Bw(this,C,d),f=nr(this.I),xe(f,"RID",c),xe(f,"CVER",22),this.D&&xe(f,"X-HTTP-Session-Id",this.D),Sa(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(xw(A)))+"&"+d:this.m&&Yf(f,this.m,A)),Qf(this.h,C),this.Ua&&xe(f,"TYPE","init"),this.P?(xe(f,"$req",d),xe(f,"SID","null"),C.T=!0,zf(C,f,null)):zf(C,f,d),this.G=2}}else this.G==3&&(c?Uw(this,c):this.i.length==0||Iw(this.h)||Uw(this))};function Uw(c,d){var f;d?f=d.l:f=c.U++;let g=nr(c.I);xe(g,"SID",c.K),xe(g,"RID",f),xe(g,"AID",c.T),Sa(c,g),c.m&&c.o&&Yf(g,c.m,c.o),f=new jr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Bw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Qf(c.h,f),zf(f,g,d)}function Sa(c,d){c.H&&ee(c.H,function(f,g){xe(d,g,f)}),c.l&&bw({},function(f,g){xe(d,g,f)})}function Bw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var C=c.i;let A=-1;for(;;){let P=["count="+f];A==-1?0<f?(A=C[0].g,P.push("ofs="+A)):A=0:P.push("ofs="+A);let Se=!0;for(let at=0;at<f;at++){let _e=C[at].g,pt=C[at].map;if(_e-=A,0>_e)A=Math.max(0,C[at].g-100),Se=!1;else try{pM(pt,P,"req"+_e+"_")}catch{g&&g(pt)}}if(Se){g=P.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function $w(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;la||ZI(),da||(la(),da=!0),Mf.add(d,c),c.v=0}}function Jf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ya(m(c.Fa,c),zw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Hw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ya(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),Mu(this),Hw(this))};function Xf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Hw(c){c.g=new jr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=nr(c.qa);xe(d,"RID","rpc"),xe(d,"SID",c.K),xe(d,"AID",c.T),xe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&xe(d,"TO",c.ja),xe(d,"TYPE","xmlhttp"),Sa(c,d),c.m&&c.o&&Yf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Su(nr(d)),f.m=null,f.P=!0,mw(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Mu(this),Jf(this),Dt(19))};function xu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function qw(c,d){var f=null;if(c.g==d){xu(c),Xf(c),c.g=null;var g=2}else if(Kf(c.h,d))f=d.D,Ew(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;g=wu(),Et(g,new hw(g,f)),Nu(c)}else $w(c);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&vM(c,d)||g==2&&Jf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:Ri(c,5);break;case 4:Ri(c,10);break;case 3:Ri(c,6);break;default:Ri(c,2)}}}function zw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Ri(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let C=!g;g=new Ai(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Cu(g,"https"),Su(g),C?dM(g.toString(),f):hM(g.toString(),f)}else Dt(2);c.G=0,c.l&&c.l.sa(d),Gw(c),jw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Gw(c){if(c.G=0,c.ka=[],c.l){let d=Dw(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function Ww(c,d,f){var g=f instanceof Ai?nr(f):new Ai(f);if(g.g!="")d&&(g.g=d+"."+g.g),Tu(g,g.s);else{var C=a.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new Ai(null);g&&Cu(A,g),d&&(A.g=d),C&&Tu(A,C),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&xe(g,f,d),xe(g,"VER",c.la),Sa(c,g),g}function Kw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ve(new Da({eb:f})):new Ve(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qw(){}t=Qw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Pu(){}Pu.prototype.g=function(c,d){return new Lt(c,d)};function Lt(c,d){ft.call(this),this.g=new Lw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!z(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!z(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new As(this)}S(Lt,ft),Lt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){Zf(this.g)},Lt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=jf(c),c=f);d.i.push(new tM(d.Ya++,c)),d.G==3&&Nu(d)},Lt.prototype.N=function(){this.g.l=null,delete this.j,Zf(this.g),delete this.g,Lt.aa.N.call(this)};function Yw(c){Bf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(Yw,Bf);function Zw(){$f.call(this),this.status=1}S(Zw,$f);function As(c){this.g=c}S(As,Qw),As.prototype.ua=function(){Et(this.g,"a")},As.prototype.ta=function(c){Et(this.g,new Yw(c))},As.prototype.sa=function(c){Et(this.g,new Zw)},As.prototype.ra=function(){Et(this.g,"b")},Pu.prototype.createWebChannel=Pu.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,jv=xr.createWebChannelTransport=function(){return new Pu},Lv=xr.getStatEventTarget=function(){return wu()},Vv=xr.Event=Ti,xh=xr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Eu.NO_ERROR=0,Eu.TIMEOUT=8,Eu.HTTP_ERROR=6,Gc=xr.ErrorCode=Eu,fw.COMPLETE="complete",Fv=xr.EventType=fw,cw.EventType=ga,ga.OPEN="a",ga.CLOSE="b",ga.ERROR="c",ga.MESSAGE="d",ft.prototype.listen=ft.prototype.K,jo=xr.WebChannel=cw,Ov=xr.FetchXmlHttpFactory=Da,Ve.prototype.listenOnce=Ve.prototype.L,Ve.prototype.getLastError=Ve.prototype.Ka,Ve.prototype.getLastErrorCode=Ve.prototype.Ba,Ve.prototype.getStatus=Ve.prototype.Z,Ve.prototype.getResponseJson=Ve.prototype.Oa,Ve.prototype.getResponseText=Ve.prototype.oa,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Ha,kv=xr.XhrIo=Ve}).apply(typeof Nh<"u"?Nh:typeof self<"u"?self:typeof window<"u"?window:{});var qS="@firebase/firestore";var ot=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ot.UNAUTHENTICATED=new ot(null),ot.GOOGLE_CREDENTIALS=new ot("google-credentials-uid"),ot.FIRST_PARTY=new ot("first-party-uid"),ot.MOCK_USER=new ot("mock-user");var oa="10.13.1";var ys=new fi("@firebase/firestore");function Wc(){return ys.logLevel}function U(t,...e){if(ys.logLevel<=fe.DEBUG){let n=e.map(bI);ys.debug(`Firestore (${oa}): ${t}`,...n)}}function kr(t,...e){if(ys.logLevel<=fe.ERROR){let n=e.map(bI);ys.error(`Firestore (${oa}): ${t}`,...n)}}function Go(t,...e){if(ys.logLevel<=fe.WARN){let n=e.map(bI);ys.warn(`Firestore (${oa}): ${t}`,...n)}}function bI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Z(t="Unexpected state"){let e=`FIRESTORE (${oa}) INTERNAL ASSERTION FAILED: `+t;throw kr(e),new Error(e)}function Me(t,e){t||Z()}function X(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends Yt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var An=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Vh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},qv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ot.UNAUTHENTICATED))}shutdown(){}},zv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Gv=class{constructor(e){this.t=e,this.currentUser=ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new An;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new An,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new An)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string"),new Vh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new ot(e)}},Wv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Kv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Wv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Qv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Yv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,U("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string"),this.R=n.token,new Qv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function OB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Lh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=OB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Ie(t,e){return t<e?-1:t>e?1:0}function Wo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var dt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var re=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new dt(0,0))}static max(){return new t(new dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var jh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Oe=class t extends jh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},FB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Jt=class t extends jh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return FB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new L(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var K=class t{constructor(e){this.path=e}static fromPath(e){return new t(Oe.fromString(e))}static fromName(e){return new t(Oe.fromString(e).popFirst(5))}static empty(){return new t(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Oe(e.slice()))}};var Zv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Zv.UNKNOWN_ID=-1;function VB(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new dt(n+1,0):new dt(n,r));return new vs(i,K.empty(),e)}function LB(t){return new vs(t.readTime,t.key,-1)}var vs=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(re.min(),K.empty(),-1)}static max(){return new t(re.max(),K.empty(),-1)}};function jB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}var UB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Jv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function hu(t){return _(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==UB)throw t;U("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function BB(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fu(t){return t.name==="IndexedDbTransactionError"}var DA=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function yf(t){return t==null}function Xc(t){return t===0&&1/t==-1/0}function $B(t){return typeof t=="number"&&Number.isInteger(t)&&!Xc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var HB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],k8=[...HB,"documentOverlays"],qB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],zB=qB,GB=[...zB,"indexConfiguration","indexState","indexEntries"];var O8=[...GB,"globals"];function zS(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bs(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var je=class t{constructor(e,n){this.comparator=e,this.root=n||Yn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ho(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ho(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ho(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ho(this.root,e,this.comparator,!0)}},Ho=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Yn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();let e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}};Yn.EMPTY=null,Yn.RED=!0,Yn.BLACK=!1;Yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var It=class t{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uh(this.data.getIterator())}getIteratorFrom(e){return new Uh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Uh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var fn=class t{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new t([])}unionWith(e){let n=new It(Jt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Bh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var wt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Bh("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};wt.EMPTY_BYTE_STRING=new wt("");var WB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(t){if(Me(!!t),typeof t=="string"){let e=0,n=WB.exec(t);if(Me(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pe(t.seconds),nanos:Pe(t.nanos)}}function Pe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ii(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}function CI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function TI(t){let e=t.mapValue.fields.__previous_value__;return CI(e)?TI(e):e}function eu(t){let e=Or(t.mapValue.fields.__local_write_time__.timestampValue);return new dt(e.seconds,e.nanos)}var Xv=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},$h=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Ph={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function _s(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?CI(t)?4:TA(t)?9007199254740991:CA(t)?10:11:Z()}function Xn(t,e){if(t===e)return!0;let n=_s(t);if(n!==_s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eu(t).isEqual(eu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Or(i.timestampValue),a=Or(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ii(i.bytesValue).isEqual(Ii(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Pe(i.geoPointValue.latitude)===Pe(s.geoPointValue.latitude)&&Pe(i.geoPointValue.longitude)===Pe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Pe(i.integerValue)===Pe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Pe(i.doubleValue),a=Pe(s.doubleValue);return o===a?Xc(o)===Xc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Wo(t.arrayValue.values||[],e.arrayValue.values||[],Xn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(zS(o)!==zS(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Xn(o[u],a[u])))return!1;return!0}(t,e);default:return Z()}}function tu(t,e){return(t.values||[]).find(n=>Xn(n,e))!==void 0}function Ko(t,e){if(t===e)return 0;let n=_s(t),r=_s(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Pe(s.integerValue||s.doubleValue),u=Pe(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return GS(t.timestampValue,e.timestampValue);case 4:return GS(eu(t),eu(e));case 5:return Ie(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Ii(s),u=Ii(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Ie(a[l],u[l]);if(h!==0)return h}return Ie(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Ie(Pe(s.latitude),Pe(o.latitude));return a!==0?a:Ie(Pe(s.longitude),Pe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return WS(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,h;let p=s.fields||{},m=o.fields||{},v=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,N=Ie(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:WS(v,S)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ph.mapValue&&o===Ph.mapValue)return 0;if(s===Ph.mapValue)return 1;if(o===Ph.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Ie(u[p],h[p]);if(m!==0)return m;let v=Ko(a[u[p]],l[h[p]]);if(v!==0)return v}return Ie(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Z()}}function GS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);let n=Or(t),r=Or(e),i=Ie(n.seconds,r.seconds);return i!==0?i:Ie(n.nanos,r.nanos)}function WS(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Ko(n[i],r[i]);if(s)return s}return Ie(n.length,r.length)}function Qo(t){return e_(t)}function e_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Or(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ii(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=e_(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${e_(n.fields[o])}`;return i+"}"}(t.mapValue):Z()}function KS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function t_(t){return!!t&&"integerValue"in t}function SI(t){return!!t&&"arrayValue"in t}function QS(t){return!!t&&"nullValue"in t}function YS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Oh(t){return!!t&&"mapValue"in t}function CA(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Qc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return bs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function TA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Zt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qc(n)}setAll(e){let n=Jt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Qc(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Oh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){bs(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Qc(this.value))}};function SA(t){let e=[];return bs(t.fields,(n,r)=>{let i=new Jt([n]);if(Oh(r)){let s=SA(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new fn(e)}var Rn=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,re.min(),re.min(),re.min(),Zt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,re.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,re.min(),re.min(),Zt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,re.min(),re.min(),Zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Yo=class{constructor(e,n){this.position=e,this.inclusive=n}};function ZS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=K.comparator(K.fromName(o.referenceValue),n.key):r=Ko(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function JS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xn(t.position[n],e.position[n]))return!1;return!0}var Zo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function KB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Hh=class{},We=class t extends Hh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new r_(e,n,r):n==="array-contains"?new o_(e,r):n==="in"?new a_(e,r):n==="not-in"?new c_(e,r):n==="array-contains-any"?new u_(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new i_(e,r):new s_(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ko(n,this.value)):n!==null&&_s(this.value)===_s(n)&&this.matchesComparison(Ko(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Mn=class t extends Hh{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return AA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function AA(t){return t.op==="and"}function RA(t){return QB(t)&&AA(t)}function QB(t){for(let e of t.filters)if(e instanceof Mn)return!1;return!0}function n_(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+Qo(t.value);if(RA(t))return t.filters.map(e=>n_(e)).join(",");{let e=t.filters.map(n=>n_(n)).join(",");return`${t.op}(${e})`}}function MA(t,e){return t instanceof We?function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&Xn(r.value,i.value)}(t,e):t instanceof Mn?function(r,i){return i instanceof Mn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&MA(o,i.filters[a]),!0):!1}(t,e):void Z()}function NA(t){return t instanceof We?function(n){return`${n.field.canonicalString()} ${n.op} ${Qo(n.value)}`}(t):t instanceof Mn?function(n){return n.op.toString()+" {"+n.getFilters().map(NA).join(" ,")+"}"}(t):"Filter"}var r_=class extends We{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){let n=K.comparator(e.key,this.key);return this.matchesComparison(n)}},i_=class extends We{constructor(e,n){super(e,"in",n),this.keys=xA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},s_=class extends We{constructor(e,n){super(e,"not-in",n),this.keys=xA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function xA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}var o_=class extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return SI(n)&&tu(n.arrayValue,this.value)}},a_=class extends We{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}},c_=class extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!tu(this.value.arrayValue,n)}},u_=class extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!SI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>tu(this.value.arrayValue,r))}};var l_=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function XS(t,e=null,n=[],r=[],i=null,s=null,o=null){return new l_(t,e,n,r,i,s,o)}function AI(t){let e=X(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>n_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),yf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qo(r)).join(",")),e.ue=n}return e.ue}function RI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!KB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!JS(t.startAt,e.startAt)&&JS(t.endAt,e.endAt)}function d_(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Is=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function YB(t,e,n,r,i,s,o,a){return new Is(t,e,n,r,i,s,o,a)}function MI(t){return new Is(t)}function eA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function PA(t){return t.collectionGroup!==null}function Yc(t){let e=X(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new It(Jt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Zo(s,r))}),n.has(Jt.keyField().canonicalString())||e.ce.push(new Zo(Jt.keyField(),r))}return e.ce}function Zn(t){let e=X(t);return e.le||(e.le=ZB(e,Yc(t))),e.le}function ZB(t,e){if(t.limitType==="F")return XS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Zo(i.field,s)});let n=t.endAt?new Yo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yo(t.startAt.position,t.startAt.inclusive):null;return XS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function h_(t,e){let n=t.filters.concat([e]);return new Is(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function f_(t,e,n){return new Is(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vf(t,e){return RI(Zn(t),Zn(e))&&t.limitType===e.limitType}function kA(t){return`${AI(Zn(t))}|lt:${t.limitType}`}function Uo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>NA(i)).join(", ")}]`),yf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Qo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Qo(i)).join(",")),`Target(${r})`}(Zn(t))}; limitType=${t.limitType})`}function _f(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):K.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Yc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=ZS(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,Yc(r),i)||r.endAt&&!function(o,a,u){let l=ZS(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,Yc(r),i))}(t,e)}function JB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OA(t){return(e,n)=>{let r=!1;for(let i of Yc(t)){let s=XB(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function XB(t,e,n){let r=t.field.isKeyField()?K.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?Ko(u,l):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}var wi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return bA(this.inner)}size(){return this.innerSize}};var e$=new je(K.comparator);function Fr(){return e$}var FA=new je(K.comparator);function Kc(...t){let e=FA;for(let n of t)e=e.insert(n.key,n);return e}function VA(t){let e=FA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ps(){return Zc()}function LA(){return Zc()}function Zc(){return new wi(t=>t.toString(),(t,e)=>t.isEqual(e))}var t$=new je(K.comparator),n$=new It(K.comparator);function pe(...t){let e=n$;for(let n of t)e=e.add(n);return e}var r$=new It(Ie);function i$(){return r$}function NI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(e)?"-0":e}}function jA(t){return{integerValue:""+t}}function s$(t,e){return $B(e)?jA(e):NI(t,e)}var Jo=class{constructor(){this._=void 0}};function o$(t,e,n){return t instanceof Xo?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&CI(s)&&(s=TI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ws?BA(t,e):t instanceof Es?$A(t,e):function(i,s){let o=UA(i,s),a=tA(o)+tA(i.Pe);return t_(o)&&t_(i.Pe)?jA(a):NI(i.serializer,a)}(t,e)}function a$(t,e,n){return t instanceof ws?BA(t,e):t instanceof Es?$A(t,e):n}function UA(t,e){return t instanceof ea?function(r){return t_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Xo=class extends Jo{},ws=class extends Jo{constructor(e){super(),this.elements=e}};function BA(t,e){let n=HA(e);for(let r of t.elements)n.some(i=>Xn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Es=class extends Jo{constructor(e){super(),this.elements=e}};function $A(t,e){let n=HA(e);for(let r of t.elements)n=n.filter(i=>!Xn(i,r));return{arrayValue:{values:n}}}var ea=class extends Jo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function tA(t){return Pe(t.integerValue||t.doubleValue)}function HA(t){return SI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function c$(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ws&&i instanceof ws||r instanceof Es&&i instanceof Es?Wo(r.elements,i.elements,Xn):r instanceof ea&&i instanceof ea?Xn(r.Pe,i.Pe):r instanceof Xo&&i instanceof Xo}(t.transform,e.transform)}var p_=class{constructor(e,n){this.version=e,this.transformResults=n}},Pr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Fh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ta=class{};function qA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nu(t.key,Pr.none()):new Ds(t.key,t.data,Pr.none());{let n=t.data,r=Zt.empty(),i=new It(Jt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new er(t.key,r,new fn(i.toArray()),Pr.none())}}function u$(t,e,n){t instanceof Ds?function(i,s,o){let a=i.value.clone(),u=rA(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof er?function(i,s,o){if(!Fh(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=rA(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(zA(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Jc(t,e,n,r){return t instanceof Ds?function(s,o,a,u){if(!Fh(s.precondition,o))return a;let l=s.value.clone(),h=iA(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof er?function(s,o,a,u){if(!Fh(s.precondition,o))return a;let l=iA(s.fieldTransforms,u,o),h=o.data;return h.setAll(zA(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return Fh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function l$(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=UA(r.transform,i||null);s!=null&&(n===null&&(n=Zt.empty()),n.set(r.field,s))}return n||null}function nA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wo(r,i,(s,o)=>c$(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ds=class extends ta{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},er=class extends ta{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function zA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function rA(t,e,n){let r=new Map;Me(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,a$(o,a,n[i]))}return r}function iA(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,o$(s,o,e))}return r}var nu=class extends ta{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},g_=class extends ta{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var m_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&u$(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Jc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=LA();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=qA(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&Wo(this.mutations,e.mutations,(n,r)=>nA(n,r))&&Wo(this.baseMutations,e.baseMutations,(n,r)=>nA(n,r))}},y_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Me(e.mutations.length===r.length);let i=function(){return t$}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var v_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var __=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var ze,ve;function d$(t){switch(t){default:return Z();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function GA(t){if(t===void 0)return kr("GRPC error has no .code"),M.UNKNOWN;switch(t){case ze.OK:return M.OK;case ze.CANCELLED:return M.CANCELLED;case ze.UNKNOWN:return M.UNKNOWN;case ze.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case ze.INTERNAL:return M.INTERNAL;case ze.UNAVAILABLE:return M.UNAVAILABLE;case ze.UNAUTHENTICATED:return M.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case ze.NOT_FOUND:return M.NOT_FOUND;case ze.ALREADY_EXISTS:return M.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return M.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case ze.ABORTED:return M.ABORTED;case ze.OUT_OF_RANGE:return M.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return M.UNIMPLEMENTED;case ze.DATA_LOSS:return M.DATA_LOSS;default:return Z()}}(ve=ze||(ze={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";var sA=null;function h$(){return new TextEncoder}var f$=new vi([4294967295,4294967295],0);function oA(t){let e=h$().encode(t),n=new Pv;return n.update(e),new Uint8Array(n.digest())}function aA(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new vi([n,r],0),new vi([i,s],0)]}var I_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gs(`Invalid padding: ${n}`);if(r<0)throw new gs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new gs(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new gs(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=vi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(vi.fromNumber(r)));return i.compare(f$)===1&&(i=new vi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=oA(e),[r,i]=aA(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=oA(e),[r,i]=aA(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},gs=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var qh=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(re.min(),i,new je(Ie),Fr(),pe())}},ru=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,pe(),pe(),pe())}};var qo=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},zh=class{constructor(e,n){this.targetId=e,this.me=n}},Gh=class{constructor(e,n,r=wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Wh=class{constructor(){this.fe=0,this.ge=uA(),this.pe=wt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pe(),n=pe(),r=pe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new ru(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=uA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Me(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},w_=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Fr(),this.qe=cA(),this.Qe=new je(Ie)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(d_(s))if(r===0){let o=new K(s.path);this.Ue(n,o,Rn.newNoDocument(o,re.min()))}else Me(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}sA?.et(function(h,p,m,v,S){var N,R,j,z,Y,le;let Fe={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ee=p.unchangedNames;return ee&&(Fe.bloomFilter={applied:S===0,hashCount:(N=ee?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(z=(j=(R=ee?.bits)===null||R===void 0?void 0:R.bitmap)===null||j===void 0?void 0:j.length)!==null&&z!==void 0?z:0,padding:(le=(Y=ee?.bits)===null||Y===void 0?void 0:Y.padding)!==null&&le!==void 0?le:0,mightContain:D=>{var y;return(y=v?.mightContain(D))!==null&&y!==void 0&&y}}),Fe}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Ii(r).toUint8Array()}catch(u){if(u instanceof Bh)return Go("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new I_(o,i,s)}catch(u){return Go(u instanceof gs?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&d_(a.target)){let u=new K(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Rn.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=pe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new qh(e,n,this.Qe,this.ke,r);return this.ke=Fr(),this.qe=cA(),this.Qe=new je(Ie),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Wh,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new It(Ie),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||U("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Wh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function cA(){return new je(K.comparator)}function uA(){return new je(K.comparator)}var p$={asc:"ASCENDING",desc:"DESCENDING"},g$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},m$={and:"AND",or:"OR"},E_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function D_(t,e){return t.useProto3Json||yf(e)?e:{value:e}}function Kh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function y$(t,e){return Kh(t,e.toTimestamp())}function Jn(t){return Me(!!t),re.fromTimestamp(function(n){let r=Or(n);return new dt(r.seconds,r.nanos)}(t))}function xI(t,e){return b_(t,e).canonicalString()}function b_(t,e){let n=function(i){return new Oe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function KA(t){let e=Oe.fromString(t);return Me(XA(e)),e}function C_(t,e){return xI(t.databaseId,e.path)}function Uv(t,e){let n=KA(e);if(n.get(1)!==t.databaseId.projectId)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(YA(n))}function QA(t,e){return xI(t.databaseId,e)}function v$(t){let e=KA(t);return e.length===4?Oe.emptyPath():YA(e)}function T_(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YA(t){return Me(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function lA(t,e,n){return{name:C_(t,e),fields:n.value.mapValue.fields}}function _$(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(Me(h===void 0||typeof h=="string"),wt.fromBase64String(h||"")):(Me(h===void 0||h instanceof Buffer||h instanceof Uint8Array),wt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?M.UNKNOWN:GA(l.code);return new L(h,l.message||"")}(o);n=new Gh(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Uv(t,r.document.name),s=Jn(r.document.updateTime),o=r.document.createTime?Jn(r.document.createTime):re.min(),a=new Zt({mapValue:{fields:r.document.fields}}),u=Rn.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new qo(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Uv(t,r.document),s=r.readTime?Jn(r.readTime):re.min(),o=Rn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new qo([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Uv(t,r.document),s=r.removedTargetIds||[];n=new qo([],s,i,null)}else{if(!("filter"in e))return Z();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new __(i,s),a=r.targetId;n=new zh(a,o)}}return n}function I$(t,e){let n;if(e instanceof Ds)n={update:lA(t,e.key,e.value)};else if(e instanceof nu)n={delete:C_(t,e.key)};else if(e instanceof er)n={update:lA(t,e.key,e.data),updateMask:R$(e.fieldMask)};else{if(!(e instanceof g_))return Z();n={verify:C_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Xo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ws)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Es)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ea)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:y$(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Z()}(t,e.precondition)),n}function w$(t,e){return t&&t.length>0?(Me(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Jn(i.updateTime):Jn(s);return o.isEqual(re.min())&&(o=Jn(s)),new p_(o,i.transformResults||[])}(n,e))):[]}function E$(t,e){return{documents:[QA(t,e.path)]}}function D$(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=QA(t,i);let s=function(l){if(l.length!==0)return JA(Mn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Bo(m.field),direction:T$(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=D_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function b$(t){let e=v$(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Me(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let m=ZA(p);return m instanceof Mn&&RA(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(S){return new Zo($o(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,yf(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,v=p.values||[];return new Yo(v,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,v=p.values||[];return new Yo(v,m)}(n.endAt)),YB(e,i,o,s,a,"F",u,l)}function C$(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ZA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=$o(n.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=$o(n.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=$o(n.unaryFilter.field);return We.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=$o(n.unaryFilter.field);return We.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(n){return We.create($o(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Mn.create(n.compositeFilter.filters.map(r=>ZA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(t):Z()}function T$(t){return p$[t]}function S$(t){return g$[t]}function A$(t){return m$[t]}function Bo(t){return{fieldPath:t.canonicalString()}}function $o(t){return Jt.fromServerFormat(t.fieldPath)}function JA(t){return t instanceof We?function(n){if(n.op==="=="){if(YS(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NAN"}};if(QS(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(YS(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NAN"}};if(QS(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(n.field),op:S$(n.op),value:n.value}}}(t):t instanceof Mn?function(n){let r=n.getFilters().map(i=>JA(i));return r.length===1?r[0]:{compositeFilter:{op:A$(n.op),filters:r}}}(t):Z()}function R$(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function XA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var iu=class t{constructor(e,n,r,i,s=re.min(),o=re.min(),a=wt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var S_=class{constructor(e){this.ct=e}};function M$(t){let e=b$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?f_(e,e.limit,"L"):e}var Qh=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Pe(e.integerValue));else if("doubleValue"in e){let r=Pe(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Xc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Or(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Ii(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?TA(e)?this.dt(n,Number.MAX_SAFE_INTEGER):CA(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Z()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Pe(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),K.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Qh.vt=new Qh;var A_=class{constructor(){this.un=new R_}addToCollectionParentIndex(e,n){return this.un.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(vs.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(vs.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},R_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new It(Oe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new It(Oe.comparator)).toArray()}};var V8=new Uint8Array(0);var Qn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Qn.DEFAULT_COLLECTION_PERCENTILE=10,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qn.DEFAULT=new Qn(41943040,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qn.DISABLED=new Qn(-1,0,0);var su=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var M_=class{constructor(){this.changes=new wi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var N_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var x_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Jc(r.mutation,i,fn.empty(),dt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){let i=ps();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Kc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=ps();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Fr(),o=Zc(),a=function(){return Zc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof er)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),Jc(h.mutation,l,h.mutation.getFieldMask(),dt.now())):o.set(l.key,fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new N_(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Zc(),i=new je((o,a)=>o-a),s=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||fn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||pe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=LA();h.forEach(m=>{if(!s.has(m)){let v=qA(n.get(m),r.get(m));v!==null&&p.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return K.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):PA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(ps()),a=-1,u=s;return o.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,pe())).next(h=>({batchId:a,changes:VA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let i=Kc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Kc();return this.indexManager.getCollectionParents(e,s).next(a=>x.forEach(a,u=>{let l=function(p,m){return new Is(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,Rn.newInvalidDocument(h)))});let a=Kc();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&Jc(h.mutation,l,fn.empty(),dt.now()),_f(n,l)&&(a=a.insert(u,l))}),a})}};var P_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return x.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Jn(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:M$(i.bundledQuery),readTime:Jn(i.readTime)}}(n)),x.resolve()}};var k_=class{constructor(){this.overlays=new je(K.comparator),this.Ir=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=ps();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=ps(),s=n.length+1,o=new K(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new je((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=ps(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=ps(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new v_(n,r));let s=this.Ir.get(n);s===void 0&&(s=pe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var O_=class{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var ou=class{constructor(){this.Tr=new It(Ge.Er),this.dr=new It(Ge.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Ge(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ge(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new K(new Oe([])),r=new Ge(n,e),i=new Ge(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new K(new Oe([])),r=new Ge(n,e),i=new Ge(n,e+1),s=pe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Ge(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ge=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return K.comparator(e.key,n.key)||Ie(e.wr,n.wr)}static Ar(e,n){return Ie(e.wr,n.wr)||K.comparator(e.key,n.key)}};var F_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new It(Ge.Er)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new m_(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new Ge(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ge(n,0),i=new Ge(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new It(Ie);return n.forEach(i=>{let s=new Ge(i,0),o=new Ge(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),x.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;K.isDocumentKey(s)||(s=s.child(""));let o=new Ge(new K(s),0),a=new It(Ie);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),x.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Me(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return x.forEach(n.mutations,i=>{let s=new Ge(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Ge(n,0),i=this.br.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var V_=class{constructor(e){this.Mr=e,this.docs=function(){return new je(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():Rn.newInvalidDocument(n))}getEntries(e,n){let r=Fr();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Rn.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Fr(),o=n.path,a=new K(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||jB(LB(h),r)<=0||(i.has(h.key)||_f(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Z()}Or(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new L_(this)}getSize(e){return x.resolve(this.size)}},L_=class extends M_{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var j_=class{constructor(e){this.persistence=e,this.Nr=new wi(n=>AI(n),RI),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ou,this.targetCount=0,this.kr=su.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),x.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new su(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Kn(n),x.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Br.containsKey(n))}};var U_=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new DA(0),this.Kr=!1,this.Kr=!0,this.$r=new O_,this.referenceDelegate=e(this),this.Ur=new j_(this),this.indexManager=new A_,this.remoteDocumentCache=function(i){return new V_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new S_(n),this.Gr=new P_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new k_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new F_(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);let i=new B_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return x.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},B_=class extends Jv{constructor(e){super(),this.currentSequenceNumber=e}},$_=class t{constructor(e){this.persistence=e,this.Jr=new ou,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Z()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),x.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Xr,r=>{let i=K.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,re.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return x.or([()=>x.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var H_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=pe(),i=pe();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var q_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var z_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return TT()?8:BB(st())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new q_;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Wc()<=fe.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),x.resolve()):(Wc()<=fe.DEBUG&&U("QueryEngine","Query:",Uo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Wc()<=fe.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(n))):x.resolve())}Yi(e,n){if(eA(n))return x.resolve(null);let r=Zn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=f_(n,null,"F"),r=Zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=pe(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,f_(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return eA(n)||i.isEqual(re.min())?x.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?x.resolve(null):(Wc()<=fe.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Uo(n)),this.rs(e,o,n,VB(i,-1)).next(a=>a))})}ts(e,n){let r=new It(OA(e));return n.forEach((i,s)=>{_f(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Wc()<=fe.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Uo(n)),this.Ji.getDocumentsMatchingQuery(e,n,vs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var G_=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new je(Ie),this._s=new wi(s=>AI(s),RI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new x_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function N$(t,e,n,r){return new G_(t,e,n,r)}function eR(t,e){return _(this,null,function*(){let n=X(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=pe();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function x$(t,e){let n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),v=x.resolve();return m.forEach(S=>{v=v.next(()=>h.getEntry(u,S)).next(N=>{let R=l.docVersions.get(S);Me(R!==null),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=pe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function tR(t){let e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function P$(t,e){let n=X(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(wt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(N,R,j){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(m,v,h)&&a.push(n.Ur.updateTargetData(s,v))});let u=Fr(),l=pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(k$(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(re.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function k$(t,e,n){let r=pe(),i=pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Fr();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(re.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function O$(t,e){let n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function F$(t,e){let n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new iu(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function W_(t,e,n){return _(this,null,function*(){let r=X(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!fu(o))throw o;U("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function dA(t,e,n){let r=X(t),i=re.min(),s=pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=X(u),m=p._s.get(h);return m!==void 0?x.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,o,Zn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:re.min(),n?s:pe())).next(a=>(V$(r,JB(e),a),{documents:a,Ts:s})))}function V$(t,e,n){let r=t.us.get(e)||re.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var Yh=class{constructor(){this.activeTargetIds=i$()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var K_=class{constructor(){this.so=new Yh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Yh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Q_=class{_o(e){}shutdown(){}};var Zh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var kh=null;function Bv(){return kh===null?kh=function(){return 268435456+Math.round(2147483648*Math.random())}():kh++,"0x"+kh.toString(16)}var L$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Y_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var _t="WebChannelConnection",Z_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=Bv(),u=this.xo(n,r.toUriEncodedString());U("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(h=>(U("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Go("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=L$[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=Bv();return new Promise((o,a)=>{let u=new kv;u.setWithCredentials(!0),u.listenOnce(Fv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Gc.NO_ERROR:let h=u.getResponseJson();U(_t,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Gc.TIMEOUT:U(_t,`RPC '${e}' ${s} timed out`),a(new L(M.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:let p=u.getStatus();if(U(_t,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let S=function(R){let j=R.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(j)>=0?j:M.UNKNOWN}(v.status);a(new L(S,v.message))}else a(new L(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new L(M.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{U(_t,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);U(_t,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Bv(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=jv(),a=Lv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Ov({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");U(_t,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),m=!1,v=!1,S=new Y_({Io:R=>{v?U(_t,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(U(_t,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),U(_t,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),N=(R,j,z)=>{R.listen(j,Y=>{try{z(Y)}catch(le){setTimeout(()=>{throw le},0)}})};return N(p,jo.EventType.OPEN,()=>{v||(U(_t,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),N(p,jo.EventType.CLOSE,()=>{v||(v=!0,U(_t,`RPC '${e}' stream ${i} transport closed`),S.So())}),N(p,jo.EventType.ERROR,R=>{v||(v=!0,Go(_t,`RPC '${e}' stream ${i} transport errored:`,R),S.So(new L(M.UNAVAILABLE,"The operation could not be completed")))}),N(p,jo.EventType.MESSAGE,R=>{var j;if(!v){let z=R.data[0];Me(!!z);let Y=z,le=Y.error||((j=Y[0])===null||j===void 0?void 0:j.error);if(le){U(_t,`RPC '${e}' stream ${i} received error:`,le);let Fe=le.status,ee=function(I){let E=ze[I];if(E!==void 0)return GA(E)}(Fe),D=le.message;ee===void 0&&(ee=M.INTERNAL,D="Unknown error status: "+Fe+" with message "+le.message),v=!0,S.So(new L(ee,D)),p.close()}else U(_t,`RPC '${e}' stream ${i} received:`,z),S.bo(z)}}),N(a,Vv.STAT_EVENT,R=>{R.stat===xh.PROXY?U(_t,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===xh.NOPROXY&&U(_t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function $v(){return typeof document<"u"?document:null}function If(t){return new E_(t,!0)}var Jh=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Xh=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Jh(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return _(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return _(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return _(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(kr(n.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new L(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>_(this,null,function*(){this.state=0,this.start()}))}I_(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},J_=class extends Xh{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=_$(this.serializer,e),r=function(s){if(!("targetChange"in s))return re.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?re.min():o.readTime?Jn(o.readTime):re.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=T_(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=d_(u)?{documents:E$(s,u)}:{query:D$(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=WA(s,o.resumeToken);let l=D_(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(re.min())>0){a.readTime=Kh(s,o.snapshotVersion.toTimestamp());let l=D_(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=C$(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=T_(this.serializer),n.removeTarget=e,this.a_(n)}},X_=class extends Xh{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Me(!!e.streamToken),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=w$(e.writeResults,e.commitTime),r=Jn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=T_(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>I$(this.serializer,r))};this.a_(n)}};var eI=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,b_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(M.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,b_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(M.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},tI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(kr(n),this.D_=!1):U("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var nI=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>_(this,null,function*(){Cs(this)&&(U("RemoteStore","Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=X(u);l.L_.add(4),yield pu(l),l.q_.set("Unknown"),l.L_.delete(4),yield wf(l)})}(this))}))}),this.q_=new tI(r,i)}};function wf(t){return _(this,null,function*(){if(Cs(t))for(let e of t.B_)yield e(!0)})}function pu(t){return _(this,null,function*(){for(let e of t.B_)yield e(!1)})}function nR(t,e){let n=X(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),FI(n)?OI(n):aa(n).r_()&&kI(n,e))}function PI(t,e){let n=X(t),r=aa(n);n.N_.delete(e),r.r_()&&rR(n,e),n.N_.size===0&&(r.r_()?r.o_():Cs(n)&&n.q_.set("Unknown"))}function kI(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}aa(t).A_(e)}function rR(t,e){t.Q_.xe(e),aa(t).R_(e)}function OI(t){t.Q_=new w_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),aa(t).start(),t.q_.v_()}function FI(t){return Cs(t)&&!aa(t).n_()&&t.N_.size>0}function Cs(t){return X(t).L_.size===0}function iR(t){t.Q_=void 0}function j$(t){return _(this,null,function*(){t.q_.set("Online")})}function U$(t){return _(this,null,function*(){t.N_.forEach((e,n)=>{kI(t,e)})})}function B$(t,e){return _(this,null,function*(){iR(t),FI(t)?(t.q_.M_(e),OI(t)):t.q_.set("Unknown")})}function $$(t,e,n){return _(this,null,function*(){if(t.q_.set("Online"),e instanceof Gh&&e.state===2&&e.cause)try{yield function(i,s){return _(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ef(t,r)}else if(e instanceof qo?t.Q_.Ke(e):e instanceof zh?t.Q_.He(e):t.Q_.We(e),!n.isEqual(re.min()))try{let r=yield tR(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(wt.EMPTY_BYTE_STRING,h.snapshotVersion)),rR(s,u);let p=new iu(h.target,u,l,h.sequenceNumber);kI(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){U("RemoteStore","Failed to raise snapshot:",r),yield ef(t,r)}})}function ef(t,e,n){return _(this,null,function*(){if(!fu(e))throw e;t.L_.add(1),yield pu(t),t.q_.set("Offline"),n||(n=()=>tR(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(this,null,function*(){U("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield wf(t)}))})}function sR(t,e){return e().catch(n=>ef(t,n,e))}function Ef(t){return _(this,null,function*(){let e=X(t),n=Ei(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;H$(e);)try{let i=yield O$(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,q$(e,i)}catch(i){yield ef(e,i)}oR(e)&&aR(e)})}function H$(t){return Cs(t)&&t.O_.length<10}function q$(t,e){t.O_.push(e);let n=Ei(t);n.r_()&&n.V_&&n.m_(e.mutations)}function oR(t){return Cs(t)&&!Ei(t).n_()&&t.O_.length>0}function aR(t){Ei(t).start()}function z$(t){return _(this,null,function*(){Ei(t).p_()})}function G$(t){return _(this,null,function*(){let e=Ei(t);for(let n of t.O_)e.m_(n.mutations)})}function W$(t,e,n){return _(this,null,function*(){let r=t.O_.shift(),i=y_.from(r,e,n);yield sR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Ef(t)})}function K$(t,e){return _(this,null,function*(){e&&Ei(t).V_&&(yield function(r,i){return _(this,null,function*(){if(function(o){return d$(o)&&o!==M.ABORTED}(i.code)){let s=r.O_.shift();Ei(r).s_(),yield sR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Ef(r)}})}(t,e)),oR(t)&&aR(t)})}function hA(t,e){return _(this,null,function*(){let n=X(t);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");let r=Cs(n);n.L_.add(3),yield pu(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield wf(n)})}function Q$(t,e){return _(this,null,function*(){let n=X(t);e?(n.L_.delete(2),yield wf(n)):e||(n.L_.add(2),yield pu(n),n.q_.set("Unknown"))})}function aa(t){return t.K_||(t.K_=function(n,r,i){let s=X(n);return s.w_(),new J_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:j$.bind(null,t),Ro:U$.bind(null,t),mo:B$.bind(null,t),d_:$$.bind(null,t)}),t.B_.push(e=>_(this,null,function*(){e?(t.K_.s_(),FI(t)?OI(t):t.q_.set("Unknown")):(yield t.K_.stop(),iR(t))}))),t.K_}function Ei(t){return t.U_||(t.U_=function(n,r,i){let s=X(n);return s.w_(),new X_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:z$.bind(null,t),mo:K$.bind(null,t),f_:G$.bind(null,t),g_:W$.bind(null,t)}),t.B_.push(e=>_(this,null,function*(){e?(t.U_.s_(),yield Ef(t)):(yield t.U_.stop(),t.O_.length>0&&(U("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var rI=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new An,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function VI(t,e){if(kr("AsyncQueue",`${e}: ${t}`),fu(t))return new L(M.UNAVAILABLE,`${e}: ${t}`);throw t}var tf=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=Kc(),this.sortedSet=new je(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var nf=class{constructor(){this.W_=new je(K.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Z():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},na=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,tf.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var iI=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},sI=class{constructor(){this.queries=fA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=X(n),s=i.queries;i.queries=fA(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new L(M.ABORTED,"Firestore shutting down"))}};function fA(){return new wi(t=>kA(t),vf)}function cR(t,e){return _(this,null,function*(){let n=X(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new iI,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=VI(o,`Initialization of query '${Uo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&LI(n)})}function uR(t,e){return _(this,null,function*(){let n=X(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function Y$(t,e){let n=X(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&LI(n)}function Z$(t,e,n){let r=X(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function LI(t){t.Y_.forEach(e=>{e.next()})}var oI,pA;(pA=oI||(oI={})).ea="default",pA.Cache="cache";var rf=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new na(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=na.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==oI.Cache}};var sf=class{constructor(e){this.key=e}},of=class{constructor(e){this.key=e}},aI=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pe(),this.mutatedKeys=pe(),this.Aa=OA(e),this.Ra=new tf(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new nf,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),v=_f(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),N=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),R=!1;m&&v?m.data.isEqual(v.data)?S!==N&&(r.track({type:3,doc:v}),R=!0):this.ga(m,v)||(r.track({type:2,doc:v}),R=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),R=!0):m&&!v&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(v?(o=o.add(v),s=N?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(v,S){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return N(v)-N(S)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new na(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new nf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new of(r))}),this.da.forEach(r=>{e.has(r)||n.push(new sf(r))}),n}ba(e){this.Ta=e.Ts,this.da=pe();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return na.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},cI=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},uI=class{constructor(e){this.key=e,this.va=!1}},lI=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new wi(a=>kA(a),vf),this.Ma=new Map,this.xa=new Set,this.Oa=new je(K.comparator),this.Na=new Map,this.La=new ou,this.Ba={},this.ka=new Map,this.qa=su.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function J$(t,e,n=!0){return _(this,null,function*(){let r=gR(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield lR(r,e,n,!0),i})}function X$(t,e){return _(this,null,function*(){let n=gR(t);yield lR(n,e,!0,!1)})}function lR(t,e,n,r){return _(this,null,function*(){let i=yield F$(t.localStore,Zn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield eH(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&nR(t.remoteStore,i),a})}function eH(t,e,n,r,i){return _(this,null,function*(){t.Ka=(p,m,v)=>function(N,R,j,z){return _(this,null,function*(){let Y=R.view.ma(j);Y.ns&&(Y=yield dA(N.localStore,R.query,!1).then(({documents:D})=>R.view.ma(D,Y)));let le=z&&z.targetChanges.get(R.targetId),Fe=z&&z.targetMismatches.get(R.targetId)!=null,ee=R.view.applyChanges(Y,N.isPrimaryClient,le,Fe);return mA(N,R.targetId,ee.wa),ee.snapshot})}(t,p,m,v);let s=yield dA(t.localStore,e,!0),o=new aI(e,s.Ts),a=o.ma(s.documents),u=ru.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);mA(t,n,l.wa);let h=new cI(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function tH(t,e,n){return _(this,null,function*(){let r=X(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!vf(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield W_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&PI(r.remoteStore,i.targetId),dI(r,i.targetId)}).catch(hu))):(dI(r,i.targetId),yield W_(r.localStore,i.targetId,!0))})}function nH(t,e){return _(this,null,function*(){let n=X(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),PI(n.remoteStore,r.targetId))})}function rH(t,e,n){return _(this,null,function*(){let r=lH(t);try{let i=yield function(o,a){let u=X(o),l=dt.now(),h=a.reduce((v,S)=>v.add(S.key),pe()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let S=Fr(),N=pe();return u.cs.getEntries(v,h).next(R=>{S=R,S.forEach((j,z)=>{z.isValidDocument()||(N=N.add(j))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,S)).next(R=>{p=R;let j=[];for(let z of a){let Y=l$(z,p.get(z.key).overlayedDocument);Y!=null&&j.push(new er(z.key,Y,SA(Y.value.mapValue),Pr.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,j,a)}).next(R=>{m=R;let j=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(v,R.batchId,j)})}).then(()=>({batchId:m.batchId,changes:VA(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new je(Ie)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield gu(r,i.changes),yield Ef(r.remoteStore)}catch(i){let s=VI(i,"Failed to persist write");n.reject(s)}})}function dR(t,e){return _(this,null,function*(){let n=X(t);try{let r=yield P$(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(Me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Me(o.va):i.removedDocuments.size>0&&(Me(o.va),o.va=!1))}),yield gu(n,r,e)}catch(r){yield hu(r)}})}function gA(t,e,n){let r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=X(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&LI(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function iH(t,e,n){return _(this,null,function*(){let r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new je(K.comparator);o=o.insert(s,Rn.newNoDocument(s,re.min()));let a=pe().add(s),u=new qh(re.min(),new Map,new je(Ie),o,a);yield dR(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),jI(r)}else yield W_(r.localStore,e,!1).then(()=>dI(r,e,n)).catch(hu)})}function sH(t,e){return _(this,null,function*(){let n=X(t),r=e.batch.batchId;try{let i=yield x$(n.localStore,e);fR(n,r,null),hR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield gu(n,i)}catch(i){yield hu(i)}})}function oH(t,e,n){return _(this,null,function*(){let r=X(t);try{let i=yield function(o,a){let u=X(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Me(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);fR(r,e,n),hR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield gu(r,i)}catch(i){yield hu(i)}})}function hR(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function fR(t,e,n){let r=X(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function dI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||pR(t,r)})}function pR(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(PI(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),jI(t))}function mA(t,e,n){for(let r of n)r instanceof sf?(t.La.addReference(r.key,e),aH(t,r)):r instanceof of?(U("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||pR(t,r.key)):Z()}function aH(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(U("SyncEngine","New document in limbo: "+n),t.xa.add(r),jI(t))}function jI(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new K(Oe.fromString(e)),r=t.qa.next();t.Na.set(r,new uI(n)),t.Oa=t.Oa.insert(n,r),nR(t.remoteStore,new iu(Zn(MI(n.path)),r,"TargetPurposeLimboResolution",DA.oe))}}function gu(t,e,n){return _(this,null,function*(){let r=X(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=H_.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return _(this,null,function*(){let h=X(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.$i,v=>h.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>x.forEach(m.Ui,v=>h.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!fu(p))throw p;U("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=h.os.get(m),S=v.snapshotVersion,N=v.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(m,N)}}})}(r.localStore,s))})}function cH(t,e){return _(this,null,function*(){let n=X(t);if(!n.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());let r=yield eR(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new L(M.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield gu(n,r.hs)}})}function uH(t,e){let n=X(t),r=n.Na.get(e);if(r&&r.va)return pe().add(r.key);{let i=pe(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function gR(t){let e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iH.bind(null,e),e.Ca.d_=Y$.bind(null,e.eventManager),e.Ca.$a=Z$.bind(null,e.eventManager),e}function lH(t){let e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oH.bind(null,e),e}var af=class{constructor(){this.synchronizeTabs=!1}initialize(e){return _(this,null,function*(){this.serializer=If(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return N$(this.persistence,new z_,e.initialUser,this.serializer)}createPersistence(e){return new U_($_.Zr,this.serializer)}createSharedClientState(e){return new K_}terminate(){return _(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var hI=class{initialize(e,n){return _(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cH.bind(null,this.syncEngine),yield Q$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new sI}()}createDatastore(e){let n=If(e.databaseInfo.databaseId),r=function(s){return new Z_(s)}(e.databaseInfo);return function(s,o,a,u){return new eI(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new nI(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>gA(this.syncEngine,n,0),function(){return Zh.D()?new Zh:new Q_}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,h){let p=new lI(i,s,o,a,u,l);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return _(this,null,function*(){var e,n;yield function(i){return _(this,null,function*(){let s=X(i);U("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield pu(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var cf=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var fI=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ot.UNAUTHENTICATED,this.clientId=Lh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>_(this,null,function*(){U("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(U("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new An;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=VI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Hv(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(this,null,function*(){r.isEqual(i)||(yield eR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function yA(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield hH(t);U("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>hA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>hA(e.remoteStore,i)),t._onlineComponents=e})}function dH(t){return t.name==="FirebaseError"?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function hH(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Hv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!dH(n))throw n;Go("Error using user provided cache. Falling back to memory cache: "+n),yield Hv(t,new af)}}else U("FirestoreClient","Using default OfflineComponentProvider"),yield Hv(t,new af);return t._offlineComponents})}function mR(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),yield yA(t,t._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),yield yA(t,new hI))),t._onlineComponents})}function fH(t){return mR(t).then(e=>e.syncEngine)}function yR(t){return _(this,null,function*(){let e=yield mR(t),n=e.eventManager;return n.onListen=J$.bind(null,e.syncEngine),n.onUnlisten=tH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=X$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nH.bind(null,e.syncEngine),n})}function pH(t,e,n={}){let r=new An;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(s,o,a,u,l){let h=new cf({next:m=>{o.enqueueAndForget(()=>uR(s,p));let v=m.docs.has(a);!v&&m.fromCache?l.reject(new L(M.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&u&&u.source==="server"?l.reject(new L(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new rf(MI(a.path),h,{includeMetadataChanges:!0,_a:!0});return cR(s,p)}(yield yR(t),t.asyncQueue,e,n,r)})),r.promise}function gH(t,e,n={}){let r=new An;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(s,o,a,u,l){let h=new cf({next:m=>{o.enqueueAndForget(()=>uR(s,p)),m.fromCache&&u.source==="server"?l.reject(new L(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new rf(a,h,{includeMetadataChanges:!0,_a:!0});return cR(s,p)}(yield yR(t),t.asyncQueue,e,n,r)})),r.promise}function vR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var vA=new Map;function _R(t,e,n){if(!n)throw new L(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mH(t,e,n,r){if(e===!0&&r===!0)throw new L(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _A(t){if(!K.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function IA(t){if(K.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Df(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function Vr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Df(t);throw new L(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var uf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ra=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new L(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uf(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qv;switch(r.type){case"firstParty":return new Kv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=vA.get(n);r&&(U("ComponentProvider","Removing Datastore"),vA.delete(n),r.terminate())}(this),Promise.resolve()}};function IR(t,e,n,r={}){var i;let s=(t=Vr(t,ra))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=ot.MOCK_USER;else{a=wT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new L(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ot(l)}t._authCredentials=new zv(new Vh(a,u))}}var ia=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ft=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},_i=class t extends ia{constructor(e,n,r){super(e,n,MI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new K(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function bi(t,e,...n){if(t=et(t),_R("collection","path",e),t instanceof ra){let r=Oe.fromString(e,...n);return IA(r),new _i(t,null,r)}{if(!(t instanceof Ft||t instanceof _i))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Oe.fromString(e,...n));return IA(r),new _i(t.firestore,null,r)}}function Ci(t,e,...n){if(t=et(t),arguments.length===1&&(e=Lh.newId()),_R("doc","path",e),t instanceof ra){let r=Oe.fromString(e,...n);return _A(r),new Ft(t,null,new K(r))}{if(!(t instanceof Ft||t instanceof _i))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Oe.fromString(e,...n));return _A(r),new Ft(t.firestore,t instanceof _i?t.converter:null,new K(r))}}var pI=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Jh(this,"async_queue_retry"),this.Eu=()=>{let n=$v();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=$v();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=$v();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new An;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return _(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!fu(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw kr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=rI.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&Z()}verifyOperationInProgress(){}mu(){return _(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};var Di=class extends ra{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new pI}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||wR(this),this._firestoreClient.terminate()}};function UI(t,e){let n=typeof t=="object"?t:No(),r=typeof t=="string"?t:e||"(default)",i=Pc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=IT("firestore");s&&IR(i,...s)}return i}function BI(t){return t._firestoreClient||wR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function wR(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,h){return new Xv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,vR(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new fI(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var au=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(wt.fromBase64String(e))}catch(n){throw new L(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var sa=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var cu=class{constructor(e){this._methodName=e}};var uu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}};var lu=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var yH=/^__.*__$/,gI=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new er(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ds(e,this.data,n,this.fieldTransforms)}},lf=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new er(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function ER(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}var mI=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return hf(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(ER(this.wu)&&yH.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},yI=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||If(e)}Nu(e,n,r,i=!1){return new mI({wu:e,methodName:n,Ou:r,path:Jt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function $I(t){let e=t._freezeSettings(),n=If(t._databaseId);return new yI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vH(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);HI("Data must be an object, but it was:",o,r);let a=DR(r,o),u,l;if(s.merge)u=new fn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=vI(e,p,n);if(!o.contains(m))throw new L(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);CR(h,m)||h.push(m)}u=new fn(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new gI(new Zt(a),u,l)}var df=class t extends cu{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function _H(t,e,n,r){let i=t.Nu(1,e,n);HI("Data must be an object, but it was:",i,r);let s=[],o=Zt.empty();bs(r,(u,l)=>{let h=qI(e,u,n);l=et(l);let p=i.Cu(h);if(l instanceof df)s.push(h);else{let m=mu(l,p);m!=null&&(s.push(h),o.set(h,m))}});let a=new fn(s);return new lf(o,a,i.fieldTransforms)}function IH(t,e,n,r,i,s){let o=t.Nu(1,e,n),a=[vI(e,r,n)],u=[i];if(s.length%2!=0)throw new L(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(vI(e,s[m])),u.push(s[m+1]);let l=[],h=Zt.empty();for(let m=a.length-1;m>=0;--m)if(!CR(l,a[m])){let v=a[m],S=u[m];S=et(S);let N=o.Cu(v);if(S instanceof df)l.push(v);else{let R=mu(S,N);R!=null&&(l.push(v),h.set(v,R))}}let p=new fn(l);return new lf(h,p,o.fieldTransforms)}function wH(t,e,n,r=!1){return mu(n,t.Nu(r?4:3,e))}function mu(t,e){if(bR(t=et(t)))return HI("Unsupported field value:",e,t),DR(t,e);if(t instanceof cu)return function(r,i){if(!ER(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=mu(a,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return s$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=dt.fromDate(r);return{timestampValue:Kh(i.serializer,s)}}if(r instanceof dt){let s=new dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kh(i.serializer,s)}}if(r instanceof uu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof au)return{bytesValue:WA(i.serializer,r._byteString)};if(r instanceof Ft){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:xI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof lu)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return NI(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Df(r)}`)}(t,e)}function DR(t,e){let n={};return bA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(t,(r,i)=>{let s=mu(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function bR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dt||t instanceof uu||t instanceof au||t instanceof Ft||t instanceof cu||t instanceof lu)}function HI(t,e,n){if(!bR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Df(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function vI(t,e,n){if((e=et(e))instanceof sa)return e._internalPath;if(typeof e=="string")return qI(t,e);throw hf("Field path arguments must be of type string or ",t,!1,void 0,n)}var EH=new RegExp("[~\\*/\\[\\]]");function qI(t,e,n){if(e.search(EH)>=0)throw hf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sa(...e.split("."))._internalPath}catch{throw hf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hf(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new L(M.INVALID_ARGUMENT,a+t+u)}function CR(t,e){return t.some(n=>n.isEqual(e))}var ff=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new _I(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(zI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},_I=class extends ff{data(){return super.data()}};function zI(t,e){return typeof e=="string"?qI(t,e):e instanceof sa?e._internalPath:e._delegate._internalPath}function DH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var du=class{},II=class extends du{};function bf(t,e,...n){let r=[];e instanceof du&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof wI).length,a=s.filter(u=>u instanceof pf).length;if(o>1||o>0&&a>0)throw new L(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var pf=class t extends II{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return TR(e._query,n),new ia(e.firestore,e.converter,h_(e._query,n))}_parse(e){let n=$I(e.firestore);return function(s,o,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){EA(p,h);let v=[];for(let S of p)v.push(wA(u,s,S));m={arrayValue:{values:v}}}else m=wA(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||EA(p,h),m=wH(a,o,p,h==="in"||h==="not-in");return We.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function Cf(t,e,n){let r=e,i=zI("where",t);return pf._create(i,r,n)}var wI=class t extends du{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Mn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)TR(o,u),o=h_(o,u)}(e._query,n),new ia(e.firestore,e.converter,h_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function wA(t,e,n){if(typeof(n=et(n))=="string"){if(n==="")throw new L(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PA(e)&&n.indexOf("/")!==-1)throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Oe.fromString(n));if(!K.isDocumentKey(r))throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return KS(t,new K(r))}if(n instanceof Ft)return KS(t,n._key);throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Df(n)}.`)}function EA(t,e){if(!Array.isArray(t)||t.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TR(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var EI=class{convertValue(e,n="none"){switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return bs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Pe(o.doubleValue));return new lu(s)}convertGeoPoint(e){return new uu(Pe(e.latitude),Pe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=TI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){let n=Or(e);return new dt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Oe.fromString(e);Me(XA(r));let i=new $h(r.get(1),r.get(3)),s=new K(r.popFirst(5));return i.isEqual(n)||kr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function bH(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var ms=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},gf=class extends ff{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new zo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(zI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},zo=class extends gf{data(e={}){return super.data(e)}},DI=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ms(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new zo(this._firestore,this._userDataWriter,r.key,r,new ms(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new zo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ms(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new zo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ms(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:CH(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function CH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}function GI(t){t=Vr(t,Ft);let e=Vr(t.firestore,Di);return pH(BI(e),t._key).then(n=>TH(e,t,n))}var mf=class extends EI{constructor(e){super(),this.firestore=e}convertBytes(e){return new au(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}};function Tf(t){t=Vr(t,ia);let e=Vr(t.firestore,Di),n=BI(e),r=new mf(e);return DH(t._query),gH(n,t._query).then(i=>new DI(e,r,t,i))}function yu(t,e,n,...r){t=Vr(t,Ft);let i=Vr(t.firestore,Di),s=$I(i),o;return o=typeof(e=et(e))=="string"||e instanceof sa?IH(s,"updateDoc",t._key,e,n,r):_H(s,"updateDoc",t._key,e),KI(i,[o.toMutation(t._key,Pr.exists(!0))])}function WI(t){return KI(Vr(t.firestore,Di),[new nu(t._key,Pr.none())])}function Sf(t,e){let n=Vr(t.firestore,Di),r=Ci(t),i=bH(t.converter,e);return KI(n,[vH($I(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Pr.exists(!1))]).then(()=>r)}function KI(t,e){return function(r,i){let s=new An;return r.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return rH(yield fH(r),i,s)})),s.promise}(BI(t),e)}function TH(t,e,n){let r=n.docs.get(e._key),i=new mf(t);return new gf(t,i,e._key,r,new ms(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){oa=i})(mi),gi(new ln("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Di(new Gv(r.getProvider("auth-internal")),new Yv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $h(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),tt(qS,"4.7.1",e),tt(qS,"4.7.1","esm2017")})();var Xt=class{constructor(e){return e}},SR="firestore",QI=class{constructor(){return kc(SR)}};var YI=new H("angularfire2.firestore-instances");function SH(t,e){let n=ah(SR,t,e);return n&&new Xt(n)}function AH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Xt(r)}}var RH={provide:QI,deps:[[new St,YI]]},MH={provide:Xt,useFactory:SH,deps:[[new St,YI],br]};function AR(t,...e){return tt("angularfire",cs.full,"fst"),Ln([MH,RH,{provide:YI,useFactory:AH(t),multi:!0,deps:[Ce,xt,ko,ls,[new St,zc],[new St,Po],...e]}])}var RR=us(Sf,!0);var Vt=(()=>{class t{auth;firestore;task$=G([]);userSubject=new Qe(null);user$=this.userSubject.asObservable();constructor(n,r){this.auth=n,this.firestore=r,US(this.auth,i=>{this.userSubject.next(i)})}isAuthenticated(){return this.user$.pipe(ne(n=>!!n))}register(n,r){return Ah(this.auth,n,r)}login(n,r){return BS(this.auth,n,r)}google(){return xv(this.auth,new Ev)}facebook(){return xv(this.auth,new wv)}sendResetLink(n){return Sh(this.auth,n)}currentUser(){return this.auth.currentUser}logOut(){return this.auth.signOut()}addTask(n){return _(this,null,function*(){let r=bi(this.firestore,"tasks");return RR(r,n)})}static \u0275fac=function(r){return new(r||t)(ie(fs),ie(Xt))};static \u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function NH(t,e){if(t&1&&(k(0,"p",18),q(1),V()),t&2){let n=Ht();se(),jn(" ",n.message," ")}}var MR=(()=>{class t{firebaseService;router;message="";email="";password="";constructor(n,r){this.firebaseService=n,this.router=r}onLogin(){this.firebaseService.login(this.email,this.password).then(()=>{this.router.navigate(["/"])}).catch(()=>{this.message=" Please Enter Valied Email and Password!"})}onGoogle(){this.firebaseService.google().then(()=>{this.router.navigate(["/"])})}onFacebook(){this.firebaseService.facebook().then(()=>{this.router.navigate(["/"])})}static \u0275fac=function(r){return new(r||t)(B(Vt),B(Qt))};static \u0275cmp=mt({type:t,selectors:[["app-login"]],standalone:!0,features:[vt],decls:30,vars:3,consts:[[1,"bg-light","position-relative",2,"background-image","url('loginbackground.png')","background-size","cover","background-attachment","fixed","height","100vh"],[1,"container","d-flex","justify-content-center"],[1,"col-12","col-md-8","col-lg-4","border","p-4","bg-white","rounded-4","shadow","mt-5",3,"ngSubmit"],["src","logo.png","alt","logo","width","50px",1,"mb-4","d-block","mx-auto"],[1,"text-center","mb-4"],["class","alert alert-danger",4,"ngIf"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email ","id","email",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","email","name","email ","id","password",1,"form-control",3,"ngModelChange","ngModel"],["routerLink","/reset-password",1,"fs-6","text-black","fw-light","ms-2"],["type","submit",1,"btn","btn-dark","d-block","mx-auto","mt-3"],[1,"text-center","mt-3","mb-5"],["routerLink","/register"],["type","button",1,"btn","border","rounded-pill","shadow-sm","d-block","mx-auto","w-75","mt-2",3,"click"],[1,"bi","bi-google"],[1,"bi","bi-facebook"],[1,"alert","alert-danger"]],template:function(r,i){r&1&&(k(0,"div",0)(1,"div",1)(2,"form",2),ke("ngSubmit",function(){return i.onLogin()}),De(3,"img",3),k(4,"h1",4),q(5,"Login"),V(),yt(6,NH,2,1,"p",5),k(7,"div",6)(8,"label",7),q(9,"Email"),V(),k(10,"input",8),it("ngModelChange",function(o){return ut(i.email,o)||(i.email=o),o}),V()(),k(11,"div",6)(12,"label",9),q(13,"Password"),V(),k(14,"input",10),it("ngModelChange",function(o){return ut(i.password,o)||(i.password=o),o}),V(),k(15,"a",11),q(16,"Forget Password?"),V()(),k(17,"button",12),q(18," Login "),V(),k(19,"p",13),q(20,"Don't have an account? "),k(21,"a",14),q(22,"Register"),V()(),De(23,"hr"),k(24,"button",15),ke("click",function(){return i.onGoogle()}),q(25,"Continue With "),De(26,"i",16),V(),k(27,"button",15),ke("click",function(){return i.onFacebook()}),q(28,"Continue With "),De(29,"i",17),V()()()()),r&2&&(se(6),Xe("ngIf",i.message),se(4),rt("ngModel",i.email),se(4),rt("ngModel",i.password))},dependencies:[Gn,zn,un,Hn,qn,Tn,Cn,Dn,li,$n]})}return t})();function xH(t,e){if(t&1&&(k(0,"p",16),q(1),V()),t&2){let n=Ht();se(),jn(" ",n.message," ")}}var NR=(()=>{class t{firebaseService;router;firestore;message="";email="";password="";name="";constructor(n,r,i){this.firebaseService=n,this.router=r,this.firestore=i}onRegister(){return _(this,null,function*(){try{let r=(yield this.firebaseService.register(this.email,this.password)).user?.uid;this.router.navigate(["/login"]);let i=bi(this.firestore,"users");yield Sf(i,{uid:r,name:this.name,email:this.email})}catch(n){console.error("Error during registration:",n),this.message="Registration failed. Please try again."}})}static \u0275fac=function(r){return new(r||t)(B(Vt),B(Qt),B(Xt))};static \u0275cmp=mt({type:t,selectors:[["app-register"]],standalone:!0,features:[vt],decls:25,vars:4,consts:[[1,"bg-light","position-relative",2,"background-image","url('loginbackground.png')","background-size","cover","background-attachment","fixed","height","100vh"],[1,"container","d-flex","flex-column","align-items-center"],[1,"col-12","col-md-8","col-lg-4","mt-5","border","bg-white","p-4","rounded-4","shadow",3,"ngSubmit"],["src","logo.png","alt","logo","width","50px",1,"mb-4","d-block","mx-auto"],[1,"text-center","mb-4"],["class","alert alert-danger",4,"ngIf"],[1,"form-group"],["for","name",1,"form-label"],["type","text","name","name","id","name",1,"form-control","mb-3",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","name","email","id","email",1,"form-control","mb-3",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","email","name","email ","id","password",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-dark","mt-2","d-block","mx-auto"],[1,"text-center","mt-3","mb-5"],["routerLink","/login",1,"pe-auto"],[1,"alert","alert-danger"]],template:function(r,i){r&1&&(k(0,"div",0)(1,"div",1)(2,"form",2),ke("ngSubmit",function(){return i.onRegister()}),De(3,"img",3),k(4,"h1",4),q(5,"Register"),V(),yt(6,xH,2,1,"p",5),k(7,"div",6)(8,"label",7),q(9,"Name"),V(),k(10,"input",8),it("ngModelChange",function(o){return ut(i.name,o)||(i.name=o),o}),V()(),k(11,"div",6)(12,"label",9),q(13,"Email"),V(),k(14,"input",10),it("ngModelChange",function(o){return ut(i.email,o)||(i.email=o),o}),V()(),k(15,"div",6)(16,"label",11),q(17,"password"),V(),k(18,"input",12),it("ngModelChange",function(o){return ut(i.password,o)||(i.password=o),o}),V()(),k(19,"button",13),q(20,"Register"),V(),k(21,"p",14),q(22,"Already have an account? "),k(23,"a",15),q(24,"Login"),V()()()()()),r&2&&(se(6),Xe("ngIf",i.message),se(4),rt("ngModel",i.name),se(4),rt("ngModel",i.email),se(4),rt("ngModel",i.password))},dependencies:[Dn,li,Gn,zn,un,Hn,qn,Tn,Cn,$n]})}return t})();var xR=(()=>{class t{firebase;title="";description="";dueDate;constructor(n){this.firebase=n}addTask(){let n=this.firebase.currentUser();n&&(this.firebase.addTask({title:this.title,description:this.description,duedate:this.dueDate,userId:n.uid,status:"pending"}),this.title="",this.description="")}static \u0275fac=function(r){return new(r||t)(B(Vt))};static \u0275cmp=mt({type:t,selectors:[["app-add-task"]],standalone:!0,features:[vt],decls:24,vars:4,consts:[["f","ngForm"],[1,"bg-light","position-relative",2,"background-image","url('loginbackground.png')","background-size","cover","background-attachment","fixed","min-height","100vh"],[1,"container","d-flex","flex-column","align-items-center"],["src","Task-Master.png","alt","Title",1,"my-3"],[1,"mt-4","border","col-sm-12","col-lg-6","p-4","shadow","rounded-4","bg-white"],[1,"text-center","mb-4"],[1,"form-group"],["for","title",1,"form-label"],["type","text","name","title","id","title","ngModel","","required","",1,"form-control","mb-1",3,"ngModelChange","ngModel"],["for","description",1,"form-label"],["type","text","name","description","id","description","ngModel","","required","",1,"form-control","mb-1",3,"ngModelChange","ngModel"],["for","dueDate",1,"form-label"],["type","datetime-local","name","dueDate","id","dueDate","ngModel","","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","mt-3","justify-content-between"],["routerLink","/",1,"btn","btn-secondary"],["type","button",1,"btn","btn-dark","d-block",3,"click","disabled"]],template:function(r,i){if(r&1){let s=pr();k(0,"div",1)(1,"div",2),De(2,"img",3),k(3,"form",4,0)(5,"h2",5),q(6,"Add Task"),V(),k(7,"div",6)(8,"label",7),q(9,"Title"),V(),k(10,"input",8),it("ngModelChange",function(a){return kt(s),ut(i.title,a)||(i.title=a),Ot(a)}),V()(),k(11,"div",6)(12,"label",9),q(13,"Description"),V(),k(14,"input",10),it("ngModelChange",function(a){return kt(s),ut(i.description,a)||(i.description=a),Ot(a)}),V()(),k(15,"div",6)(16,"label",11),q(17,"Due Date"),V(),k(18,"input",12),it("ngModelChange",function(a){return kt(s),ut(i.dueDate,a)||(i.dueDate=a),Ot(a)}),V()(),k(19,"div",13)(20,"button",14),q(21,"Back"),V(),k(22,"button",15),ke("click",function(){return kt(s),Ot(i.addTask())}),q(23," Add "),V()()()()()}if(r&2){let s=Ya(4);se(10),rt("ngModel",i.title),se(4),rt("ngModel",i.description),se(4),rt("ngModel",i.dueDate),se(4),Xe("disabled",s.invalid)}},dependencies:[$n,Gn,zn,un,Hn,qn,Ac,Tn,Cn]})}return t})();function PH(t,e){if(t&1&&De(0,"img",7),t&2){let n=Ht();Xe("src",n.users.photoURL,sd)}}function kH(t,e){t&1&&De(0,"img",8)}function OH(t,e){if(t&1&&(De(0,"img",16),k(1,"h3",17),q(2),V(),k(3,"p",18),q(4),V()),t&2){let n=Ht();Xe("src",n.users==null?null:n.users.photoURL,sd),se(2),gr(n.users.displayName),se(2),gr(n.users.email)}}function FH(t,e){if(t&1&&(k(0,"div")(1,"h3",17),q(2),V(),k(3,"p",18),q(4),V()()),t&2){let n=e.$implicit;se(2),gr(n.name),se(2),gr(n.email)}}function VH(t,e){if(t&1&&(De(0,"img",19),yt(1,FH,5,2,"div",20),si(2,"async")),t&2){let n=Ht();se(),Xe("ngForOf",oi(2,1,n.user))}}function LH(t,e){if(t&1){let n=pr();k(0,"div",21)(1,"div",22)(2,"h3"),q(3),V(),k(4,"p"),q(5),V(),De(6,"hr"),k(7,"p"),De(8,"i",23),q(9),si(10,"date"),V(),k(11,"div",24)(12,"div",25)(13,"button",26),ke("click",function(){let i=kt(n).$implicit,s=Ht();return Ot(s.editTask(i))}),De(14,"i",27),q(15," Edit "),V(),k(16,"button",26),ke("click",function(){let i=kt(n).$implicit,s=Ht();return Ot(s.deleteTask(i))}),De(17,"i",28),q(18," Delete "),V()(),k(19,"div",29)(20,"p",30),q(21),V(),k(22,"button",31),ke("click",function(){let i=kt(n).$implicit,s=Ht();return Ot(s.statusUpdate(i))}),De(23,"i",32),V()()()()()}if(t&2){let n=e.$implicit;se(3),gr(n.title),se(2),gr(n.description),se(4),jn(" ",oi(10,4,n.duedate),""),se(12),gr(n.status)}}var PR=(()=>{class t{firebase;firestore;router;tasks=G([]);user=G([]);users;constructor(n,r,i){this.firebase=n,this.firestore=r,this.router=i}ngOnInit(){this.firebase.user$.subscribe(n=>{this.users=n,this.users&&(this.view(),this.profileView())})}view(){return _(this,null,function*(){try{let n=bi(this.firestore,"tasks"),r=bf(n,Cf("userId","==",this.users.uid)),i=yield Tf(r);this.tasks=G(i.docs.map(s=>O({id:s.id},s.data())))}catch(n){console.error("Error fetching tasks:",n)}})}profileView(){return _(this,null,function*(){try{let n=bi(this.firestore,"users"),r=bf(n,Cf("uid","==",this.users.uid)),i=yield Tf(r);this.user=G(i.docs.map(s=>s.data()))}catch{}})}logOut(){this.firebase.logOut(),this.router.navigate(["/login"])}editTask(n){n.id?this.router.navigate(["/edit-task",n.id]):console.error("Task ID is missing")}deleteTask(n){return _(this,null,function*(){try{let r=Ci(this.firestore,`tasks/${n.id}`);yield WI(r),this.view()}catch{}})}statusUpdate(n){return _(this,null,function*(){try{let r=Ci(this.firestore,`tasks/${n.id}`);yield yu(r,{status:"Completed"}),this.view()}catch{}})}static \u0275fac=function(r){return new(r||t)(B(Vt),B(Xt),B(Qt))};static \u0275cmp=mt({type:t,selectors:[["app-view-task"]],standalone:!0,features:[vt],decls:24,vars:5,consts:[[1,"bg-light","position-relative",2,"background-image","url('loginbackground.png')","background-size","cover","background-attachment","fixed","min-height","100vh"],[1,"container","d-flex","flex-column","align-items-center"],["src","Task-Master.png","alt","Title",1,"my-3"],[1,"bg-secondary","col-12","vh-75","px-2","px-lg-5","pb-5","shadow","overflow-auto","rounded-5"],[1,"mt-5","d-flex","justify-content-between"],["type","button","routerLink","/add-task",1,"btn","btn-dark"],[1,"bi","bi-plus-circle"],["data-bs-toggle","offcanvas","data-bs-target","#offcanvas","alt","User profile picture",1,"img-fluid","w-50","rounded-circle",3,"src"],["src","user.jpg","data-bs-toggle","offcanvas","data-bs-target","#offcanvas","alt","User profile picture","width","50px",1,"img-fluid","rounded-circle"],["id","offcanvas",1,"offcanvas","offcanvas-end"],[1,"offcanvas-header"],["id","offcanvasExampleLabel",1,"offcanvas-title"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close"],[1,"offcanvas-body"],[1,"btn","btn-dark","d-block","mx-auto","mt-5",3,"click"],["class","card col-sm-12 col-md-10 col-lg-8 m-3 shadow d-block mx-auto rounded-4 bg-light",4,"ngFor","ngForOf"],["data-bs-toggle","offcanvas","data-bs-target","#offcanvas","alt","User profile picture",1,"img-fluid","w-50","d-block","mx-auto","rounded-circle",3,"src"],[1,"text-center","mt-4"],[1,"text-center"],["src","user.jpg","data-bs-toggle","offcanvas","data-bs-target","#offcanvas","alt","User profile picture","width","150px",1,"img-fluid","rounded-circle","d-block","mx-auto"],[4,"ngFor","ngForOf"],[1,"card","col-sm-12","col-md-10","col-lg-8","m-3","shadow","d-block","mx-auto","rounded-4","bg-light"],[1,"card-body"],[1,"bi","bi-calendar-event"],[1,"d-flex","justify-content-between","align-items-center","flex-warp"],[1,"d-flex","flex-column","flex-lg-row"],[1,"btn","btn-dark","ms-4","mt-3","btn-sm",3,"click"],[1,"bi","bi-pencil-fill"],[1,"bi","bi-trash3-fill"],[1,"me-4"],[1,"badge","text-bg-warning"],[1,"btn","btn-primary","ms-3",3,"click"],[1,"bi","bi-check-circle-fill"]],template:function(r,i){r&1&&(k(0,"div",0)(1,"div",1),De(2,"img",2),k(3,"div",3)(4,"div",4)(5,"button",5),q(6," Add Task "),De(7,"i",6),V(),k(8,"div"),yt(9,PH,1,1,"img",7)(10,kH,1,0,"img",8),k(11,"div",9)(12,"div",10)(13,"h5",11),q(14," Profile "),V(),De(15,"button",12),V(),k(16,"div",13),yt(17,OH,5,3)(18,VH,3,3),k(19,"button",14),ke("click",function(){return i.logOut()}),q(20," LogOut "),V()()()()(),De(21,"hr"),yt(22,LH,24,6,"div",15),si(23,"async"),V()()()),r&2&&(se(9),fm(i.users.photoURL?9:10),se(8),fm(i.users.photoURL?17:18),se(5),Xe("ngForOf",oi(23,3,i.tasks)))},dependencies:[$n,Dn,t0,Td,r0]})}return t})();var Rf=(t,e)=>{let n=F(Qt);return F(Vt).isAuthenticated().pipe(ne(i=>i?!0:(n.navigate(["/login"]),!1)))};function jH(t,e){if(t&1&&(k(0,"p",8),q(1),V()),t&2){let n=Ht();se(),jn(" ",n.message," ")}}var kR=(()=>{class t{authService;cdr;email="";message="";constructor(n,r){this.authService=n,this.cdr=r}onsend(){this.authService.sendResetLink(this.email).then(()=>{this.message="Password reset link send Successfully, please cheack your inbox!",setTimeout(()=>{this.message=""},5e3)}).catch(()=>{this.message="Faild to send reset link, please enter valied email!"})}static \u0275fac=function(r){return new(r||t)(B(Vt),B(Un))};static \u0275cmp=mt({type:t,selectors:[["app-reset-password"]],standalone:!0,features:[vt],decls:11,vars:2,consts:[[1,"container","d-flex","flex-column","align-items-center","justify-content-center","mt-5"],["class","alert alert-warning",4,"ngIf"],[1,"col-12","col-md-8","col-lg-4","border","p-4","rounded-4","shadow",3,"ngSubmit"],[1,"text-center","mb-4"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email ","id","email",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-danger","d-block","mx-auto","mt-3"],[1,"alert","alert-warning"]],template:function(r,i){r&1&&(k(0,"div",0),yt(1,jH,2,1,"p",1),k(2,"form",2),ke("ngSubmit",function(){return i.onsend()}),k(3,"h1",3),q(4,"Reset Password"),V(),k(5,"div",4)(6,"label",5),q(7,"Email"),V(),k(8,"input",6),it("ngModelChange",function(o){return ut(i.email,o)||(i.email=o),o}),V()(),k(9,"button",7),q(10," Send Reset Link "),V()()()),r&2&&(se(),Xe("ngIf",i.message),se(7),rt("ngModel",i.email))},dependencies:[Gn,zn,un,Hn,qn,Tn,Cn,Dn,li]})}return t})();function UH(t,e){if(t&1){let n=pr();k(0,"div",10)(1,"label",11),q(2,"Title"),V(),k(3,"input",12),it("ngModelChange",function(i){let s=kt(n).ngIf;return ut(s.title,i)||(s.title=i),Ot(i)}),V()()}if(t&2){let n=e.ngIf;se(3),rt("ngModel",n.title)}}function BH(t,e){if(t&1){let n=pr();k(0,"div",10)(1,"label",13),q(2,"Description"),V(),k(3,"input",14),it("ngModelChange",function(i){let s=kt(n).ngIf;return ut(s.description,i)||(s.description=i),Ot(i)}),V()()}if(t&2){let n=e.ngIf;se(3),rt("ngModel",n.description)}}function $H(t,e){if(t&1){let n=pr();k(0,"div",10)(1,"label",15),q(2,"Due Date"),V(),k(3,"input",16),it("ngModelChange",function(i){let s=kt(n).ngIf;return ut(s.dueDate,i)||(s.dueDate=i),Ot(i)}),V()()}if(t&2){let n=e.ngIf;se(3),rt("ngModel",n.dueDate)}}var OR=(()=>{class t{firebase;firestore;route;router;taskId="";task$=G([]);constructor(n,r,i,s){this.firebase=n,this.firestore=r,this.route=i,this.router=s}ngOnInit(){this.route.paramMap.subscribe(n=>{this.taskId=n.get("id"),this.load()})}load(){return _(this,null,function*(){try{let n=Ci(this.firestore,`tasks/${this.taskId}`),r=yield GI(n);r.exists()&&(this.task$=G(r.data()))}catch{}})}update(n){return _(this,null,function*(){try{let r=Ci(this.firestore,`tasks/${this.taskId}`);yield yu(r,{title:n.value.title,description:n.value.description,duedate:n.value.dueDate}),console.log("updated")}catch(r){console.error("error",r)}})}static \u0275fac=function(r){return new(r||t)(B(Vt),B(Xt),B(wr),B(Qt))};static \u0275cmp=mt({type:t,selectors:[["app-edit-task"]],standalone:!0,features:[vt],decls:18,vars:10,consts:[["f","ngForm"],[1,"bg-light","position-relative",2,"background-image","url('loginbackground.png')","background-size","cover","background-attachment","fixed","min-height","100vh"],[1,"container","d-flex","flex-column","align-items-center"],["src","Task-Master.png","alt","Title",1,"my-3"],[1,"mt-4","border","col-sm-12","col-lg-6","p-4","shadow","rounded-4","bg-white"],[1,"text-center","mb-4"],["class","form-group",4,"ngIf"],[1,"d-flex","mt-3","justify-content-between"],["routerLink","/",1,"btn","btn-secondary"],["type","button",1,"btn","btn-dark","d-block",3,"click","disabled"],[1,"form-group"],["for","title",1,"form-label"],["type","text","name","title","id","title","required","","ngModel","",1,"form-control","mb-1",3,"ngModelChange","ngModel"],["for","description",1,"form-label"],["type","text","name","description","id","description","required","","ngModel","",1,"form-control","mb-1",3,"ngModelChange","ngModel"],["for","dueDate",1,"form-label"],["type","datetime-local","name","dueDate","id","dueDate","required","","ngModel","",1,"form-control",3,"ngModelChange","ngModel"]],template:function(r,i){if(r&1){let s=pr();k(0,"div",1)(1,"div",2),De(2,"img",3),k(3,"form",4,0)(5,"h2",5),q(6,"Edit Task"),V(),yt(7,UH,4,1,"div",6),si(8,"async"),yt(9,BH,4,1,"div",6),si(10,"async"),yt(11,$H,4,1,"div",6),si(12,"async"),k(13,"div",7)(14,"button",8),q(15,"Back"),V(),k(16,"button",9),ke("click",function(){kt(s);let a=Ya(4);return Ot(i.update(a))}),q(17," Save Changes "),V()()()()()}if(r&2){let s=Ya(4);se(7),Xe("ngIf",oi(8,4,i.task$)),se(2),Xe("ngIf",oi(10,6,i.task$)),se(2),Xe("ngIf",oi(12,8,i.task$)),se(5),Xe("disabled",s.invalid)}},dependencies:[Gn,zn,un,Hn,qn,Ac,Tn,Cn,Dn,li,Td,$n]})}return t})();var FR=[{path:"login",component:MR},{path:"register",component:NR},{path:"add-task",component:xR,canActivate:[Rf]},{path:"",component:PR,canActivate:[Rf]},{path:"reset-password",component:kR},{path:"edit-task/:id",component:OR,canActivate:[Rf]}];var HH={apiKey:"AIzaSyD-gSkei75s1GYACeyOpiB9IuhpTtN_c8g",authDomain:"taskmaster-v1.firebaseapp.com",projectId:"taskmaster-v1",storageBucket:"taskmaster-v1.appspot.com",messagingSenderId:"649629066740",appId:"1:649629066740:web:97f9b25c7ac3920d65c5a1",measurementId:"G-XZX03GK3BS"},VR={providers:[FC({eventCoalescing:!0}),Q0(FR),qT(()=>ih(HH)),AR(()=>UI()),jS(()=>Mh())]};var LR=(()=>{class t{title="task-management";static \u0275fac=function(r){return new(r||t)};static \u0275cmp=mt({type:t,selectors:[["app-root"]],standalone:!0,features:[vt],decls:1,vars:0,template:function(r,i){r&1&&De(0,"router-outlet")},dependencies:[hy]})}return t})();h0(LR,VR).catch(t=>console.error(t));
